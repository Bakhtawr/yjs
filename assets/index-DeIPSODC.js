(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Xg={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function jA(){if(N0)return hu;N0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return hu.Fragment=t,hu.jsx=e,hu.jsxs=e,hu}var O0;function HA(){return O0||(O0=1,Xg.exports=jA()),Xg.exports}var tt=HA(),$g={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function qA(){if(k0)return Ct;k0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,X={};function W(N,B,K){this.props=N,this.context=B,this.refs=X,this.updater=K||D}W.prototype.isReactComponent={},W.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},W.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function mt(){}mt.prototype=W.prototype;function ut(N,B,K){this.props=N,this.context=B,this.refs=X,this.updater=K||D}var it=ut.prototype=new mt;it.constructor=ut,U(it,W.prototype),it.isPureReactComponent=!0;var Et=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},It=Object.prototype.hasOwnProperty;function k(N,B,K,J,rt,ct){return K=ct.ref,{$$typeof:i,type:N,key:B,ref:K!==void 0?K:null,props:ct}}function A(N,B){return k(N.type,B,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function x(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return B[K]})}var M=/\/+/g;function L(N,B){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):B.toString(36)}function C(){}function he(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(B){N.status==="pending"&&(N.status="fulfilled",N.value=B)},function(B){N.status==="pending"&&(N.status="rejected",N.reason=B)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function re(N,B,K,J,rt){var ct=typeof N;(ct==="undefined"||ct==="boolean")&&(N=null);var at=!1;if(N===null)at=!0;else switch(ct){case"bigint":case"string":case"number":at=!0;break;case"object":switch(N.$$typeof){case i:case t:at=!0;break;case E:return at=N._init,re(at(N._payload),B,K,J,rt)}}if(at)return rt=rt(N),at=J===""?"."+L(N,0):J,Et(rt)?(K="",at!=null&&(K=at.replace(M,"$&/")+"/"),re(rt,B,K,"",function(pn){return pn})):rt!=null&&(I(rt)&&(rt=A(rt,K+(rt.key==null||N&&N.key===rt.key?"":(""+rt.key).replace(M,"$&/")+"/")+at)),B.push(rt)),1;at=0;var Qt=J===""?".":J+":";if(Et(N))for(var Ht=0;Ht<N.length;Ht++)J=N[Ht],ct=Qt+L(J,Ht),at+=re(J,B,K,ct,rt);else if(Ht=b(N),typeof Ht=="function")for(N=Ht.call(N),Ht=0;!(J=N.next()).done;)J=J.value,ct=Qt+L(J,Ht++),at+=re(J,B,K,ct,rt);else if(ct==="object"){if(typeof N.then=="function")return re(he(N),B,K,J,rt);throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return at}function G(N,B,K){if(N==null)return N;var J=[],rt=0;return re(N,J,"","",function(ct){return B.call(K,ct,rt++)}),J}function st(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var ht=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function jt(){}return Ct.Children={map:G,forEach:function(N,B,K){G(N,function(){B.apply(this,arguments)},K)},count:function(N){var B=0;return G(N,function(){B++}),B},toArray:function(N){return G(N,function(B){return B})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ct.Component=W,Ct.Fragment=e,Ct.Profiler=o,Ct.PureComponent=ut,Ct.StrictMode=r,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(N){return gt.H.useMemoCache(N)}},Ct.cache=function(N){return function(){return N.apply(null,arguments)}},Ct.cloneElement=function(N,B,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=U({},N.props),rt=N.key,ct=void 0;if(B!=null)for(at in B.ref!==void 0&&(ct=void 0),B.key!==void 0&&(rt=""+B.key),B)!It.call(B,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&B.ref===void 0||(J[at]=B[at]);var at=arguments.length-2;if(at===1)J.children=K;else if(1<at){for(var Qt=Array(at),Ht=0;Ht<at;Ht++)Qt[Ht]=arguments[Ht+2];J.children=Qt}return k(N.type,rt,void 0,void 0,ct,J)},Ct.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ct.createElement=function(N,B,K){var J,rt={},ct=null;if(B!=null)for(J in B.key!==void 0&&(ct=""+B.key),B)It.call(B,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(rt[J]=B[J]);var at=arguments.length-2;if(at===1)rt.children=K;else if(1<at){for(var Qt=Array(at),Ht=0;Ht<at;Ht++)Qt[Ht]=arguments[Ht+2];rt.children=Qt}if(N&&N.defaultProps)for(J in at=N.defaultProps,at)rt[J]===void 0&&(rt[J]=at[J]);return k(N,ct,void 0,void 0,null,rt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(N){return{$$typeof:g,render:N}},Ct.isValidElement=I,Ct.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:st}},Ct.memo=function(N,B){return{$$typeof:y,type:N,compare:B===void 0?null:B}},Ct.startTransition=function(N){var B=gt.T,K={};gt.T=K;try{var J=N(),rt=gt.S;rt!==null&&rt(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(jt,ht)}catch(ct){ht(ct)}finally{gt.T=B}},Ct.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},Ct.use=function(N){return gt.H.use(N)},Ct.useActionState=function(N,B,K){return gt.H.useActionState(N,B,K)},Ct.useCallback=function(N,B){return gt.H.useCallback(N,B)},Ct.useContext=function(N){return gt.H.useContext(N)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(N,B){return gt.H.useDeferredValue(N,B)},Ct.useEffect=function(N,B,K){var J=gt.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,B)},Ct.useId=function(){return gt.H.useId()},Ct.useImperativeHandle=function(N,B,K){return gt.H.useImperativeHandle(N,B,K)},Ct.useInsertionEffect=function(N,B){return gt.H.useInsertionEffect(N,B)},Ct.useLayoutEffect=function(N,B){return gt.H.useLayoutEffect(N,B)},Ct.useMemo=function(N,B){return gt.H.useMemo(N,B)},Ct.useOptimistic=function(N,B){return gt.H.useOptimistic(N,B)},Ct.useReducer=function(N,B,K){return gt.H.useReducer(N,B,K)},Ct.useRef=function(N){return gt.H.useRef(N)},Ct.useState=function(N){return gt.H.useState(N)},Ct.useSyncExternalStore=function(N,B,K){return gt.H.useSyncExternalStore(N,B,K)},Ct.useTransition=function(){return gt.H.useTransition()},Ct.version="19.1.0",Ct}var x0;function sp(){return x0||(x0=1,$g.exports=qA()),$g.exports}var me=sp(),Zg={exports:{}},fu={},Jg={exports:{}},Wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function FA(){return M0||(M0=1,function(i){function t(G,st){var ht=G.length;G.push(st);t:for(;0<ht;){var jt=ht-1>>>1,N=G[jt];if(0<o(N,st))G[jt]=st,G[ht]=N,ht=jt;else break t}}function e(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var st=G[0],ht=G.pop();if(ht!==st){G[0]=ht;t:for(var jt=0,N=G.length,B=N>>>1;jt<B;){var K=2*(jt+1)-1,J=G[K],rt=K+1,ct=G[rt];if(0>o(J,ht))rt<N&&0>o(ct,J)?(G[jt]=ct,G[rt]=ht,jt=rt):(G[jt]=J,G[K]=ht,jt=K);else if(rt<N&&0>o(ct,ht))G[jt]=ct,G[rt]=ht,jt=rt;else break t}}return st}function o(G,st){var ht=G.sortIndex-st.sortIndex;return ht!==0?ht:G.id-st.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var m=[],y=[],E=1,w=null,b=3,D=!1,U=!1,X=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Et(G){for(var st=e(y);st!==null;){if(st.callback===null)r(y);else if(st.startTime<=G)r(y),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(y)}}function gt(G){if(X=!1,Et(G),!U)if(e(m)!==null)U=!0,It||(It=!0,L());else{var st=e(y);st!==null&&re(gt,st.startTime-G)}}var It=!1,k=-1,A=5,I=-1;function x(){return W?!0:!(i.unstable_now()-I<A)}function M(){if(W=!1,It){var G=i.unstable_now();I=G;var st=!0;try{t:{U=!1,X&&(X=!1,ut(k),k=-1),D=!0;var ht=b;try{e:{for(Et(G),w=e(m);w!==null&&!(w.expirationTime>G&&x());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,b=w.priorityLevel;var N=jt(w.expirationTime<=G);if(G=i.unstable_now(),typeof N=="function"){w.callback=N,Et(G),st=!0;break e}w===e(m)&&r(m),Et(G)}else r(m);w=e(m)}if(w!==null)st=!0;else{var B=e(y);B!==null&&re(gt,B.startTime-G),st=!1}}break t}finally{w=null,b=ht,D=!1}st=void 0}}finally{st?L():It=!1}}}var L;if(typeof it=="function")L=function(){it(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,he=C.port2;C.port1.onmessage=M,L=function(){he.postMessage(null)}}else L=function(){mt(M,0)};function re(G,st){k=mt(function(){G(i.unstable_now())},st)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(G){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var ht=b;b=st;try{return G()}finally{b=ht}},i.unstable_requestPaint=function(){W=!0},i.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=b;b=G;try{return st()}finally{b=ht}},i.unstable_scheduleCallback=function(G,st,ht){var jt=i.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,G){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ht+N,G={id:E++,callback:st,priorityLevel:G,startTime:ht,expirationTime:N,sortIndex:-1},ht>jt?(G.sortIndex=ht,t(y,G),e(m)===null&&G===e(y)&&(X?(ut(k),k=-1):X=!0,re(gt,ht-jt))):(G.sortIndex=N,t(m,G),U||D||(U=!0,It||(It=!0,L()))),G},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(G){var st=b;return function(){var ht=b;b=st;try{return G.apply(this,arguments)}finally{b=ht}}}}(Wg)),Wg}var V0;function GA(){return V0||(V0=1,Jg.exports=FA()),Jg.exports}var tm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function YA(){if(U0)return nn;U0=1;var i=sp();function t(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(m,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(m,y,null,E)},nn.flushSync=function(m){var y=h.T,E=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=y,r.p=E,r.d.f()}},nn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},nn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},nn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var E=y.as,w=g(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:D}):E==="script"&&r.d.X(m,{crossOrigin:w,integrity:b,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},nn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=g(E,y.crossOrigin);r.d.L(m,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(m,y){if(typeof m=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},nn.requestFormReset=function(m){r.d.r(m)},nn.unstable_batchedUpdates=function(m,y){return m(y)},nn.useFormState=function(m,y,E){return h.H.useFormState(m,y,E)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var L0;function QA(){if(L0)return tm.exports;L0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),tm.exports=YA(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function KA(){if(P0)return fu;P0=1;var i=GA(),t=sp(),e=QA();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),n;if(d===l)return g(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case W:return"Profiler";case X:return"StrictMode";case gt:return"Suspense";case It:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case it:return(n.displayName||"Context")+".Provider";case ut:return(n._context.displayName||"Context")+".Consumer";case Et:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return s=n.displayName||null,s!==null?s:he(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return he(n(s))}catch{}}return null}var re=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],N=-1;function B(n){return{current:n}}function K(n){0>N||(n.current=jt[N],jt[N]=null,N--)}function J(n,s){N++,jt[N]=n.current,n.current=s}var rt=B(null),ct=B(null),at=B(null),Qt=B(null);function Ht(n,s){switch(J(at,s),J(ct,n),J(rt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?s0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=s0(s),n=r0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(rt),J(rt,n)}function pn(){K(rt),K(ct),K(at)}function kn(n){n.memoizedState!==null&&J(Qt,n);var s=rt.current,a=r0(s,n.type);s!==a&&(J(ct,n),J(rt,a))}function Ui(n){ct.current===n&&(K(rt),K(ct)),Qt.current===n&&(K(Qt),au._currentValue=ht)}var br=Object.prototype.hasOwnProperty,Ar=i.unstable_scheduleCallback,Rr=i.unstable_cancelCallback,il=i.unstable_shouldYield,ic=i.unstable_requestPaint,xn=i.unstable_now,Xf=i.unstable_getCurrentPriorityLevel,sl=i.unstable_ImmediatePriority,Da=i.unstable_UserBlockingPriority,Ir=i.unstable_NormalPriority,$f=i.unstable_LowPriority,Na=i.unstable_IdlePriority,rl=i.log,sc=i.unstable_setDisableYieldValue,fe=null,Kt=null;function wn(n){if(typeof rl=="function"&&sc(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(fe,n)}catch{}}var tn=Math.clz32?Math.clz32:Cr,rc=Math.log,Zf=Math.LN2;function Cr(n){return n>>>=0,n===0?32:31-(rc(n)/Zf|0)|0}var Dr=256,Nr=4194304;function Zn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Oa(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Zn(l):(v&=T,v!==0?f=Zn(v):a||(a=T&~n,a!==0&&(f=Zn(a))))):(T=l&~d,T!==0?f=Zn(T):v!==0?f=Zn(v):a||(a=l&~n,a!==0&&(f=Zn(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Or(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function al(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var n=Dr;return Dr<<=1,(Dr&4194048)===0&&(Dr=256),n}function ll(){var n=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),n}function Li(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Pi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ul(n,s,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,R=n.expirationTimes,j=n.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-tn(a),$=1<<Y;T[Y]=0,R[Y]=-1;var H=j[Y];if(H!==null)for(j[Y]=null,Y=0;Y<H.length;Y++){var q=H[Y];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&oi(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~s))}function oi(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-tn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function cl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-tn(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function As(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ka(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Rs(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:b0(n.type))}function ac(n,s){var a=st.p;try{return st.p=n,s()}finally{st.p=a}}var ae=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ae,we="__reactProps$"+ae,Mn="__reactContainer$"+ae,hl="__reactEvents$"+ae,Jf="__reactListeners$"+ae,Is="__reactHandles$"+ae,oc="__reactResources$"+ae,kr="__reactMarker$"+ae;function Cs(n){delete n[Ie],delete n[we],delete n[hl],delete n[Jf],delete n[Is]}function zi(n){var s=n[Ie];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Mn]||a[Ie]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=u0(n);n!==null;){if(a=n[Ie])return a;n=u0(n)}return s}n=a,a=n.parentNode}return null}function li(n){if(n=n[Ie]||n[Mn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ui(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function fn(n){var s=n[oc];return s||(s=n[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ye(n){n[kr]=!0}var fl=new Set,xa={};function Jn(n,s){Bi(n,s),Bi(n+"Capture",s)}function Bi(n,s){for(xa[n]=s,n=0;n<s.length;n++)fl.add(s[n])}var lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},xr={};function cc(n){return br.call(xr,n)?!0:br.call(uc,n)?!1:lc.test(n)?xr[n]=!0:(uc[n]=!0,!1)}function Ds(n,s,a){if(cc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function ci(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ge(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Mr,hc;function ji(n){if(Mr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Mr=s&&s[1]||"",hc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+n+hc}var Ma=!1;function Va(n,s){if(!n||Ma)return"";Ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var H=q}Reflect.construct(n,[],$)}else{try{$.call()}catch(q){H=q}n.call($.prototype)}}else{try{throw Error()}catch(q){H=q}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),j=T.split(`
`);for(f=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===R.length||f===j.length)for(l=R.length-1,f=j.length-1;1<=l&&0<=f&&R[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(R[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||R[l]!==j[f]){var Y=`
`+R[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Ma=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ji(a):""}function dl(n){switch(n.tag){case 26:case 27:case 5:return ji(n.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Va(n.type,!1);case 11:return Va(n.type.render,!1);case 1:return Va(n.type,!0);case 31:return ji("Activity");default:return""}}function Ua(n){try{var s="";do s+=dl(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Wf(n){var s=gl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function La(n){n._valueTracker||(n._valueTracker=Wf(n))}function ml(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=gl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var td=/[\n"\\]/g;function Se(n){return n.replace(td,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sn(n,s,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+dn(s)):n.value!==""+dn(s)&&(n.value=""+dn(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?Ns(n,v,dn(s)):a!=null?Ns(n,v,dn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+dn(T):n.removeAttribute("name")}function Ur(n,s,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+dn(a):"",s=s!=null?""+dn(s):a,T||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Ns(n,s,a){s==="number"&&Vr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Hi(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Zt(n,s,a){if(s!=null&&(s=""+dn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+dn(a):""}function Lr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=dn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Vn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Pr.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function pl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&fc(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&fc(n,d,s[d])}function yl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(n){return nd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var qi=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fi=null,Gi=null;function _l(n){var s=li(n);if(s&&(n=s.stateNode)){var a=n[we]||null;t:switch(n=s.stateNode,s.type){case"input":if(Sn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[we]||null;if(!f)throw Error(r(90));Sn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&ml(l)}break t;case"textarea":Zt(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Hi(n,!!a.multiple,s,!1)}}}var hi=!1;function dc(n,s,a){if(hi)return n(s,a);hi=!0;try{var l=n(s);return l}finally{if(hi=!1,(Fi!==null||Gi!==null)&&(ah(),Fi&&(s=Fi,n=Gi,Gi=Fi=null,_l(s),n)))for(s=0;s<n.length;s++)_l(n[s])}}function zr(n,s){var a=n.stateNode;if(a===null)return null;var l=a[we]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Wn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Ln=!1}var fi=null,Os=null,Yi=null;function vl(){if(Yi)return Yi;var n,s=Os,a=s.length,l,f="value"in fi?fi.value:fi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return Yi=f.slice(n,1<l?1-l:void 0)}function di(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function gi(){return!0}function El(){return!1}function Le(n){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gi:El,this.isPropagationStopped=El,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Le(Gt),jr=E({},Gt,{view:0,detail:0}),gc=Le(jr),Ba,ja,mi,Hr=E({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mi&&(mi&&n.type==="mousemove"?(Ba=n.screenX-mi.screenX,ja=n.screenY-mi.screenY):ja=Ba=0,mi=n),Ba)},movementY:function(n){return"movementY"in n?n.movementY:ja}}),Pn=Le(Hr),mc=E({},Hr,{dataTransfer:0}),id=Le(mc),qr=E({},jr,{relatedTarget:0}),Ha=Le(qr),Tl=E({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Le(Tl),pc=E({},Gt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fa=Le(pc),sd=E({},Gt,{data:0}),wl=Le(sd),Fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=_c[n])?!!s[n]:!1}function Gr(){return Sl}var vc=E({},jr,{key:function(n){if(n.key){var s=Fr[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(n){return n.type==="keypress"?di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ga=Le(vc),Ec=E({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Le(Ec),Qi=E({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),Tc=Le(Qi),wc=E({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sc=Le(wc),bc=E({},Hr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Le(bc),gn=E({},Gt,{newState:0,oldState:0}),Ac=Le(gn),Rc=[9,13,27,32],pi=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var p=Wn&&"TextEvent"in window&&!c,_=Wn&&(!pi||c&&8<c&&11>=c),S=" ",P=!1;function F(n,s){switch(n){case"keyup":return Rc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Lt=!1;function Ce(n,s){switch(n){case"compositionend":return nt(s);case"keypress":return s.which!==32?null:(P=!0,S);case"textInput":return n=s.data,n===S&&P?null:n;default:return null}}function Pt(n,s){if(Lt)return n==="compositionend"||!pi&&F(n,s)?(n=vl(),Yi=Os=fi=null,Lt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Pe[n.type]:s==="textarea"}function Ki(n,s,a,l){Fi?Gi?Gi.push(l):Gi=[l]:Fi=l,s=fh(s,"onChange"),0<s.length&&(a=new za("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Ye=null,yi=null;function Al(n){Wv(n,0)}function Ic(n){var s=ui(n);if(ml(s))return n}function Ey(n,s){if(n==="change")return s}var Ty=!1;if(Wn){var rd;if(Wn){var ad="oninput"in document;if(!ad){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),ad=typeof wy.oninput=="function"}rd=ad}else rd=!1;Ty=rd&&(!document.documentMode||9<document.documentMode)}function Sy(){Ye&&(Ye.detachEvent("onpropertychange",by),yi=Ye=null)}function by(n){if(n.propertyName==="value"&&Ic(yi)){var s=[];Ki(s,yi,n,Un(n)),dc(Al,s)}}function yb(n,s,a){n==="focusin"?(Sy(),Ye=s,yi=a,Ye.attachEvent("onpropertychange",by)):n==="focusout"&&Sy()}function _b(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ic(yi)}function vb(n,s){if(n==="click")return Ic(s)}function Eb(n,s){if(n==="input"||n==="change")return Ic(s)}function Tb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var bn=typeof Object.is=="function"?Object.is:Tb;function Rl(n,s){if(bn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!br.call(s,f)||!bn(n[f],s[f]))return!1}return!0}function Ay(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ry(n,s){var a=Ay(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ay(a)}}function Iy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Iy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Cy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Vr(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Vr(n.document)}return s}function od(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var wb=Wn&&"documentMode"in document&&11>=document.documentMode,Qa=null,ld=null,Il=null,ud=!1;function Dy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ud||Qa==null||Qa!==Vr(l)||(l=Qa,"selectionStart"in l&&od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&Rl(Il,l)||(Il=l,l=fh(ld,"onSelect"),0<l.length&&(s=new za("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Qa)))}function Yr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ka={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},cd={},Ny={};Wn&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Qr(n){if(cd[n])return cd[n];if(!Ka[n])return n;var s=Ka[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ny)return cd[n]=s[a];return n}var Oy=Qr("animationend"),ky=Qr("animationiteration"),xy=Qr("animationstart"),Sb=Qr("transitionrun"),bb=Qr("transitionstart"),Ab=Qr("transitioncancel"),My=Qr("transitionend"),Vy=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function ti(n,s){Vy.set(n,s),Jn(s,[n])}var Uy=new WeakMap;function zn(n,s){if(typeof n=="object"&&n!==null){var a=Uy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Ua(s)},Uy.set(n,s),s)}return{value:n,source:s,stack:Ua(s)}}var Bn=[],Xa=0,fd=0;function Cc(){for(var n=Xa,s=fd=Xa=0;s<n;){var a=Bn[s];Bn[s++]=null;var l=Bn[s];Bn[s++]=null;var f=Bn[s];Bn[s++]=null;var d=Bn[s];if(Bn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Ly(a,f,d)}}function Dc(n,s,a,l){Bn[Xa++]=n,Bn[Xa++]=s,Bn[Xa++]=a,Bn[Xa++]=l,fd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function dd(n,s,a,l){return Dc(n,s,a,l),Nc(n)}function $a(n,s){return Dc(n,null,null,s),Nc(n)}function Ly(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-tn(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Nc(n){if(50<Jl)throw Jl=0,vg=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Za={};function Rb(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,s,a,l){return new Rb(n,s,a,l)}function gd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xi(n,s){var a=n.alternate;return a===null?(a=An(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Py(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Oc(n,s,a,l,f,d){var v=0;if(l=n,typeof n=="function")gd(n)&&(v=1);else if(typeof n=="string")v=CA(n,a,rt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=An(31,a,s,f),n.elementType=I,n.lanes=d,n;case U:return Kr(a.children,f,d,s);case X:v=8,f|=24;break;case W:return n=An(12,a,s,f|2),n.elementType=W,n.lanes=d,n;case gt:return n=An(13,a,s,f),n.elementType=gt,n.lanes=d,n;case It:return n=An(19,a,s,f),n.elementType=It,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case mt:case it:v=10;break t;case ut:v=9;break t;case Et:v=11;break t;case k:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=An(v,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function Kr(n,s,a,l){return n=An(7,n,l,s),n.lanes=a,n}function md(n,s,a){return n=An(6,n,null,s),n.lanes=a,n}function pd(n,s,a){return s=An(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ja=[],Wa=0,kc=null,xc=0,jn=[],Hn=0,Xr=null,$i=1,Zi="";function $r(n,s){Ja[Wa++]=xc,Ja[Wa++]=kc,kc=n,xc=s}function zy(n,s,a){jn[Hn++]=$i,jn[Hn++]=Zi,jn[Hn++]=Xr,Xr=n;var l=$i;n=Zi;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var d=32-tn(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,$i=1<<32-tn(s)+f|a<<f|l,Zi=d+n}else $i=1<<d|a<<f|l,Zi=n}function yd(n){n.return!==null&&($r(n,1),zy(n,1,0))}function _d(n){for(;n===kc;)kc=Ja[--Wa],Ja[Wa]=null,xc=Ja[--Wa],Ja[Wa]=null;for(;n===Xr;)Xr=jn[--Hn],jn[Hn]=null,Zi=jn[--Hn],jn[Hn]=null,$i=jn[--Hn],jn[Hn]=null}var mn=null,de=null,Ft=!1,Zr=null,_i=!1,vd=Error(r(519));function Jr(n){var s=Error(r(418,""));throw Nl(zn(s,n)),vd}function By(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ie]=n,s[we]=l,a){case"dialog":xt("cancel",s),xt("close",s);break;case"iframe":case"object":case"embed":xt("load",s);break;case"video":case"audio":for(a=0;a<tu.length;a++)xt(tu[a],s);break;case"source":xt("error",s);break;case"img":case"image":case"link":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"input":xt("invalid",s),Ur(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),La(s);break;case"select":xt("invalid",s);break;case"textarea":xt("invalid",s),Lr(s,l.value,l.defaultValue,l.children),La(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||i0(s.textContent,a)?(l.popover!=null&&(xt("beforetoggle",s),xt("toggle",s)),l.onScroll!=null&&xt("scroll",s),l.onScrollEnd!=null&&xt("scrollend",s),l.onClick!=null&&(s.onclick=dh),s=!0):s=!1,s||Jr(n)}function jy(n){for(mn=n.return;mn;)switch(mn.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:mn=mn.return}}function Cl(n){if(n!==mn)return!1;if(!Ft)return jy(n),Ft=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Vg(n.type,n.memoizedProps)),a=!a),a&&de&&Jr(n),jy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){de=ni(n.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}de=null}}else s===27?(s=de,Qs(n.type)?(n=zg,zg=null,de=n):de=s):de=mn?ni(n.stateNode.nextSibling):null;return!0}function Dl(){de=mn=null,Ft=!1}function Hy(){var n=Zr;return n!==null&&(vn===null?vn=n:vn.push.apply(vn,n),Zr=null),n}function Nl(n){Zr===null?Zr=[n]:Zr.push(n)}var Ed=B(null),Wr=null,Ji=null;function ks(n,s,a){J(Ed,s._currentValue),s._currentValue=a}function Wi(n){n._currentValue=Ed.current,K(Ed)}function Td(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function wd(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var R=0;R<s.length;R++)if(T.context===s[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Td(d.return,a,n),l||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Td(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ol(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=f.type;bn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===Qt.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(au):n=[au])}f=f.return}n!==null&&wd(s,n,a,l),s.flags|=262144}function Mc(n){for(n=n.firstContext;n!==null;){if(!bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){Wr=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return qy(Wr,n)}function Vc(n,s){return Wr===null&&ta(n),qy(n,s)}function qy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ji===null){if(n===null)throw Error(r(308));Ji=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ji=Ji.next=s;return a}var Ib=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Cb=i.unstable_scheduleCallback,Db=i.unstable_NormalPriority,Ne={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new Ib,data:new Map,refCount:0}}function kl(n){n.refCount--,n.refCount===0&&Cb(Db,function(){n.controller.abort()})}var xl=null,bd=0,to=0,eo=null;function Nb(n,s){if(xl===null){var a=xl=[];bd=0,to=Rg(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bd++,s.then(Fy,Fy),s}function Fy(){if(--bd===0&&xl!==null){eo!==null&&(eo.status="fulfilled");var n=xl;xl=null,to=0,eo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Ob(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Gy=G.S;G.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Nb(n,s),Gy!==null&&Gy(n,s)};var ea=B(null);function Ad(){var n=ea.current;return n!==null?n:ie.pooledCache}function Uc(n,s){s===null?J(ea,ea.current):J(ea,s.pool)}function Yy(){var n=Ad();return n===null?null:{parent:Ne._currentValue,pool:n}}var Ml=Error(r(460)),Qy=Error(r(474)),Lc=Error(r(542)),Rd={then:function(){}};function Ky(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pc(){}function Xy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Pc,Pc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Zy(n),n;default:if(typeof s.status=="string")s.then(Pc,Pc);else{if(n=ie,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Zy(n),n}throw Vl=s,Ml}}var Vl=null;function $y(){if(Vl===null)throw Error(r(459));var n=Vl;return Vl=null,n}function Zy(n){if(n===Ml||n===Lc)throw Error(r(483))}var xs=!1;function Id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ms(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vs(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Nc(n),Ly(n,null,a),s}return Dc(n,l,s,a),Nc(n)}function Ul(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,cl(n,a)}}function Dd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Nd=!1;function Ll(){if(Nd){var n=eo;if(n!==null)throw n}}function Pl(n,s,a,l){Nd=!1;var f=n.updateQueue;xs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var R=T,j=R.next;R.next=null,v===null?d=j:v.next=j,v=R;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=j:T.next=j,Y.lastBaseUpdate=R))}if(d!==null){var $=f.baseState;v=0,Y=j=R=null,T=d;do{var H=T.lane&-536870913,q=H!==T.lane;if(q?(zt&H)===H:(l&H)===H){H!==0&&H===to&&(Nd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=n,pt=T;H=s;var te=a;switch(pt.tag){case 1:if(Tt=pt.payload,typeof Tt=="function"){$=Tt.call(te,$,H);break t}$=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=pt.payload,H=typeof Tt=="function"?Tt.call(te,$,H):Tt,H==null)break t;$=E({},$,H);break t;case 2:xs=!0}}H=T.callback,H!==null&&(n.flags|=64,q&&(n.flags|=8192),q=f.callbacks,q===null?f.callbacks=[H]:q.push(H))}else q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(j=Y=q,R=$):Y=Y.next=q,v|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;q=T,T=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Y===null&&(R=$),f.baseState=R,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),qs|=v,n.lanes=v,n.memoizedState=$}}function Jy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Wy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Jy(a[n],s)}var no=B(null),zc=B(0);function t_(n,s){n=as,J(zc,n),J(no,s),as=n|s.baseLanes}function Od(){J(zc,as),J(no,no.current)}function kd(){as=zc.current,K(no),K(zc)}var Us=0,Dt=null,Jt=null,be=null,Bc=!1,io=!1,na=!1,jc=0,zl=0,so=null,kb=0;function _e(){throw Error(r(321))}function xd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!bn(n[a],s[a]))return!1;return!0}function Md(n,s,a,l,f,d){return Us=d,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=n===null||n.memoizedState===null?L_:P_,na=!1,d=a(l,f),na=!1,io&&(d=n_(s,a,l,f)),e_(n),d}function e_(n){G.H=Qc;var s=Jt!==null&&Jt.next!==null;if(Us=0,be=Jt=Dt=null,Bc=!1,zl=0,so=null,s)throw Error(r(300));n===null||ze||(n=n.dependencies,n!==null&&Mc(n)&&(ze=!0))}function n_(n,s,a,l){Dt=n;var f=0;do{if(io&&(so=null),zl=0,io=!1,25<=f)throw Error(r(301));if(f+=1,be=Jt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=zb,d=s(a,l)}while(io);return d}function xb(){var n=G.H,s=n.useState()[0];return s=typeof s.then=="function"?Bl(s):s,n=n.useState()[0],(Jt!==null?Jt.memoizedState:null)!==n&&(Dt.flags|=1024),s}function Vd(){var n=jc!==0;return jc=0,n}function Ud(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Ld(n){if(Bc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bc=!1}Us=0,be=Jt=Dt=null,io=!1,zl=jc=0,so=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Dt.memoizedState=be=n:be=be.next=n,be}function Ae(){if(Jt===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=Jt.next;var s=be===null?Dt.memoizedState:be.next;if(s!==null)be=s,Jt=n;else{if(n===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Jt=n,n={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?Dt.memoizedState=be=n:be=be.next=n}return be}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(n){var s=zl;return zl+=1,so===null&&(so=[]),n=Xy(so,n,s),s=Dt,(be===null?s.memoizedState:be.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?L_:P_),n}function Hc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===it)return en(n)}throw Error(r(438,String(n)))}function zd(n){var s=null,a=Dt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Pd(),Dt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=x;return s.index++,a}function ts(n,s){return typeof s=="function"?s(n):s}function qc(n){var s=Ae();return Bd(s,Jt,n)}function Bd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var T=v=null,R=null,j=s,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(zt&$)===$:(Us&$)===$){var H=j.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===to&&(Y=!0);else if((Us&H)===H){j=j.next,H===to&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=$,v=d):R=R.next=$,Dt.lanes|=H,qs|=H;$=j.action,na&&a(d,$),d=j.hasEagerState?j.eagerState:a(d,$)}else H={lane:$,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=H,v=d):R=R.next=H,Dt.lanes|=$,qs|=$;j=j.next}while(j!==null&&j!==s);if(R===null?v=d:R.next=T,!bn(d,n.memoizedState)&&(ze=!0,Y&&(a=eo,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=R,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function jd(n){var s=Ae(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);bn(d,s.memoizedState)||(ze=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function i_(n,s,a){var l=Dt,f=Ae(),d=Ft;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!bn((Jt||f).memoizedState,a);v&&(f.memoizedState=a,ze=!0),f=f.queue;var T=a_.bind(null,l,f,n);if(jl(2048,8,T,[n]),f.getSnapshot!==s||v||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,ro(9,Fc(),r_.bind(null,l,f,a,s),null),ie===null)throw Error(r(349));d||(Us&124)!==0||s_(l,s,a)}return a}function s_(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Dt.updateQueue,s===null?(s=Pd(),Dt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function r_(n,s,a,l){s.value=a,s.getSnapshot=l,o_(s)&&l_(n)}function a_(n,s,a){return a(function(){o_(s)&&l_(n)})}function o_(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!bn(n,a)}catch{return!0}}function l_(n){var s=$a(n,2);s!==null&&Nn(s,n,2)}function Hd(n){var s=yn();if(typeof n=="function"){var a=n;if(n=a(),na){wn(!0);try{a()}finally{wn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:n},s}function u_(n,s,a,l){return n.baseState=a,Bd(n,Jt,typeof l=="function"?l:ts)}function Mb(n,s,a,l,f){if(Yc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,c_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function c_(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=G.T,v={};G.T=v;try{var T=a(f,l),R=G.S;R!==null&&R(v,T),h_(n,s,T)}catch(j){qd(n,s,j)}finally{G.T=d}}else try{d=a(f,l),h_(n,s,d)}catch(j){qd(n,s,j)}}function h_(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){f_(n,s,l)},function(l){return qd(n,s,l)}):f_(n,s,a)}function f_(n,s,a){s.status="fulfilled",s.value=a,d_(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,c_(n,a)))}function qd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,d_(s),s=s.next;while(s!==l)}n.action=null}function d_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function g_(n,s){return s}function m_(n,s){if(Ft){var a=ie.formState;if(a!==null){t:{var l=Dt;if(Ft){if(de){e:{for(var f=de,d=_i;f.nodeType!==8;){if(!d){f=null;break e}if(f=ni(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){de=ni(f.nextSibling),l=f.data==="F!";break t}}Jr(l)}l=!1}l&&(s=a[0])}}return a=yn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:s},a.queue=l,a=M_.bind(null,Dt,l),l.dispatch=a,l=Hd(!1),d=Kd.bind(null,Dt,!1,l.queue),l=yn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Mb.bind(null,Dt,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function p_(n){var s=Ae();return y_(s,Jt,n)}function y_(n,s,a){if(s=Bd(n,s,g_)[0],n=qc(ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Bl(s)}catch(v){throw v===Ml?Lc:v}else l=s;s=Ae();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Dt.flags|=2048,ro(9,Fc(),Vb.bind(null,f,a),null)),[l,d,n]}function Vb(n,s){n.action=s}function __(n){var s=Ae(),a=Jt;if(a!==null)return y_(s,a,n);Ae(),s=s.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function ro(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=Pd(),Dt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Fc(){return{destroy:void 0,resource:void 0}}function v_(){return Ae().memoizedState}function Gc(n,s,a,l){var f=yn();l=l===void 0?null:l,Dt.flags|=n,f.memoizedState=ro(1|s,Fc(),a,l)}function jl(n,s,a,l){var f=Ae();l=l===void 0?null:l;var d=f.memoizedState.inst;Jt!==null&&l!==null&&xd(l,Jt.memoizedState.deps)?f.memoizedState=ro(s,d,a,l):(Dt.flags|=n,f.memoizedState=ro(1|s,d,a,l))}function E_(n,s){Gc(8390656,8,n,s)}function T_(n,s){jl(2048,8,n,s)}function w_(n,s){return jl(4,2,n,s)}function S_(n,s){return jl(4,4,n,s)}function b_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function A_(n,s,a){a=a!=null?a.concat([n]):null,jl(4,4,b_.bind(null,s,n),a)}function Fd(){}function R_(n,s){var a=Ae();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&xd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function I_(n,s){var a=Ae();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&xd(s,l[1]))return l[0];if(l=n(),na){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,s],l}function Gd(n,s,a){return a===void 0||(Us&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=Nv(),Dt.lanes|=n,qs|=n,a)}function C_(n,s,a,l){return bn(a,s)?a:no.current!==null?(n=Gd(n,a,l),bn(n,s)||(ze=!0),n):(Us&42)===0?(ze=!0,n.memoizedState=a):(n=Nv(),Dt.lanes|=n,qs|=n,s)}function D_(n,s,a,l,f){var d=st.p;st.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Kd(n,!1,s,a);try{var R=f(),j=G.S;if(j!==null&&j(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=Ob(R,l);Hl(n,s,Y,Dn(n))}else Hl(n,s,l,Dn(n))}catch($){Hl(n,s,{then:function(){},status:"rejected",reason:$},Dn())}finally{st.p=d,G.T=v}}function Ub(){}function Yd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=N_(n).queue;D_(n,f,s,ht,a===null?Ub:function(){return O_(n),a(l)})}function N_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function O_(n){var s=N_(n).next.queue;Hl(n,s,{},Dn())}function Qd(){return en(au)}function k_(){return Ae().memoizedState}function x_(){return Ae().memoizedState}function Lb(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();n=Ms(a);var l=Vs(s,n,a);l!==null&&(Nn(l,s,a),Ul(l,s,a)),s={cache:Sd()},n.payload=s;return}s=s.return}}function Pb(n,s,a){var l=Dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yc(n)?V_(s,a):(a=dd(n,s,a,l),a!==null&&(Nn(a,n,l),U_(a,s,l)))}function M_(n,s,a){var l=Dn();Hl(n,s,a,l)}function Hl(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yc(n))V_(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,bn(T,v))return Dc(n,s,f,0),ie===null&&Cc(),!1}catch{}finally{}if(a=dd(n,s,f,l),a!==null)return Nn(a,n,l),U_(a,s,l),!0}return!1}function Kd(n,s,a,l){if(l={lane:2,revertLane:Rg(),action:l,hasEagerState:!1,eagerState:null,next:null},Yc(n)){if(s)throw Error(r(479))}else s=dd(n,a,l,2),s!==null&&Nn(s,n,2)}function Yc(n){var s=n.alternate;return n===Dt||s!==null&&s===Dt}function V_(n,s){io=Bc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function U_(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,cl(n,a)}}var Qc={readContext:en,use:Hc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},L_={readContext:en,use:Hc,useCallback:function(n,s){return yn().memoizedState=[n,s===void 0?null:s],n},useContext:en,useEffect:E_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Gc(4194308,4,b_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Gc(4194308,4,n,s)},useInsertionEffect:function(n,s){Gc(4,2,n,s)},useMemo:function(n,s){var a=yn();s=s===void 0?null:s;var l=n();if(na){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=yn();if(a!==void 0){var f=a(s);if(na){wn(!0);try{a(s)}finally{wn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Pb.bind(null,Dt,n),[l.memoizedState,n]},useRef:function(n){var s=yn();return n={current:n},s.memoizedState=n},useState:function(n){n=Hd(n);var s=n.queue,a=M_.bind(null,Dt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Fd,useDeferredValue:function(n,s){var a=yn();return Gd(a,n,s)},useTransition:function(){var n=Hd(!1);return n=D_.bind(null,Dt,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Dt,f=yn();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ie===null)throw Error(r(349));(zt&124)!==0||s_(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,E_(a_.bind(null,l,d,n),[n]),l.flags|=2048,ro(9,Fc(),r_.bind(null,l,d,a,s),null),a},useId:function(){var n=yn(),s=ie.identifierPrefix;if(Ft){var a=Zi,l=$i;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=jc++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=kb++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:Qd,useFormState:m_,useActionState:m_,useOptimistic:function(n){var s=yn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Kd.bind(null,Dt,!0,a),a.dispatch=s,[n,s]},useMemoCache:zd,useCacheRefresh:function(){return yn().memoizedState=Lb.bind(null,Dt)}},P_={readContext:en,use:Hc,useCallback:R_,useContext:en,useEffect:T_,useImperativeHandle:A_,useInsertionEffect:w_,useLayoutEffect:S_,useMemo:I_,useReducer:qc,useRef:v_,useState:function(){return qc(ts)},useDebugValue:Fd,useDeferredValue:function(n,s){var a=Ae();return C_(a,Jt.memoizedState,n,s)},useTransition:function(){var n=qc(ts)[0],s=Ae().memoizedState;return[typeof n=="boolean"?n:Bl(n),s]},useSyncExternalStore:i_,useId:k_,useHostTransitionStatus:Qd,useFormState:p_,useActionState:p_,useOptimistic:function(n,s){var a=Ae();return u_(a,Jt,n,s)},useMemoCache:zd,useCacheRefresh:x_},zb={readContext:en,use:Hc,useCallback:R_,useContext:en,useEffect:T_,useImperativeHandle:A_,useInsertionEffect:w_,useLayoutEffect:S_,useMemo:I_,useReducer:jd,useRef:v_,useState:function(){return jd(ts)},useDebugValue:Fd,useDeferredValue:function(n,s){var a=Ae();return Jt===null?Gd(a,n,s):C_(a,Jt.memoizedState,n,s)},useTransition:function(){var n=jd(ts)[0],s=Ae().memoizedState;return[typeof n=="boolean"?n:Bl(n),s]},useSyncExternalStore:i_,useId:k_,useHostTransitionStatus:Qd,useFormState:__,useActionState:__,useOptimistic:function(n,s){var a=Ae();return Jt!==null?u_(a,Jt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:zd,useCacheRefresh:x_},ao=null,ql=0;function Kc(n){var s=ql;return ql+=1,ao===null&&(ao=[]),Xy(ao,n,s)}function Fl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Xc(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function z_(n){var s=n._init;return s(n._payload)}function B_(n){function s(V,O){if(n){var z=V.deletions;z===null?(V.deletions=[O],V.flags|=16):z.push(O)}}function a(V,O){if(!n)return null;for(;O!==null;)s(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function f(V,O){return V=Xi(V,O),V.index=0,V.sibling=null,V}function d(V,O,z){return V.index=z,n?(z=V.alternate,z!==null?(z=z.index,z<O?(V.flags|=67108866,O):z):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function v(V){return n&&V.alternate===null&&(V.flags|=67108866),V}function T(V,O,z,Q){return O===null||O.tag!==6?(O=md(z,V.mode,Q),O.return=V,O):(O=f(O,z),O.return=V,O)}function R(V,O,z,Q){var lt=z.type;return lt===U?Y(V,O,z.props.children,Q,z.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===A&&z_(lt)===O.type)?(O=f(O,z.props),Fl(O,z),O.return=V,O):(O=Oc(z.type,z.key,z.props,null,V.mode,Q),Fl(O,z),O.return=V,O)}function j(V,O,z,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=pd(z,V.mode,Q),O.return=V,O):(O=f(O,z.children||[]),O.return=V,O)}function Y(V,O,z,Q,lt){return O===null||O.tag!==7?(O=Kr(z,V.mode,Q,lt),O.return=V,O):(O=f(O,z),O.return=V,O)}function $(V,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=md(""+O,V.mode,z),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return z=Oc(O.type,O.key,O.props,null,V.mode,z),Fl(z,O),z.return=V,z;case D:return O=pd(O,V.mode,z),O.return=V,O;case A:var Q=O._init;return O=Q(O._payload),$(V,O,z)}if(re(O)||L(O))return O=Kr(O,V.mode,z,null),O.return=V,O;if(typeof O.then=="function")return $(V,Kc(O),z);if(O.$$typeof===it)return $(V,Vc(V,O),z);Xc(V,O)}return null}function H(V,O,z,Q){var lt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:T(V,O,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===lt?R(V,O,z,Q):null;case D:return z.key===lt?j(V,O,z,Q):null;case A:return lt=z._init,z=lt(z._payload),H(V,O,z,Q)}if(re(z)||L(z))return lt!==null?null:Y(V,O,z,Q,null);if(typeof z.then=="function")return H(V,O,Kc(z),Q);if(z.$$typeof===it)return H(V,O,Vc(V,z),Q);Xc(V,z)}return null}function q(V,O,z,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(z)||null,T(O,V,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return V=V.get(Q.key===null?z:Q.key)||null,R(O,V,Q,lt);case D:return V=V.get(Q.key===null?z:Q.key)||null,j(O,V,Q,lt);case A:var Ot=Q._init;return Q=Ot(Q._payload),q(V,O,z,Q,lt)}if(re(Q)||L(Q))return V=V.get(z)||null,Y(O,V,Q,lt,null);if(typeof Q.then=="function")return q(V,O,z,Kc(Q),lt);if(Q.$$typeof===it)return q(V,O,z,Vc(O,Q),lt);Xc(O,Q)}return null}function Tt(V,O,z,Q){for(var lt=null,Ot=null,ft=O,vt=O=0,je=null;ft!==null&&vt<z.length;vt++){ft.index>vt?(je=ft,ft=null):je=ft.sibling;var qt=H(V,ft,z[vt],Q);if(qt===null){ft===null&&(ft=je);break}n&&ft&&qt.alternate===null&&s(V,ft),O=d(qt,O,vt),Ot===null?lt=qt:Ot.sibling=qt,Ot=qt,ft=je}if(vt===z.length)return a(V,ft),Ft&&$r(V,vt),lt;if(ft===null){for(;vt<z.length;vt++)ft=$(V,z[vt],Q),ft!==null&&(O=d(ft,O,vt),Ot===null?lt=ft:Ot.sibling=ft,Ot=ft);return Ft&&$r(V,vt),lt}for(ft=l(ft);vt<z.length;vt++)je=q(ft,V,vt,z[vt],Q),je!==null&&(n&&je.alternate!==null&&ft.delete(je.key===null?vt:je.key),O=d(je,O,vt),Ot===null?lt=je:Ot.sibling=je,Ot=je);return n&&ft.forEach(function(Js){return s(V,Js)}),Ft&&$r(V,vt),lt}function pt(V,O,z,Q){if(z==null)throw Error(r(151));for(var lt=null,Ot=null,ft=O,vt=O=0,je=null,qt=z.next();ft!==null&&!qt.done;vt++,qt=z.next()){ft.index>vt?(je=ft,ft=null):je=ft.sibling;var Js=H(V,ft,qt.value,Q);if(Js===null){ft===null&&(ft=je);break}n&&ft&&Js.alternate===null&&s(V,ft),O=d(Js,O,vt),Ot===null?lt=Js:Ot.sibling=Js,Ot=Js,ft=je}if(qt.done)return a(V,ft),Ft&&$r(V,vt),lt;if(ft===null){for(;!qt.done;vt++,qt=z.next())qt=$(V,qt.value,Q),qt!==null&&(O=d(qt,O,vt),Ot===null?lt=qt:Ot.sibling=qt,Ot=qt);return Ft&&$r(V,vt),lt}for(ft=l(ft);!qt.done;vt++,qt=z.next())qt=q(ft,V,vt,qt.value,Q),qt!==null&&(n&&qt.alternate!==null&&ft.delete(qt.key===null?vt:qt.key),O=d(qt,O,vt),Ot===null?lt=qt:Ot.sibling=qt,Ot=qt);return n&&ft.forEach(function(BA){return s(V,BA)}),Ft&&$r(V,vt),lt}function te(V,O,z,Q){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:t:{for(var lt=z.key;O!==null;){if(O.key===lt){if(lt=z.type,lt===U){if(O.tag===7){a(V,O.sibling),Q=f(O,z.props.children),Q.return=V,V=Q;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===A&&z_(lt)===O.type){a(V,O.sibling),Q=f(O,z.props),Fl(Q,z),Q.return=V,V=Q;break t}a(V,O);break}else s(V,O);O=O.sibling}z.type===U?(Q=Kr(z.props.children,V.mode,Q,z.key),Q.return=V,V=Q):(Q=Oc(z.type,z.key,z.props,null,V.mode,Q),Fl(Q,z),Q.return=V,V=Q)}return v(V);case D:t:{for(lt=z.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(V,O.sibling),Q=f(O,z.children||[]),Q.return=V,V=Q;break t}else{a(V,O);break}else s(V,O);O=O.sibling}Q=pd(z,V.mode,Q),Q.return=V,V=Q}return v(V);case A:return lt=z._init,z=lt(z._payload),te(V,O,z,Q)}if(re(z))return Tt(V,O,z,Q);if(L(z)){if(lt=L(z),typeof lt!="function")throw Error(r(150));return z=lt.call(z),pt(V,O,z,Q)}if(typeof z.then=="function")return te(V,O,Kc(z),Q);if(z.$$typeof===it)return te(V,O,Vc(V,z),Q);Xc(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(V,O.sibling),Q=f(O,z),Q.return=V,V=Q):(a(V,O),Q=md(z,V.mode,Q),Q.return=V,V=Q),v(V)):a(V,O)}return function(V,O,z,Q){try{ql=0;var lt=te(V,O,z,Q);return ao=null,lt}catch(ft){if(ft===Ml||ft===Lc)throw ft;var Ot=An(29,ft,null,V.mode);return Ot.lanes=Q,Ot.return=V,Ot}finally{}}}var oo=B_(!0),j_=B_(!1),qn=B(null),vi=null;function Ls(n){var s=n.alternate;J(Oe,Oe.current&1),J(qn,n),vi===null&&(s===null||no.current!==null||s.memoizedState!==null)&&(vi=n)}function H_(n){if(n.tag===22){if(J(Oe,Oe.current),J(qn,n),vi===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(vi=n)}}else Ps()}function Ps(){J(Oe,Oe.current),J(qn,qn.current)}function es(n){K(qn),vi===n&&(vi=null),K(Oe)}var Oe=B(0);function $c(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Pg(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Xd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var $d={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Ms(l);f.payload=s,a!=null&&(f.callback=a),s=Vs(n,f,l),s!==null&&(Nn(s,n,l),Ul(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Ms(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Vs(n,f,l),s!==null&&(Nn(s,n,l),Ul(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Dn(),l=Ms(a);l.tag=2,s!=null&&(l.callback=s),s=Vs(n,l,a),s!==null&&(Nn(s,n,a),Ul(s,n,a))}};function q_(n,s,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!Rl(a,l)||!Rl(f,d):!0}function F_(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&$d.enqueueReplaceState(s,s.state,null)}function ia(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Zc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function G_(n){Zc(n)}function Y_(n){console.error(n)}function Q_(n){Zc(n)}function Jc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function K_(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Zd(n,s,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Jc(n,s)},a}function X_(n){return n=Ms(n),n.tag=3,n}function $_(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){K_(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){K_(s,a,l),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Bb(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ol(s,a,f,!0),a=qn.current,a!==null){switch(a.tag){case 13:return vi===null?Tg():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Rd?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Sg(n,l,f)),!1;case 22:return a.flags|=65536,l===Rd?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Sg(n,l,f)),!1}throw Error(r(435,a.tag))}return Sg(n,l,f),Tg(),!1}if(Ft)return s=qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==vd&&(n=Error(r(422),{cause:l}),Nl(zn(n,a)))):(l!==vd&&(s=Error(r(423),{cause:l}),Nl(zn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=zn(l,a),f=Zd(n.stateNode,l,f),Dd(n,f),ge!==4&&(ge=2)),!1;var d=Error(r(520),{cause:l});if(d=zn(d,a),Zl===null?Zl=[d]:Zl.push(d),ge!==4&&(ge=2),s===null)return!0;l=zn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Zd(a.stateNode,l,n),Dd(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=X_(f),$_(f,n,a,l),Dd(a,f),!1}a=a.return}while(a!==null);return!1}var Z_=Error(r(461)),ze=!1;function Qe(n,s,a,l){s.child=n===null?j_(s,null,a,l):oo(s,n.child,a,l)}function J_(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ta(s),l=Md(n,s,a,v,d,f),T=Vd(),n!==null&&!ze?(Ud(n,s,f),ns(n,s,f)):(Ft&&T&&yd(s),s.flags|=1,Qe(n,s,l,f),s.child)}function W_(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!gd(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,tv(n,s,d,l,f)):(n=Oc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!rg(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Rl,a(v,l)&&n.ref===s.ref)return ns(n,s,f)}return s.flags|=1,n=Xi(d,l),n.ref=s.ref,n.return=s,s.child=n}function tv(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(Rl(d,l)&&n.ref===s.ref)if(ze=!1,s.pendingProps=l=d,rg(n,f))(n.flags&131072)!==0&&(ze=!0);else return s.lanes=n.lanes,ns(n,s,f)}return Jd(n,s,a,l,f)}function ev(n,s,a){var l=s.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=s.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return nv(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uc(s,d!==null?d.cachePool:null),d!==null?t_(s,d):Od(),H_(s);else return s.lanes=s.childLanes=536870912,nv(n,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(Uc(s,d.cachePool),t_(s,d),Ps(),s.memoizedState=null):(n!==null&&Uc(s,null),Od(),Ps());return Qe(n,s,f,a),s.child}function nv(n,s,a,l){var f=Ad();return f=f===null?null:{parent:Ne._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&Uc(s,null),Od(),H_(s),n!==null&&Ol(n,s,l,!0),null}function Wc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Jd(n,s,a,l,f){return ta(s),a=Md(n,s,a,l,void 0,f),l=Vd(),n!==null&&!ze?(Ud(n,s,f),ns(n,s,f)):(Ft&&l&&yd(s),s.flags|=1,Qe(n,s,a,f),s.child)}function iv(n,s,a,l,f,d){return ta(s),s.updateQueue=null,a=n_(s,l,a,f),e_(n),l=Vd(),n!==null&&!ze?(Ud(n,s,d),ns(n,s,d)):(Ft&&l&&yd(s),s.flags|=1,Qe(n,s,a,d),s.child)}function sv(n,s,a,l,f){if(ta(s),s.stateNode===null){var d=Za,v=a.contextType;typeof v=="object"&&v!==null&&(d=en(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$d,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Id(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?en(v):Za,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xd(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&$d.enqueueReplaceState(d,d.state,null),Pl(s,l,d,f),Ll(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var T=s.memoizedProps,R=ia(a,T);d.props=R;var j=d.context,Y=a.contextType;v=Za,typeof Y=="object"&&Y!==null&&(v=en(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&F_(s,d,l,v),xs=!1;var H=s.memoizedState;d.state=H,Pl(s,l,d,f),Ll(),j=s.memoizedState,T||H!==j||xs?(typeof $=="function"&&(Xd(s,a,$,l),j=s.memoizedState),(R=xs||q_(s,a,R,l,H,j,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=j),d.props=l,d.state=j,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Cd(n,s),v=s.memoizedProps,Y=ia(a,v),d.props=Y,$=s.pendingProps,H=d.context,j=a.contextType,R=Za,typeof j=="object"&&j!==null&&(R=en(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||H!==R)&&F_(s,d,l,R),xs=!1,H=s.memoizedState,d.state=H,Pl(s,l,d,f),Ll();var q=s.memoizedState;v!==$||H!==q||xs||n!==null&&n.dependencies!==null&&Mc(n.dependencies)?(typeof T=="function"&&(Xd(s,a,T,l),q=s.memoizedState),(Y=xs||q_(s,a,Y,l,H,q,R)||n!==null&&n.dependencies!==null&&Mc(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,R)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=R,l=Y):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Wc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=oo(s,n.child,null,f),s.child=oo(s,null,a,f)):Qe(n,s,a,f),s.memoizedState=d.state,n=s.child):n=ns(n,s,f),n}function rv(n,s,a,l){return Dl(),s.flags|=256,Qe(n,s,a,l),s.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tg(n){return{baseLanes:n,cachePool:Yy()}}function eg(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Fn),n}function av(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Oe.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ft){if(f?Ls(s):Ps(),Ft){var T=de,R;if(R=T){t:{for(R=T,T=_i;R.nodeType!==8;){if(!T){T=null;break t}if(R=ni(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(s.memoizedState={dehydrated:T,treeContext:Xr!==null?{id:$i,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},R=An(18,null,null,0),R.stateNode=T,R.return=s,s.child=R,mn=s,de=null,R=!0):R=!1}R||Jr(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Pg(T)?s.lanes=32:s.lanes=536870912,null;es(s)}return T=l.children,l=l.fallback,f?(Ps(),f=s.mode,T=th({mode:"hidden",children:T},f),l=Kr(l,f,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,f=s.child,f.memoizedState=tg(a),f.childLanes=eg(n,v,a),s.memoizedState=Wd,l):(Ls(s),ng(s,T))}if(R=n.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)s.flags&256?(Ls(s),s.flags&=-257,s=ig(n,s,a)):s.memoizedState!==null?(Ps(),s.child=n.child,s.flags|=128,s=null):(Ps(),f=l.fallback,T=s.mode,l=th({mode:"visible",children:l.children},T),f=Kr(f,T,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,oo(s,n.child,null,a),l=s.child,l.memoizedState=tg(a),l.childLanes=eg(n,v,a),s.memoizedState=Wd,s=f);else if(Ls(s),Pg(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(r(419)),l.stack="",l.digest=v,Nl({value:l,source:null,stack:null}),s=ig(n,s,a)}else if(ze||Ol(n,s,a,!1),v=(a&n.childLanes)!==0,ze||v){if(v=ie,v!==null&&(l=a&-a,l=(l&42)!==0?1:As(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,$a(n,l),Nn(v,n,l),Z_;T.data==="$?"||Tg(),s=ig(n,s,a)}else T.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,de=ni(T.nextSibling),mn=s,Ft=!0,Zr=null,_i=!1,n!==null&&(jn[Hn++]=$i,jn[Hn++]=Zi,jn[Hn++]=Xr,$i=n.id,Zi=n.overflow,Xr=s),s=ng(s,l.children),s.flags|=4096);return s}return f?(Ps(),f=l.fallback,T=s.mode,R=n.child,j=R.sibling,l=Xi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?f=Xi(j,f):(f=Kr(f,T,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,T=n.child.memoizedState,T===null?T=tg(a):(R=T.cachePool,R!==null?(j=Ne._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=Yy(),T={baseLanes:T.baseLanes|a,cachePool:R}),f.memoizedState=T,f.childLanes=eg(n,v,a),s.memoizedState=Wd,l):(Ls(s),a=n.child,n=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=a,s.memoizedState=null,a)}function ng(n,s){return s=th({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function th(n,s){return n=An(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ig(n,s,a){return oo(s,n.child,null,a),n=ng(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ov(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Td(n.return,s,a)}function sg(n,s,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function lv(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;if(Qe(n,s,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ov(n,a,s);else if(n.tag===19)ov(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(J(Oe,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&$c(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),sg(s,!1,f,a,d);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&$c(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}sg(s,!0,a,null,d);break;case"together":sg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ns(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),qs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ol(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Xi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Xi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function rg(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Mc(n)))}function jb(n,s,a){switch(s.tag){case 3:Ht(s,s.stateNode.containerInfo),ks(s,Ne,n.memoizedState.cache),Dl();break;case 27:case 5:kn(s);break;case 4:Ht(s,s.stateNode.containerInfo);break;case 10:ks(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(s),s.flags|=128,null):(a&s.child.childLanes)!==0?av(n,s,a):(Ls(s),n=ns(n,s,a),n!==null?n.sibling:null);Ls(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ol(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return lv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Oe,Oe.current),l)break;return null;case 22:case 23:return s.lanes=0,ev(n,s,a);case 24:ks(s,Ne,n.memoizedState.cache)}return ns(n,s,a)}function uv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ze=!0;else{if(!rg(n,a)&&(s.flags&128)===0)return ze=!1,jb(n,s,a);ze=(n.flags&131072)!==0}else ze=!1,Ft&&(s.flags&1048576)!==0&&zy(s,xc,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")gd(l)?(n=ia(l,n),s.tag=1,s=sv(null,s,l,n,a)):(s.tag=0,s=Jd(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===Et){s.tag=11,s=J_(null,s,l,n,a);break t}else if(f===k){s.tag=14,s=W_(null,s,l,n,a);break t}}throw s=he(l)||l,Error(r(306,s,""))}}return s;case 0:return Jd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ia(l,s.pendingProps),sv(n,s,l,f,a);case 3:t:{if(Ht(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Cd(n,s),Pl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,ks(s,Ne,l),l!==d.cache&&wd(s,[Ne],a,!0),Ll(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=rv(n,s,l,a);break t}else if(l!==f){f=zn(Error(r(424)),s),Nl(f),s=rv(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(de=ni(n.firstChild),mn=s,Ft=!0,Zr=null,_i=!0,a=j_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dl(),l===f){s=ns(n,s,a);break t}Qe(n,s,l,a)}s=s.child}return s;case 26:return Wc(n,s),n===null?(a=d0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ft||(a=s.type,n=s.pendingProps,l=gh(at.current).createElement(a),l[Ie]=s,l[we]=n,Xe(l,a,n),ye(l),s.stateNode=l):s.memoizedState=d0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return kn(s),n===null&&Ft&&(l=s.stateNode=c0(s.type,s.pendingProps,at.current),mn=s,_i=!0,f=de,Qs(s.type)?(zg=f,de=ni(l.firstChild)):de=f),Qe(n,s,s.pendingProps.children,a),Wc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ft&&((f=l=de)&&(l=mA(l,s.type,s.pendingProps,_i),l!==null?(s.stateNode=l,mn=s,de=ni(l.firstChild),_i=!1,f=!0):f=!1),f||Jr(s)),kn(s),f=s.type,d=s.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Vg(f,d)?l=null:v!==null&&Vg(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Md(n,s,xb,null,null,a),au._currentValue=f),Wc(n,s),Qe(n,s,l,a),s.child;case 6:return n===null&&Ft&&((n=a=de)&&(a=pA(a,s.pendingProps,_i),a!==null?(s.stateNode=a,mn=s,de=null,n=!0):n=!1),n||Jr(s)),null;case 13:return av(n,s,a);case 4:return Ht(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=oo(s,null,l,a):Qe(n,s,l,a),s.child;case 11:return J_(n,s,s.type,s.pendingProps,a);case 7:return Qe(n,s,s.pendingProps,a),s.child;case 8:return Qe(n,s,s.pendingProps.children,a),s.child;case 12:return Qe(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ks(s,s.type,l.value),Qe(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,ta(s),f=en(f),l=l(f),s.flags|=1,Qe(n,s,l,a),s.child;case 14:return W_(n,s,s.type,s.pendingProps,a);case 15:return tv(n,s,s.type,s.pendingProps,a);case 19:return lv(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=th(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Xi(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return ev(n,s,a);case 24:return ta(s),l=en(Ne),n===null?(f=Ad(),f===null&&(f=ie,d=Sd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Id(s),ks(s,Ne,f)):((n.lanes&a)!==0&&(Cd(n,s),Pl(s,null,null,a),Ll()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ks(s,Ne,l)):(l=d.cache,ks(s,Ne,l),l!==f.cache&&wd(s,[Ne],a,!0))),Qe(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function is(n){n.flags|=4}function cv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_0(s)){if(s=qn.current,s!==null&&((zt&4194048)===zt?vi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==vi))throw Vl=Rd,Qy;n.flags|=8192}}function eh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ll():536870912,n.lanes|=s,ho|=s)}function Gl(n,s){if(!Ft)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function le(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Hb(n,s,a){var l=s.pendingProps;switch(_d(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(s),null;case 1:return le(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Wi(Ne),pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Cl(s)?is(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hy())),le(s),null;case 26:return a=s.memoizedState,n===null?(is(s),a!==null?(le(s),cv(s,a)):(le(s),s.flags&=-16777217)):a?a!==n.memoizedState?(is(s),le(s),cv(s,a)):(le(s),s.flags&=-16777217):(n.memoizedProps!==l&&is(s),le(s),s.flags&=-16777217),null;case 27:Ui(s),a=at.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return le(s),null}n=rt.current,Cl(s)?By(s):(n=c0(f,l,a),s.stateNode=n,is(s))}return le(s),null;case 5:if(Ui(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return le(s),null}if(n=rt.current,Cl(s))By(s);else{switch(f=gh(at.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ie]=s,n[we]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;t:switch(Xe(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&is(s)}}return le(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&is(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=at.current,Cl(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=mn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ie]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||i0(n.nodeValue,a)),n||Jr(s)}else n=gh(n).createTextNode(l),n[Ie]=s,s.stateNode=n}return le(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Cl(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ie]=s}else Dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;le(s),f=!1}else f=Hy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(es(s),s):(es(s),null)}if(es(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),eh(s,s.updateQueue),le(s),null;case 4:return pn(),n===null&&Ng(s.stateNode.containerInfo),le(s),null;case 10:return Wi(s.type),le(s),null;case 19:if(K(Oe),f=s.memoizedState,f===null)return le(s),null;if(l=(s.flags&128)!==0,d=f.rendering,d===null)if(l)Gl(f,!1);else{if(ge!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=$c(n),d!==null){for(s.flags|=128,Gl(f,!1),n=d.updateQueue,s.updateQueue=n,eh(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Py(a,n),a=a.sibling;return J(Oe,Oe.current&1|2),s.child}n=n.sibling}f.tail!==null&&xn()>sh&&(s.flags|=128,l=!0,Gl(f,!1),s.lanes=4194304)}else{if(!l)if(n=$c(d),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,eh(s,n),Gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ft)return le(s),null}else 2*xn()-f.renderingStartTime>sh&&a!==536870912&&(s.flags|=128,l=!0,Gl(f,!1),s.lanes=4194304);f.isBackwards?(d.sibling=s.child,s.child=d):(n=f.last,n!==null?n.sibling=d:s.child=d,f.last=d)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=xn(),s.sibling=null,n=Oe.current,J(Oe,l?n&1|2:n&1),s):(le(s),null);case 22:case 23:return es(s),kd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(le(s),s.subtreeFlags&6&&(s.flags|=8192)):le(s),a=s.updateQueue,a!==null&&eh(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&K(ea),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Wi(Ne),le(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function qb(n,s){switch(_d(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wi(Ne),pn(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ui(s),null;case 13:if(es(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Dl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return K(Oe),null;case 4:return pn(),null;case 10:return Wi(s.type),null;case 22:case 23:return es(s),kd(),n!==null&&K(ea),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Wi(Ne),null;case 25:return null;default:return null}}function hv(n,s){switch(_d(s),s.tag){case 3:Wi(Ne),pn();break;case 26:case 27:case 5:Ui(s);break;case 4:pn();break;case 13:es(s);break;case 19:K(Oe);break;case 10:Wi(s.type);break;case 22:case 23:es(s),kd(),n!==null&&K(ea);break;case 24:Wi(Ne)}}function Yl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){ee(s,s.return,T)}}function zs(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=s;var R=a,j=T;try{j()}catch(Y){ee(f,R,Y)}}}l=l.next}while(l!==d)}}catch(Y){ee(s,s.return,Y)}}function fv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Wy(s,a)}catch(l){ee(n,n.return,l)}}}function dv(n,s,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ee(n,s,l)}}function Ql(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){ee(n,s,f)}}function Ei(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ee(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ee(n,s,f)}else a.current=null}function gv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ee(n,n.return,f)}}function ag(n,s,a){try{var l=n.stateNode;cA(l,n.type,a,s),l[we]=s}catch(f){ee(n,n.return,f)}}function mv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qs(n.type)||n.tag===4}function og(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||mv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lg(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=dh));else if(l!==4&&(l===27&&Qs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(lg(n,s,a),n=n.sibling;n!==null;)lg(n,s,a),n=n.sibling}function nh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Qs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(nh(n,s,a),n=n.sibling;n!==null;)nh(n,s,a),n=n.sibling}function pv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Ie]=n,s[we]=a}catch(d){ee(n,n.return,d)}}var ss=!1,ve=!1,ug=!1,yv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Fb(n,s){if(n=n.containerInfo,xg=Eh,n=Cy(n),od(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,R=-1,j=0,Y=0,$=n,H=null;e:for(;;){for(var q;$!==a||f!==0&&$.nodeType!==3||(T=v+f),$!==d||l!==0&&$.nodeType!==3||(R=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(q=$.firstChild)!==null;)H=$,$=q;for(;;){if($===n)break e;if(H===a&&++j===f&&(T=v),H===d&&++Y===l&&(R=v),(q=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mg={focusedElem:n,selectionRange:a},Eh=!1,Be=s;Be!==null;)if(s=Be,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Be=n;else for(;Be!==null;){switch(s=Be,d=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Tt=ia(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Tt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(pt){ee(a,a.return,pt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Lg(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Be=n;break}Be=s.return}}function _v(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bs(n,a),l&4&&Yl(5,a);break;case 1:if(Bs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(v){ee(a,a.return,v)}else{var f=ia(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(a,a.return,v)}}l&64&&fv(a),l&512&&Ql(a,a.return);break;case 3:if(Bs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Wy(n,s)}catch(v){ee(a,a.return,v)}}break;case 27:s===null&&l&4&&pv(a);case 26:case 5:Bs(n,a),s===null&&l&4&&gv(a),l&512&&Ql(a,a.return);break;case 12:Bs(n,a);break;case 13:Bs(n,a),l&4&&Tv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Wb.bind(null,a),yA(n,a))));break;case 22:if(l=a.memoizedState!==null||ss,!l){s=s!==null&&s.memoizedState!==null||ve,f=ss;var d=ve;ss=l,(ve=s)&&!d?js(n,a,(a.subtreeFlags&8772)!==0):Bs(n,a),ss=f,ve=d}break;case 30:break;default:Bs(n,a)}}function vv(n){var s=n.alternate;s!==null&&(n.alternate=null,vv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Cs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var oe=null,_n=!1;function rs(n,s,a){for(a=a.child;a!==null;)Ev(n,s,a),a=a.sibling}function Ev(n,s,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(fe,a)}catch{}switch(a.tag){case 26:ve||Ei(a,s),rs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||Ei(a,s);var l=oe,f=_n;Qs(a.type)&&(oe=a.stateNode,_n=!1),rs(n,s,a),nu(a.stateNode),oe=l,_n=f;break;case 5:ve||Ei(a,s);case 6:if(l=oe,f=_n,oe=null,rs(n,s,a),oe=l,_n=f,oe!==null)if(_n)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){ee(a,s,d)}else try{oe.removeChild(a.stateNode)}catch(d){ee(a,s,d)}break;case 18:oe!==null&&(_n?(n=oe,l0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),cu(n)):l0(oe,a.stateNode));break;case 4:l=oe,f=_n,oe=a.stateNode.containerInfo,_n=!0,rs(n,s,a),oe=l,_n=f;break;case 0:case 11:case 14:case 15:ve||zs(2,a,s),ve||zs(4,a,s),rs(n,s,a);break;case 1:ve||(Ei(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&dv(a,s,l)),rs(n,s,a);break;case 21:rs(n,s,a);break;case 22:ve=(l=ve)||a.memoizedState!==null,rs(n,s,a),ve=l;break;default:rs(n,s,a)}}function Tv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cu(n)}catch(a){ee(s,s.return,a)}}function Gb(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new yv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new yv),s;default:throw Error(r(435,n.tag))}}function cg(n,s){var a=Gb(n);s.forEach(function(l){var f=tA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Rn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=s,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Qs(T.type)){oe=T.stateNode,_n=!1;break t}break;case 5:oe=T.stateNode,_n=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(oe===null)throw Error(r(160));Ev(d,v,f),oe=null,_n=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)wv(s,n),s=s.sibling}var ei=null;function wv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(s,n),In(n),l&4&&(zs(3,n,n.return),Yl(3,n),zs(5,n,n.return));break;case 1:Rn(s,n),In(n),l&512&&(ve||a===null||Ei(a,a.return)),l&64&&ss&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(Rn(s,n),In(n),l&512&&(ve||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[kr]||d[Ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[Ie]=n,ye(d),l=d;break t;case"link":var v=p0("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(v=p0("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ie]=n,ye(d),l=d}n.stateNode=l}else y0(f,n.type,n.stateNode);else n.stateNode=m0(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?y0(f,n.type,n.stateNode):m0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&ag(n,n.memoizedProps,a.memoizedProps)}break;case 27:Rn(s,n),In(n),l&512&&(ve||a===null||Ei(a,a.return)),a!==null&&l&4&&ag(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Rn(s,n),In(n),l&512&&(ve||a===null||Ei(a,a.return)),n.flags&32){f=n.stateNode;try{Vn(f,"")}catch(q){ee(n,n.return,q)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,ag(n,f,a!==null?a.memoizedProps:f)),l&1024&&(ug=!0);break;case 6:if(Rn(s,n),In(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(q){ee(n,n.return,q)}}break;case 3:if(yh=null,f=ei,ei=mh(s.containerInfo),Rn(s,n),ei=f,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cu(s.containerInfo)}catch(q){ee(n,n.return,q)}ug&&(ug=!1,Sv(n));break;case 4:l=ei,ei=mh(n.stateNode.containerInfo),Rn(s,n),In(n),ei=l;break;case 12:Rn(s,n),In(n);break;case 13:Rn(s,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pg=xn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,cg(n,l)));break;case 22:f=n.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=ss,Y=ve;if(ss=j||f,ve=Y||R,Rn(s,n),ve=Y,ss=j,In(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||R||ss||ve||sa(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){R=a=s;try{if(d=R.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){ee(R,R.return,q)}}}else if(s.tag===6){if(a===null){R=s;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(q){ee(R,R.return,q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cg(n,a))));break;case 19:Rn(s,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,cg(n,l)));break;case 30:break;case 21:break;default:Rn(s,n),In(n)}}function In(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(mv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=og(n);nh(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Vn(v,""),a.flags&=-33);var T=og(n);nh(n,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,j=og(n);lg(n,j,R);break;default:throw Error(r(161))}}catch(Y){ee(n,n.return,Y)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Sv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Sv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Bs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_v(n,s.alternate,s),s=s.sibling}function sa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),sa(s);break;case 1:Ei(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&dv(s,s.return,a),sa(s);break;case 27:nu(s.stateNode);case 26:case 5:Ei(s,s.return),sa(s);break;case 22:s.memoizedState===null&&sa(s);break;case 30:sa(s);break;default:sa(s)}n=n.sibling}}function js(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:js(f,d,a),Yl(4,d);break;case 1:if(js(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){ee(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Jy(R[f],T)}catch(j){ee(l,l.return,j)}}a&&v&64&&fv(d),Ql(d,d.return);break;case 27:pv(d);case 26:case 5:js(f,d,a),a&&l===null&&v&4&&gv(d),Ql(d,d.return);break;case 12:js(f,d,a);break;case 13:js(f,d,a),a&&v&4&&Tv(f,d);break;case 22:d.memoizedState===null&&js(f,d,a),Ql(d,d.return);break;case 30:break;default:js(f,d,a)}s=s.sibling}}function hg(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&kl(a))}function fg(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kl(n))}function Ti(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bv(n,s,a,l),s=s.sibling}function bv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(n,s,a,l),f&2048&&Yl(9,s);break;case 1:Ti(n,s,a,l);break;case 3:Ti(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kl(n)));break;case 12:if(f&2048){Ti(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){ee(s,s.return,R)}}else Ti(n,s,a,l);break;case 13:Ti(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?Ti(n,s,a,l):Kl(n,s):d._visibility&2?Ti(n,s,a,l):(d._visibility|=2,lo(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&hg(v,s);break;case 24:Ti(n,s,a,l),f&2048&&fg(s.alternate,s);break;default:Ti(n,s,a,l)}}function lo(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=n,v=s,T=a,R=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:lo(d,v,T,R,f),Yl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?lo(d,v,T,R,f):Kl(d,v):(Y._visibility|=2,lo(d,v,T,R,f)),f&&j&2048&&hg(v.alternate,v);break;case 24:lo(d,v,T,R,f),f&&j&2048&&fg(v.alternate,v);break;default:lo(d,v,T,R,f)}s=s.sibling}}function Kl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Kl(a,l),f&2048&&hg(l.alternate,l);break;case 24:Kl(a,l),f&2048&&fg(l.alternate,l);break;default:Kl(a,l)}s=s.sibling}}var Xl=8192;function uo(n){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)Av(n),n=n.sibling}function Av(n){switch(n.tag){case 26:uo(n),n.flags&Xl&&n.memoizedState!==null&&NA(ei,n.memoizedState,n.memoizedProps);break;case 5:uo(n);break;case 3:case 4:var s=ei;ei=mh(n.stateNode.containerInfo),uo(n),ei=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Xl,Xl=16777216,uo(n),Xl=s):uo(n));break;default:uo(n)}}function Rv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function $l(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,Cv(l,n)}Rv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iv(n),n=n.sibling}function Iv(n){switch(n.tag){case 0:case 11:case 15:$l(n),n.flags&2048&&zs(9,n,n.return);break;case 3:$l(n);break;case 12:$l(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ih(n)):$l(n);break;default:$l(n)}}function ih(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,Cv(l,n)}Rv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zs(8,s,s.return),ih(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ih(s));break;default:ih(s)}n=n.sibling}}function Cv(n,s){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:zs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=n;Be!==null;){l=Be;var f=l.sibling,d=l.return;if(vv(l),l===a){Be=null;break t}if(f!==null){f.return=d,Be=f;break t}Be=d}}}var Yb={getCacheForType:function(n){var s=en(Ne),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},Qb=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ie=null,kt=null,zt=0,$t=0,Cn=null,Hs=!1,co=!1,dg=!1,as=0,ge=0,qs=0,ra=0,gg=0,Fn=0,ho=0,Zl=null,vn=null,mg=!1,pg=0,sh=1/0,rh=null,Fs=null,Ke=0,Gs=null,fo=null,go=0,yg=0,_g=null,Dv=null,Jl=0,vg=null;function Dn(){if((Xt&2)!==0&&zt!==0)return zt&-zt;if(G.T!==null){var n=to;return n!==0?n:Rg()}return Rs()}function Nv(){Fn===0&&(Fn=(zt&536870912)===0||Ft?ol():536870912);var n=qn.current;return n!==null&&(n.flags|=32),Fn}function Nn(n,s,a){(n===ie&&($t===2||$t===9)||n.cancelPendingCommit!==null)&&(mo(n,0),Ys(n,zt,Fn,!1)),Pi(n,a),((Xt&2)===0||n!==ie)&&(n===ie&&((Xt&2)===0&&(ra|=a),ge===4&&Ys(n,zt,Fn,!1)),wi(n))}function Ov(n,s,a){if((Xt&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||Or(n,s),f=l?$b(n,s):wg(n,s,!0),d=l;do{if(f===0){co&&!l&&Ys(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!Kb(a)){f=wg(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;t:{var T=n;f=Zl;var R=T.current.memoizedState.isDehydrated;if(R&&(mo(T,v).flags|=256),v=wg(T,v,!1),v!==2){if(dg&&!R){T.errorRecoveryDisabledLanes|=d,ra|=d,f=4;break t}d=vn,vn=f,d!==null&&(vn===null?vn=d:vn.push.apply(vn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){mo(n,0),Ys(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ys(l,s,Fn,!Hs);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=pg+300-xn(),10<f)){if(Ys(l,s,Fn,!Hs),Oa(l,0,!0)!==0)break t;l.timeoutHandle=a0(kv.bind(null,l,a,vn,rh,mg,s,Fn,ra,ho,Hs,d,2,-0,0),f);break t}kv(l,a,vn,rh,mg,s,Fn,ra,ho,Hs,d,0,-0,0)}}break}while(!0);wi(n)}function kv(n,s,a,l,f,d,v,T,R,j,Y,$,H,q){if(n.timeoutHandle=-1,$=s.subtreeFlags,($&8192||($&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:DA},Av(s),$=OA(),$!==null)){n.cancelPendingCommit=$(zv.bind(null,n,s,d,a,l,f,v,T,R,Y,1,H,q)),Ys(n,d,v,!j);return}zv(n,s,d,a,l,f,v,T,R)}function Kb(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(n,s,a,l){s&=~gg,s&=~ra,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-tn(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&oi(n,a,s)}function ah(){return(Xt&6)===0?(Wl(0),!1):!0}function Eg(){if(kt!==null){if($t===0)var n=kt.return;else n=kt,Ji=Wr=null,Ld(n),ao=null,ql=0,n=kt;for(;n!==null;)hv(n.alternate,n),n=n.return;kt=null}}function mo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,fA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Eg(),ie=n,kt=a=Xi(n.current,null),zt=s,$t=0,Cn=null,Hs=!1,co=Or(n,s),dg=!1,ho=Fn=gg=ra=qs=ge=0,vn=Zl=null,mg=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-tn(l),d=1<<f;s|=n[f],l&=~d}return as=s,Cc(),a}function xv(n,s){Dt=null,G.H=Qc,s===Ml||s===Lc?(s=$y(),$t=3):s===Qy?(s=$y(),$t=4):$t=s===Z_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,kt===null&&(ge=1,Jc(n,zn(s,n.current)))}function Mv(){var n=G.H;return G.H=Qc,n===null?Qc:n}function Vv(){var n=G.A;return G.A=Yb,n}function Tg(){ge=4,Hs||(zt&4194048)!==zt&&qn.current!==null||(co=!0),(qs&134217727)===0&&(ra&134217727)===0||ie===null||Ys(ie,zt,Fn,!1)}function wg(n,s,a){var l=Xt;Xt|=2;var f=Mv(),d=Vv();(ie!==n||zt!==s)&&(rh=null,mo(n,s)),s=!1;var v=ge;t:do try{if($t!==0&&kt!==null){var T=kt,R=Cn;switch($t){case 8:Eg(),v=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(s=!0);var j=$t;if($t=0,Cn=null,po(n,T,R,j),a&&co){v=0;break t}break;default:j=$t,$t=0,Cn=null,po(n,T,R,j)}}Xb(),v=ge;break}catch(Y){xv(n,Y)}while(!0);return s&&n.shellSuspendCounter++,Ji=Wr=null,Xt=l,G.H=f,G.A=d,kt===null&&(ie=null,zt=0,Cc()),v}function Xb(){for(;kt!==null;)Uv(kt)}function $b(n,s){var a=Xt;Xt|=2;var l=Mv(),f=Vv();ie!==n||zt!==s?(rh=null,sh=xn()+500,mo(n,s)):co=Or(n,s);t:do try{if($t!==0&&kt!==null){s=kt;var d=Cn;e:switch($t){case 1:$t=0,Cn=null,po(n,s,d,1);break;case 2:case 9:if(Ky(d)){$t=0,Cn=null,Lv(s);break}s=function(){$t!==2&&$t!==9||ie!==n||($t=7),wi(n)},d.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Ky(d)?($t=0,Cn=null,Lv(s)):($t=0,Cn=null,po(n,s,d,7));break;case 5:var v=null;switch(kt.tag){case 26:v=kt.memoizedState;case 5:case 27:var T=kt;if(!v||_0(v)){$t=0,Cn=null;var R=T.sibling;if(R!==null)kt=R;else{var j=T.return;j!==null?(kt=j,oh(j)):kt=null}break e}}$t=0,Cn=null,po(n,s,d,5);break;case 6:$t=0,Cn=null,po(n,s,d,6);break;case 8:Eg(),ge=6;break t;default:throw Error(r(462))}}Zb();break}catch(Y){xv(n,Y)}while(!0);return Ji=Wr=null,G.H=l,G.A=f,Xt=a,kt!==null?0:(ie=null,zt=0,Cc(),ge)}function Zb(){for(;kt!==null&&!il();)Uv(kt)}function Uv(n){var s=uv(n.alternate,n,as);n.memoizedProps=n.pendingProps,s===null?oh(n):kt=s}function Lv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=iv(a,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=iv(a,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:Ld(s);default:hv(a,s),s=kt=Py(s,as),s=uv(a,s,as)}n.memoizedProps=n.pendingProps,s===null?oh(n):kt=s}function po(n,s,a,l){Ji=Wr=null,Ld(s),ao=null,ql=0;var f=s.return;try{if(Bb(n,f,s,a,zt)){ge=1,Jc(n,zn(a,n.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;ge=1,Jc(n,zn(a,n.current)),kt=null;return}s.flags&32768?(Ft||l===1?n=!0:co||(zt&536870912)!==0?n=!1:(Hs=n=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pv(s,n)):oh(s)}function oh(n){var s=n;do{if((s.flags&32768)!==0){Pv(s,Hs);return}n=s.return;var a=Hb(s.alternate,s,as);if(a!==null){kt=a;return}if(s=s.sibling,s!==null){kt=s;return}kt=s=n}while(s!==null);ge===0&&(ge=5)}function Pv(n,s){do{var a=qb(n.alternate,n);if(a!==null){a.flags&=32767,kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){kt=n;return}kt=n=a}while(n!==null);ge=6,kt=null}function zv(n,s,a,l,f,d,v,T,R){n.cancelPendingCommit=null;do lh();while(Ke!==0);if((Xt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=fd,ul(n,a,d,v,T,R),n===ie&&(kt=ie=null,zt=0),fo=s,Gs=n,go=a,yg=d,_g=f,Dv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,eA(Ir,function(){return Fv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=st.p,st.p=2,v=Xt,Xt|=4;try{Fb(n,s,a)}finally{Xt=v,st.p=f,G.T=l}}Ke=1,Bv(),jv(),Hv()}}function Bv(){if(Ke===1){Ke=0;var n=Gs,s=fo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var f=Xt;Xt|=4;try{wv(s,n);var d=Mg,v=Cy(n.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Iy(T.ownerDocument.documentElement,T)){if(R!==null&&od(T)){var j=R.start,Y=R.end;if(Y===void 0&&(Y=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var q=H.getSelection(),Tt=T.textContent.length,pt=Math.min(R.start,Tt),te=R.end===void 0?pt:Math.min(R.end,Tt);!q.extend&&pt>te&&(v=te,te=pt,pt=v);var V=Ry(T,pt),O=Ry(T,te);if(V&&O&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var z=$.createRange();z.setStart(V.node,V.offset),q.removeAllRanges(),pt>te?(q.addRange(z),q.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),q.addRange(z))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Q=$[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Eh=!!xg,Mg=xg=null}finally{Xt=f,st.p=l,G.T=a}}n.current=s,Ke=2}}function jv(){if(Ke===2){Ke=0;var n=Gs,s=fo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var f=Xt;Xt|=4;try{_v(n,s.alternate,s)}finally{Xt=f,st.p=l,G.T=a}}Ke=3}}function Hv(){if(Ke===4||Ke===3){Ke=0,ic();var n=Gs,s=fo,a=go,l=Dv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ke=5:(Ke=0,fo=Gs=null,qv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Fs=null),ka(a),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(fe,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,f=st.p,st.p=2,G.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=s,st.p=f}}(go&3)!==0&&lh(),wi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===vg?Jl++:(Jl=0,vg=n):Jl=0,Wl(0)}}function qv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,kl(s)))}function lh(n){return Bv(),jv(),Hv(),Fv()}function Fv(){if(Ke!==5)return!1;var n=Gs,s=yg;yg=0;var a=ka(go),l=G.T,f=st.p;try{st.p=32>a?32:a,G.T=null,a=_g,_g=null;var d=Gs,v=go;if(Ke=0,fo=Gs=null,go=0,(Xt&6)!==0)throw Error(r(331));var T=Xt;if(Xt|=4,Iv(d.current),bv(d,d.current,v,a),Xt=T,Wl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(fe,d)}catch{}return!0}finally{st.p=f,G.T=l,qv(n,s)}}function Gv(n,s,a){s=zn(a,s),s=Zd(n.stateNode,s,2),n=Vs(n,s,2),n!==null&&(Pi(n,2),wi(n))}function ee(n,s,a){if(n.tag===3)Gv(n,n,a);else for(;s!==null;){if(s.tag===3){Gv(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){n=zn(a,n),a=X_(2),l=Vs(s,a,2),l!==null&&($_(a,l,s,n),Pi(l,2),wi(l));break}}s=s.return}}function Sg(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Qb;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(dg=!0,f.add(a),n=Jb.bind(null,n,s,a),s.then(n,n))}function Jb(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ie===n&&(zt&a)===a&&(ge===4||ge===3&&(zt&62914560)===zt&&300>xn()-pg?(Xt&2)===0&&mo(n,0):gg|=a,ho===zt&&(ho=0)),wi(n)}function Yv(n,s){s===0&&(s=ll()),n=$a(n,s),n!==null&&(Pi(n,s),wi(n))}function Wb(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Yv(n,a)}function tA(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Yv(n,a)}function eA(n,s){return Ar(n,s)}var uh=null,yo=null,bg=!1,ch=!1,Ag=!1,aa=0;function wi(n){n!==yo&&n.next===null&&(yo===null?uh=yo=n:yo=yo.next=n),ch=!0,bg||(bg=!0,iA())}function Wl(n,s){if(!Ag&&ch){Ag=!0;do for(var a=!1,l=uh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-tn(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$v(l,d))}else d=zt,d=Oa(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Or(l,d)||(a=!0,$v(l,d));l=l.next}while(a);Ag=!1}}function nA(){Qv()}function Qv(){ch=bg=!1;var n=0;aa!==0&&(hA()&&(n=aa),aa=0);for(var s=xn(),a=null,l=uh;l!==null;){var f=l.next,d=Kv(l,s);d===0?(l.next=null,a===null?uh=f:a.next=f,f===null&&(yo=a)):(a=l,(n!==0||(d&3)!==0)&&(ch=!0)),l=f}Wl(n)}function Kv(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-tn(d),T=1<<v,R=f[v];R===-1?((T&a)===0||(T&l)!==0)&&(f[v]=al(T,s)):R<=s&&(n.expiredLanes|=T),d&=~T}if(s=ie,a=zt,a=Oa(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&($t===2||$t===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Or(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Rr(l),ka(a)){case 2:case 8:a=Da;break;case 32:a=Ir;break;case 268435456:a=Na;break;default:a=Ir}return l=Xv.bind(null,n),a=Ar(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Rr(l),n.callbackPriority=2,n.callbackNode=null,2}function Xv(n,s){if(Ke!==0&&Ke!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(lh()&&n.callbackNode!==a)return null;var l=zt;return l=Oa(n,n===ie?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Ov(n,l,s),Kv(n,xn()),n.callbackNode!=null&&n.callbackNode===a?Xv.bind(null,n):null)}function $v(n,s){if(lh())return null;Ov(n,s,!0)}function iA(){dA(function(){(Xt&6)!==0?Ar(sl,nA):Qv()})}function Rg(){return aa===0&&(aa=ol()),aa}function Zv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Pa(""+n)}function Jv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function sA(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Zv((f[we]||null).action),v=l.submitter;v&&(s=(s=v[we]||null)?Zv(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var T=new za("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var R=v?Jv(f,v):new FormData(f);Yd(a,{pending:!0,data:R,method:f.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?Jv(f,v):new FormData(f),Yd(a,{pending:!0,data:R,method:f.method,action:d},d,R))},currentTarget:f}]})}}for(var Ig=0;Ig<hd.length;Ig++){var Cg=hd[Ig],rA=Cg.toLowerCase(),aA=Cg[0].toUpperCase()+Cg.slice(1);ti(rA,"on"+aA)}ti(Oy,"onAnimationEnd"),ti(ky,"onAnimationIteration"),ti(xy,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Sb,"onTransitionRun"),ti(bb,"onTransitionStart"),ti(Ab,"onTransitionCancel"),ti(My,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function Wv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=j;try{d(f)}catch(Y){Zc(Y)}f.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,j=T.currentTarget,T=T.listener,R!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=j;try{d(f)}catch(Y){Zc(Y)}f.currentTarget=null,d=R}}}}function xt(n,s){var a=s[hl];a===void 0&&(a=s[hl]=new Set);var l=n+"__bubble";a.has(l)||(t0(s,n,2,!1),a.add(l))}function Dg(n,s,a){var l=0;s&&(l|=4),t0(a,n,l,s)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Ng(n){if(!n[hh]){n[hh]=!0,fl.forEach(function(a){a!=="selectionchange"&&(oA.has(a)||Dg(a,!1,n),Dg(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[hh]||(s[hh]=!0,Dg("selectionchange",!1,s))}}function t0(n,s,a,l){switch(b0(s)){case 2:var f=MA;break;case 8:f=VA;break;default:f=Fg}a=f.bind(null,s,a,n),f=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Og(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=zi(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}T=T.parentNode}}l=l.return}dc(function(){var j=d,Y=Un(a),$=[];t:{var H=Vy.get(n);if(H!==void 0){var q=za,Tt=n;switch(n){case"keypress":if(di(a)===0)break t;case"keydown":case"keyup":q=Ga;break;case"focusin":Tt="focus",q=Ha;break;case"focusout":Tt="blur",q=Ha;break;case"beforeblur":case"afterblur":q=Ha;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Tc;break;case Oy:case ky:case xy:q=qa;break;case My:q=Sc;break;case"scroll":case"scrollend":q=gc;break;case"wheel":q=Ya;break;case"copy":case"cut":case"paste":q=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=bl;break;case"toggle":case"beforetoggle":q=Ac}var pt=(s&4)!==0,te=!pt&&(n==="scroll"||n==="scrollend"),V=pt?H!==null?H+"Capture":null:H;pt=[];for(var O=j,z;O!==null;){var Q=O;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||V===null||(Q=zr(O,V),Q!=null&&pt.push(eu(O,Q,z))),te)break;O=O.return}0<pt.length&&(H=new q(H,Tt,null,a,Y),$.push({event:H,listeners:pt}))}}if((s&7)===0){t:{if(H=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",H&&a!==qi&&(Tt=a.relatedTarget||a.fromElement)&&(zi(Tt)||Tt[Mn]))break t;if((q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Tt=a.relatedTarget||a.toElement,q=j,Tt=Tt?zi(Tt):null,Tt!==null&&(te=u(Tt),pt=Tt.tag,Tt!==te||pt!==5&&pt!==27&&pt!==6)&&(Tt=null)):(q=null,Tt=j),q!==Tt)){if(pt=Pn,Q="onMouseLeave",V="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(pt=bl,Q="onPointerLeave",V="onPointerEnter",O="pointer"),te=q==null?H:ui(q),z=Tt==null?H:ui(Tt),H=new pt(Q,O+"leave",q,a,Y),H.target=te,H.relatedTarget=z,Q=null,zi(Y)===j&&(pt=new pt(V,O+"enter",Tt,a,Y),pt.target=z,pt.relatedTarget=te,Q=pt),te=Q,q&&Tt)e:{for(pt=q,V=Tt,O=0,z=pt;z;z=_o(z))O++;for(z=0,Q=V;Q;Q=_o(Q))z++;for(;0<O-z;)pt=_o(pt),O--;for(;0<z-O;)V=_o(V),z--;for(;O--;){if(pt===V||V!==null&&pt===V.alternate)break e;pt=_o(pt),V=_o(V)}pt=null}else pt=null;q!==null&&e0($,H,q,pt,!1),Tt!==null&&te!==null&&e0($,te,Tt,pt,!0)}}t:{if(H=j?ui(j):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var lt=Ey;else if(De(H))if(Ty)lt=Eb;else{lt=_b;var Ot=yb}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&yl(j.elementType)&&(lt=Ey):lt=vb;if(lt&&(lt=lt(n,j))){Ki($,lt,a,Y);break t}Ot&&Ot(n,H,j),n==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&Ns(H,"number",H.value)}switch(Ot=j?ui(j):window,n){case"focusin":(De(Ot)||Ot.contentEditable==="true")&&(Qa=Ot,ld=j,Il=null);break;case"focusout":Il=ld=Qa=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,Dy($,a,Y);break;case"selectionchange":if(wb)break;case"keydown":case"keyup":Dy($,a,Y)}var ft;if(pi)t:{switch(n){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Lt?F(n,a)&&(vt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Lt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Lt&&(ft=vl()):(fi=Y,Os="value"in fi?fi.value:fi.textContent,Lt=!0)),Ot=fh(j,vt),0<Ot.length&&(vt=new wl(vt,n,null,a,Y),$.push({event:vt,listeners:Ot}),ft?vt.data=ft:(ft=nt(a),ft!==null&&(vt.data=ft)))),(ft=p?Ce(n,a):Pt(n,a))&&(vt=fh(j,"onBeforeInput"),0<vt.length&&(Ot=new wl("onBeforeInput","beforeinput",null,a,Y),$.push({event:Ot,listeners:vt}),Ot.data=ft)),sA($,n,j,a,Y)}Wv($,s)})}function eu(n,s,a){return{instance:n,listener:s,currentTarget:a}}function fh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=zr(n,a),f!=null&&l.unshift(eu(n,f,d)),f=zr(n,s),f!=null&&l.push(eu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function _o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function e0(n,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,j=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||j===null||(R=j,f?(j=zr(a,d),j!=null&&v.unshift(eu(a,j,R))):f||(j=zr(a,d),j!=null&&v.push(eu(a,j,R)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function n0(n){return(typeof n=="string"?n:""+n).replace(lA,`
`).replace(uA,"")}function i0(n,s){return s=n0(s),n0(n)===s}function dh(){}function Wt(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Vn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Vn(n,""+l);break;case"className":ci(n,"class",l);break;case"tabIndex":ci(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(n,a,l);break;case"style":pl(n,l,d);break;case"data":if(s!=="object"){ci(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Wt(n,s,"name",f.name,f,null),Wt(n,s,"formEncType",f.formEncType,f,null),Wt(n,s,"formMethod",f.formMethod,f,null),Wt(n,s,"formTarget",f.formTarget,f,null)):(Wt(n,s,"encType",f.encType,f,null),Wt(n,s,"method",f.method,f,null),Wt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=dh);break;case"onScroll":l!=null&&xt("scroll",n);break;case"onScrollEnd":l!=null&&xt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":xt("beforetoggle",n),xt("toggle",n),Ds(n,"popover",l);break;case"xlinkActuate":Ge(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ge(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ge(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ge(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ge(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ge(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ge(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ge(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ge(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ds(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ed.get(a)||a,Ds(n,a,l))}}function kg(n,s,a,l,f,d){switch(a){case"style":pl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Vn(n,l):(typeof l=="number"||typeof l=="bigint")&&Vn(n,""+l);break;case"onScroll":l!=null&&xt("scroll",n);break;case"onScrollEnd":l!=null&&xt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[we]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ds(n,a,l)}}}function Xe(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",n),xt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(n,s,d,v,a,null)}}f&&Wt(n,s,"srcSet",a.srcSet,a,null),l&&Wt(n,s,"src",a.src,a,null);return;case"input":xt("invalid",n);var T=d=v=f=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":R=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Wt(n,s,l,Y,a,null)}}Ur(n,d,T,R,j,v,f,!1),La(n);return;case"select":xt("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Wt(n,s,f,T,a,null)}s=d,a=v,n.multiple=!!l,s!=null?Hi(n,!!l,s,!1):a!=null&&Hi(n,!!l,a,!0);return;case"textarea":xt("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Wt(n,s,v,T,a,null)}Lr(n,l,f,d),La(n);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(n,s,R,l,a,null)}return;case"dialog":xt("beforetoggle",n),xt("toggle",n),xt("cancel",n),xt("close",n);break;case"iframe":case"object":xt("load",n);break;case"video":case"audio":for(l=0;l<tu.length;l++)xt(tu[l],n);break;case"image":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"embed":case"source":case"link":xt("error",n),xt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(n,s,j,l,a,null)}return;default:if(yl(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&kg(n,s,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(n,s,T,l,a,null))}function cA(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,R=null,j=null,Y=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(q)||Wt(n,s,q,null,l,$)}}for(var H in l){var q=l[H];if($=a[H],l.hasOwnProperty(H)&&(q!=null||$!=null))switch(H){case"type":d=q;break;case"name":f=q;break;case"checked":j=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==$&&Wt(n,s,H,q,l,$)}}Sn(n,v,T,R,j,Y,d,f);return;case"select":q=v=T=H=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(d)||Wt(n,s,d,null,l,R)}for(f in l)if(d=l[f],R=a[f],l.hasOwnProperty(f)&&(d!=null||R!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Wt(n,s,f,d,l,R)}s=T,a=v,l=q,H!=null?Hi(n,!!a,H,!1):!!l!=!!a&&(s!=null?Hi(n,!!a,s,!0):Hi(n,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(n,s,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Wt(n,s,v,f,l,d)}Zt(n,H,q);return;case"option":for(var Tt in a)if(H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":n.selected=!1;break;default:Wt(n,s,Tt,null,l,H)}for(R in l)if(H=l[R],q=a[R],l.hasOwnProperty(R)&&H!==q&&(H!=null||q!=null))switch(R){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Wt(n,s,R,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)H=a[pt],a.hasOwnProperty(pt)&&H!=null&&!l.hasOwnProperty(pt)&&Wt(n,s,pt,null,l,H);for(j in l)if(H=l[j],q=a[j],l.hasOwnProperty(j)&&H!==q&&(H!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Wt(n,s,j,H,l,q)}return;default:if(yl(s)){for(var te in a)H=a[te],a.hasOwnProperty(te)&&H!==void 0&&!l.hasOwnProperty(te)&&kg(n,s,te,void 0,l,H);for(Y in l)H=l[Y],q=a[Y],!l.hasOwnProperty(Y)||H===q||H===void 0&&q===void 0||kg(n,s,Y,H,l,q);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&Wt(n,s,V,null,l,H);for($ in l)H=l[$],q=a[$],!l.hasOwnProperty($)||H===q||H==null&&q==null||Wt(n,s,$,H,l,q)}var xg=null,Mg=null;function gh(n){return n.nodeType===9?n:n.ownerDocument}function s0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Vg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ug=null;function hA(){var n=window.event;return n&&n.type==="popstate"?n===Ug?!1:(Ug=n,!0):(Ug=null,!1)}var a0=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(n){return o0.resolve(null).then(n).catch(gA)}:a0;function gA(n){setTimeout(function(){throw n})}function Qs(n){return n==="head"}function l0(n,s){var a=s,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&nu(v.documentElement),a&2&&nu(v.body),a&4)for(a=v.head,nu(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[kr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){n.removeChild(d),cu(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);cu(s)}function Lg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lg(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function mA(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[kr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ni(n.nextSibling),n===null)break}return null}function pA(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ni(n.nextSibling),n===null))return null;return n}function Pg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function yA(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ni(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var zg=null;function u0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function c0(n,s,a){switch(s=gh(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function nu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Cs(n)}var Gn=new Map,h0=new Set;function mh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var os=st.d;st.d={f:_A,r:vA,D:EA,C:TA,L:wA,m:SA,X:AA,S:bA,M:RA};function _A(){var n=os.f(),s=ah();return n||s}function vA(n){var s=li(n);s!==null&&s.tag===5&&s.type==="form"?O_(s):os.r(n)}var vo=typeof document>"u"?null:document;function f0(n,s,a){var l=vo;if(l&&typeof s=="string"&&s){var f=Se(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),h0.has(f)||(h0.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",n),ye(s),l.head.appendChild(s)))}}function EA(n){os.D(n),f0("dns-prefetch",n,null)}function TA(n,s){os.C(n,s),f0("preconnect",n,s)}function wA(n,s,a){os.L(n,s,a);var l=vo;if(l&&n&&s){var f='link[rel="preload"][as="'+Se(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Se(a.imageSizes)+'"]')):f+='[href="'+Se(n)+'"]';var d=f;switch(s){case"style":d=Eo(n);break;case"script":d=To(n)}Gn.has(d)||(n=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Gn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(iu(d))||s==="script"&&l.querySelector(su(d))||(s=l.createElement("link"),Xe(s,"link",n),ye(s),l.head.appendChild(s)))}}function SA(n,s){os.m(n,s);var a=vo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=To(n)}if(!Gn.has(d)&&(n=E({rel:"modulepreload",href:n},s),Gn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(d)))return}l=a.createElement("link"),Xe(l,"link",n),ye(l),a.head.appendChild(l)}}}function bA(n,s,a){os.S(n,s,a);var l=vo;if(l&&n){var f=fn(l).hoistableStyles,d=Eo(n);s=s||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(iu(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Gn.get(d))&&Bg(n,a);var R=v=l.createElement("link");ye(R),Xe(R,"link",n),R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ph(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function AA(n,s){os.X(n,s);var a=vo;if(a&&n){var l=fn(a).hoistableScripts,f=To(n),d=l.get(f);d||(d=a.querySelector(su(f)),d||(n=E({src:n,async:!0},s),(s=Gn.get(f))&&jg(n,s),d=a.createElement("script"),ye(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function RA(n,s){os.M(n,s);var a=vo;if(a&&n){var l=fn(a).hoistableScripts,f=To(n),d=l.get(f);d||(d=a.querySelector(su(f)),d||(n=E({src:n,async:!0,type:"module"},s),(s=Gn.get(f))&&jg(n,s),d=a.createElement("script"),ye(d),Xe(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function d0(n,s,a,l){var f=(f=at.current)?mh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Eo(a.href),a=fn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Eo(a.href);var d=fn(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(iu(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Gn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(n,a),d||IA(f,n,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=To(a),a=fn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Eo(n){return'href="'+Se(n)+'"'}function iu(n){return'link[rel="stylesheet"]['+n+"]"}function g0(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function IA(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),ye(s),n.head.appendChild(s))}function To(n){return'[src="'+Se(n)+'"]'}function su(n){return"script[async]"+n}function m0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return s.instance=l,ye(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ye(l),Xe(l,"style",f),ph(l,a.precedence,n),s.instance=l;case"stylesheet":f=Eo(a.href);var d=n.querySelector(iu(f));if(d)return s.state.loading|=4,s.instance=d,ye(d),d;l=g0(a),(f=Gn.get(f))&&Bg(l,f),d=(n.ownerDocument||n).createElement("link"),ye(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Xe(d,"link",l),s.state.loading|=4,ph(d,a.precedence,n),s.instance=d;case"script":return d=To(a.src),(f=n.querySelector(su(d)))?(s.instance=f,ye(f),f):(l=a,(f=Gn.get(d))&&(l=E({},a),jg(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ye(f),Xe(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ph(l,a.precedence,n));return s.instance}function ph(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Bg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function jg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var yh=null;function p0(n,s,a){if(yh===null){var l=new Map,f=yh=new Map;f.set(a,l)}else f=yh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[kr]||d[Ie]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function y0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function CA(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ru=null;function DA(){}function NA(n,s,a){if(ru===null)throw Error(r(475));var l=ru;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Eo(a.href),d=n.querySelector(iu(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=_h.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=d,ye(d);return}d=n.ownerDocument||n,a=g0(a),(f=Gn.get(f))&&Bg(a,f),d=d.createElement("link"),ye(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Xe(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=_h.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function OA(){if(ru===null)throw Error(r(475));var n=ru;return n.stylesheets&&n.count===0&&Hg(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Hg(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)Hg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var vh=null;function Hg(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,vh=new Map,s.forEach(kA,n),vh=null,_h.call(n))}function kA(n,s){if(!(s.state.loading&4)){var a=vh.get(n);if(a)var l=a.get(null);else{a=new Map,vh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=_h.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var au={$$typeof:it,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function xA(n,s,a,l,f,d,v,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function v0(n,s,a,l,f,d,v,T,R,j,Y,$){return n=new xA(n,s,a,v,T,R,j,$),s=1,d===!0&&(s|=24),d=An(3,null,null,s),n.current=d,d.stateNode=n,s=Sd(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Id(d),n}function E0(n){return n?(n=Za,n):Za}function T0(n,s,a,l,f,d){f=E0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ms(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vs(n,l,s),a!==null&&(Nn(a,n,s),Ul(a,n,s))}function w0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function qg(n,s){w0(n,s),(n=n.alternate)&&w0(n,s)}function S0(n){if(n.tag===13){var s=$a(n,67108864);s!==null&&Nn(s,n,67108864),qg(n,67108864)}}var Eh=!0;function MA(n,s,a,l){var f=G.T;G.T=null;var d=st.p;try{st.p=2,Fg(n,s,a,l)}finally{st.p=d,G.T=f}}function VA(n,s,a,l){var f=G.T;G.T=null;var d=st.p;try{st.p=8,Fg(n,s,a,l)}finally{st.p=d,G.T=f}}function Fg(n,s,a,l){if(Eh){var f=Gg(l);if(f===null)Og(n,s,l,Th,a),A0(n,l);else if(LA(f,n,s,a,l))l.stopPropagation();else if(A0(n,l),s&4&&-1<UA.indexOf(n)){for(;f!==null;){var d=li(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-tn(v);T.entanglements[1]|=R,v&=~R}wi(d),(Xt&6)===0&&(sh=xn()+500,Wl(0))}}break;case 13:T=$a(d,2),T!==null&&Nn(T,d,2),ah(),qg(d,2)}if(d=Gg(l),d===null&&Og(n,s,l,Th,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Og(n,s,l,null,a)}}function Gg(n){return n=Un(n),Yg(n)}var Th=null;function Yg(n){if(Th=null,n=zi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Th=n,null}function b0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xf()){case sl:return 2;case Da:return 8;case Ir:case $f:return 32;case Na:return 268435456;default:return 32}default:return 32}}var Qg=!1,Ks=null,Xs=null,$s=null,ou=new Map,lu=new Map,Zs=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A0(n,s){switch(n){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":ou.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(s.pointerId)}}function uu(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=li(s),s!==null&&S0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function LA(n,s,a,l,f){switch(s){case"focusin":return Ks=uu(Ks,n,s,a,l,f),!0;case"dragenter":return Xs=uu(Xs,n,s,a,l,f),!0;case"mouseover":return $s=uu($s,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return ou.set(d,uu(ou.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,lu.set(d,uu(lu.get(d)||null,n,s,a,l,f)),!0}return!1}function R0(n){var s=zi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){n.blockedOn=s,ac(n.priority,function(){if(a.tag===13){var l=Dn();l=As(l);var f=$a(a,l);f!==null&&Nn(f,a,l),qg(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Gg(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);qi=l,a.target.dispatchEvent(l),qi=null}else return s=li(a),s!==null&&S0(s),n.blockedOn=a,!1;s.shift()}return!0}function I0(n,s,a){wh(n)&&a.delete(s)}function PA(){Qg=!1,Ks!==null&&wh(Ks)&&(Ks=null),Xs!==null&&wh(Xs)&&(Xs=null),$s!==null&&wh($s)&&($s=null),ou.forEach(I0),lu.forEach(I0)}function Sh(n,s){n.blockedOn===s&&(n.blockedOn=null,Qg||(Qg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,PA)))}var bh=null;function C0(n){bh!==n&&(bh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Yg(l||a)===null)continue;break}var d=li(a);d!==null&&(n.splice(s,3),s-=3,Yd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function cu(n){function s(R){return Sh(R,n)}Ks!==null&&Sh(Ks,n),Xs!==null&&Sh(Xs,n),$s!==null&&Sh($s,n),ou.forEach(s),lu.forEach(s);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)R0(a),a.blockedOn===null&&Zs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[we]||null;if(typeof d=="function")v||C0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[we]||null)T=v.formAction;else if(Yg(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),C0(a)}}}function Kg(n){this._internalRoot=n}Ah.prototype.render=Kg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Dn();T0(a,l,n,s,null,null)},Ah.prototype.unmount=Kg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;T0(n.current,2,null,n,null,null),ah(),s[Mn]=null}};function Ah(n){this._internalRoot=n}Ah.prototype.unstable_scheduleHydration=function(n){if(n){var s=Rs();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Zs.length&&s!==0&&s<Zs[a].priority;a++);Zs.splice(a,0,n),a===0&&R0(n)}};var D0=t.version;if(D0!=="19.1.0")throw Error(r(527,D0,"19.1.0"));st.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var zA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{fe=Rh.inject(zA),Kt=Rh}catch{}}return fu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=G_,d=Y_,v=Q_,T=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=v0(n,1,!1,null,null,a,l,f,d,v,T,null),n[Mn]=s.current,Ng(n),new Kg(s)},fu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=G_,v=Y_,T=Q_,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),s=v0(n,1,!0,s,a??null,l,f,d,v,T,R,j),s.context=E0(null),a=s.current,l=Dn(),l=As(l),f=Ms(l),f.callback=null,Vs(a,f,l),a=l,s.current.lanes=a,Pi(s,a),wi(s),n[Mn]=s.current,Ng(n),new Ah(s)},fu.version="19.1.0",fu}var z0;function XA(){if(z0)return Zg.exports;z0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Zg.exports=KA(),Zg.exports}var $A=XA();const ZA=()=>{};var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},JA=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],h=i[e++],g=i[e++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=i[e++],h=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,g=h?i[o+1]:0,m=o+2<i.length,y=m?i[o+2]:0,E=u>>2,w=(u&3)<<4|g>>4;let b=(g&15)<<2|y>>6,D=y&63;m||(D=64,h||(b=64)),r.push(e[E],e[w],e[b],e[D])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(UT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):JA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],g=o<i.length?e[i.charAt(o)]:0;++o;const y=o<i.length?e[i.charAt(o)]:64;++o;const w=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||g==null||y==null||w==null)throw new WA;const b=u<<2|g>>4;if(r.push(b),y!==64){const D=g<<4&240|y>>2;if(r.push(D),w!==64){const U=y<<6&192|w;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(i){const t=UT(i);return LT.encodeByteArray(t,!0)},$h=function(i){return tR(i).replace(/\./g,"")},PT=function(i){try{return LT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=()=>eR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof B0>"u")return;const i=B0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&PT(i[1]);return t&&JSON.parse(t)},Rf=()=>{try{return ZA()||nR()||iR()||sR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},zT=i=>{var t,e;return(e=(t=Rf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},rR=i=>{const t=zT(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},BT=()=>{var i;return(i=Rf())===null||i===void 0?void 0:i.config},jT=i=>{var t;return(t=Rf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(i){return i.endsWith(".cloudworkstations.dev")}async function HT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[$h(JSON.stringify(e)),$h(JSON.stringify(h)),""].join(".")}const pu={};function lR(){const i={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?i.emulator.push(t):i.prod.push(t);return i}function uR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let j0=!1;function qT(i,t){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||pu[i]===t||pu[i]||j0)return;pu[i]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=lR().prod.length>0;function h(){const b=document.getElementById(r);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{j0=!0,h()},b}function E(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=uR(r),D=e("text"),U=document.getElementById(D)||document.createElement("span"),X=e("learnmore"),W=document.getElementById(X)||document.createElement("a"),mt=e("preprendIcon"),ut=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const it=b.element;g(it),E(W,X);const Et=y();m(ut,mt),it.append(ut,U,W,Et),document.body.appendChild(it)}u?(U.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function hR(){var i;const t=(i=Rf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pR(){return!hR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class ws extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=vR,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?ER(u,r):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new ws(o,g,r)}}function ER(i,t){return i.replace(TR,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const TR=/\{\$([^}]+)}/g;function wR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ga(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],h=t[o];if(H0(u)&&H0(h)){if(!ga(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function H0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function SR(i,t){const e=new bR(i,t);return e.subscribe.bind(e)}class bR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");AR(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(i){return i&&i._delegate?i._delegate:i}class ma{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new aR;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CR(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&h.resolve(o)}return o}onInit(t,e){var r;const o=this.normalizeInstanceIdentifier(e),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IR(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(i){return i===oa?void 0:i}function CR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new RR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Mt||(Mt={}));const NR={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},OR=Mt.INFO,kR={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},xR=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=kR[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rp{constructor(t){this.name=t,this._logLevel=OR,this._logHandler=xR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const MR=(i,t)=>t.some(e=>i instanceof e);let q0,F0;function VR(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,bm=new WeakMap,GT=new WeakMap,nm=new WeakMap,ap=new WeakMap;function LR(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{e(ar(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&FT.set(e,i)}).catch(()=>{}),ap.set(t,i),t}function PR(i){if(bm.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});bm.set(i,t)}let Am={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return bm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||GT.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ar(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function zR(i){Am=i(Am)}function BR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(im(this),t,...e);return GT.set(r,t.sort?t.sort():[t]),ar(r)}:UR().includes(i)?function(...t){return i.apply(im(this),t),ar(FT.get(this))}:function(...t){return ar(i.apply(im(this),t))}}function jR(i){return typeof i=="function"?BR(i):(i instanceof IDBTransaction&&PR(i),MR(i,VR())?new Proxy(i,Am):i)}function ar(i){if(i instanceof IDBRequest)return LR(i);if(nm.has(i))return nm.get(i);const t=jR(i);return t!==i&&(nm.set(i,t),ap.set(t,i)),t}const im=i=>ap.get(i);function HR(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),g=ar(h);return r&&h.addEventListener("upgradeneeded",m=>{r(ar(h.result),m.oldVersion,m.newVersion,ar(h.transaction),m)}),e&&h.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const qR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],sm=new Map;function G0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=FR.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qR.includes(e)))return;const u=async function(h,...g){const m=this.transaction(h,o?"readwrite":"readonly");let y=m.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[e](...g),o&&m.done]))[0]};return sm.set(t,u),u}zR(i=>({...i,get:(t,e,r)=>G0(t,e)||i.get(t,e,r),has:(t,e)=>!!G0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(YR(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function YR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rm="@firebase/app",Y0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new rp("@firebase/app"),QR="@firebase/app-compat",KR="@firebase/analytics-compat",XR="@firebase/analytics",$R="@firebase/app-check-compat",ZR="@firebase/app-check",JR="@firebase/auth",WR="@firebase/auth-compat",tI="@firebase/database",eI="@firebase/data-connect",nI="@firebase/database-compat",iI="@firebase/functions",sI="@firebase/functions-compat",rI="@firebase/installations",aI="@firebase/installations-compat",oI="@firebase/messaging",lI="@firebase/messaging-compat",uI="@firebase/performance",cI="@firebase/performance-compat",hI="@firebase/remote-config",fI="@firebase/remote-config-compat",dI="@firebase/storage",gI="@firebase/storage-compat",mI="@firebase/firestore",pI="@firebase/ai",yI="@firebase/firestore-compat",_I="firebase",vI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",EI={[Rm]:"fire-core",[QR]:"fire-core-compat",[XR]:"fire-analytics",[KR]:"fire-analytics-compat",[ZR]:"fire-app-check",[$R]:"fire-app-check-compat",[JR]:"fire-auth",[WR]:"fire-auth-compat",[tI]:"fire-rtdb",[eI]:"fire-data-connect",[nI]:"fire-rtdb-compat",[iI]:"fire-fn",[sI]:"fire-fn-compat",[rI]:"fire-iid",[aI]:"fire-iid-compat",[oI]:"fire-fcm",[lI]:"fire-fcm-compat",[uI]:"fire-perf",[cI]:"fire-perf-compat",[hI]:"fire-rc",[fI]:"fire-rc-compat",[dI]:"fire-gcs",[gI]:"fire-gcs-compat",[mI]:"fire-fst",[yI]:"fire-fst-compat",[pI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,TI=new Map,Cm=new Map;function Q0(i,t){try{i.container.addComponent(t)}catch(e){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Mo(i){const t=i.name;if(Cm.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,i);for(const e of Zh.values())Q0(e,i);for(const e of TI.values())Q0(e,i);return!0}function op(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function ii(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Hu("app","Firebase",wI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=vI;function YT(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Im,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(e||(e=BT()),!e)throw or.create("no-options");const u=Zh.get(o);if(u){if(ga(e,u.options)&&ga(r,u.config))return u;throw or.create("duplicate-app",{appName:o})}const h=new DR(o);for(const m of Cm.values())h.addComponent(m);const g=new SI(e,r,h);return Zh.set(o,g),g}function QT(i=Im){const t=Zh.get(i);if(!t&&i===Im&&BT())return YT();if(!t)throw or.create("no-app",{appName:i});return t}function lr(i,t,e){var r;let o=(r=EI[i])!==null&&r!==void 0?r:i;e&&(o+=`-${e}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const g=[`Unable to register library "${o}" with version "${t}":`];u&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&g.push("and"),h&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(g.join(" "));return}Mo(new ma(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebase-heartbeat-database",AI=1,Au="firebase-heartbeat-store";let rm=null;function KT(){return rm||(rm=HR(bI,AI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Au)}catch(e){console.warn(e)}}}}).catch(i=>{throw or.create("idb-open",{originalErrorMessage:i.message})})),rm}async function RI(i){try{const e=(await KT()).transaction(Au),r=await e.objectStore(Au).get(XT(i));return await e.done,r}catch(t){if(t instanceof ws)ms.warn(t.message);else{const e=or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ms.warn(e.message)}}}async function K0(i,t){try{const r=(await KT()).transaction(Au,"readwrite");await r.objectStore(Au).put(t,XT(i)),await r.done}catch(e){if(e instanceof ws)ms.warn(e.message);else{const r=or.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ms.warn(r.message)}}}function XT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=1024,CI=30;class DI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new OI(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=X0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>CI){const h=kI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=X0(),{heartbeatsToSend:r,unsentEntries:o}=NI(this._heartbeatsCache.heartbeats),u=$h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ms.warn(e),""}}}function X0(){return new Date().toISOString().substring(0,10)}function NI(i,t=II){const e=[];let r=i.slice();for(const o of i){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),$0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),$0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class OI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await RI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return K0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return K0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function $0(i){return $h(JSON.stringify({version:2,heartbeats:i})).length}function kI(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(i){Mo(new ma("platform-logger",t=>new GR(t),"PRIVATE")),Mo(new ma("heartbeat",t=>new DI(t),"PRIVATE")),lr(Rm,Y0,i),lr(Rm,Y0,"esm2017"),lr("fire-js","")}xI("");var MI="firebase",VI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(MI,VI,"app");var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,$T;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,A){function I(){}I.prototype=A.prototype,k.D=A.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(x,M,L){for(var C=Array(arguments.length-2),he=2;he<arguments.length;he++)C[he-2]=arguments[he];return A.prototype[M].apply(x,C)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,I){I||(I=0);var x=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)x[M]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(M=0;16>M;++M)x[M]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=k.g[0],I=k.g[1],M=k.g[2];var L=k.g[3],C=A+(L^I&(M^L))+x[0]+3614090360&4294967295;A=I+(C<<7&4294967295|C>>>25),C=L+(M^A&(I^M))+x[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=M+(I^L&(A^I))+x[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(A^M&(L^A))+x[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=A+(L^I&(M^L))+x[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=L+(M^A&(I^M))+x[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=M+(I^L&(A^I))+x[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(A^M&(L^A))+x[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=A+(L^I&(M^L))+x[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=L+(M^A&(I^M))+x[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=M+(I^L&(A^I))+x[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(A^M&(L^A))+x[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=A+(L^I&(M^L))+x[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=L+(M^A&(I^M))+x[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=M+(I^L&(A^I))+x[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(A^M&(L^A))+x[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=A+(M^L&(I^M))+x[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(A^I))+x[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=M+(A^I&(L^A))+x[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(M^L))+x[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=A+(M^L&(I^M))+x[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(A^I))+x[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=M+(A^I&(L^A))+x[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(M^L))+x[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=A+(M^L&(I^M))+x[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(A^I))+x[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=M+(A^I&(L^A))+x[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(M^L))+x[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=A+(M^L&(I^M))+x[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(A^I))+x[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=M+(A^I&(L^A))+x[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(M^L))+x[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=A+(I^M^L)+x[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^M)+x[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=M+(L^A^I)+x[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^A)+x[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=A+(I^M^L)+x[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^M)+x[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=M+(L^A^I)+x[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^A)+x[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=A+(I^M^L)+x[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^M)+x[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=M+(L^A^I)+x[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^A)+x[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=A+(I^M^L)+x[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^M)+x[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=M+(L^A^I)+x[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^A)+x[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=A+(M^(I|~L))+x[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~M))+x[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=M+(A^(L|~I))+x[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~A))+x[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=A+(M^(I|~L))+x[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~M))+x[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=M+(A^(L|~I))+x[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~A))+x[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=A+(M^(I|~L))+x[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~M))+x[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=M+(A^(L|~I))+x[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~A))+x[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=A+(M^(I|~L))+x[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~M))+x[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=M+(A^(L|~I))+x[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~A))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+L&4294967295}r.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var I=A-this.blockSize,x=this.B,M=this.h,L=0;L<A;){if(M==0)for(;L<=I;)o(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<A;)if(x[M++]=k.charCodeAt(L++),M==this.blockSize){o(this,x),M=0;break}}else for(;L<A;)if(x[M++]=k[L++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=A},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var I=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=I&255,I/=256;for(this.u(k),k=Array(16),A=I=0;4>A;++A)for(var x=0;32>x;x+=8)k[I++]=this.g[A]>>>x&255;return k};function u(k,A){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=A(k)}function h(k,A){this.h=A;for(var I=[],x=!0,M=k.length-1;0<=M;M--){var L=k[M]|0;x&&L==A||(I[M]=L,x=!1)}this.g=I}var g={};function m(k){return-128<=k&&128>k?u(k,function(A){return new h([A|0],0>A?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return W(y(-k));for(var A=[],I=1,x=0;k>=I;x++)A[x]=k/I|0,I*=4294967296;return new h(A,0)}function E(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return W(E(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(A,8)),x=w,M=0;M<k.length;M+=8){var L=Math.min(8,k.length-M),C=parseInt(k.substring(M,M+L),A);8>L?(L=y(Math.pow(A,L)),x=x.j(L).add(y(C))):(x=x.j(I),x=x.add(y(C)))}return x}var w=m(0),b=m(1),D=m(16777216);i=h.prototype,i.m=function(){if(X(this))return-W(this).m();for(var k=0,A=1,I=0;I<this.g.length;I++){var x=this.i(I);k+=(0<=x?x:4294967296+x)*A,A*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(U(this))return"0";if(X(this))return"-"+W(this).toString(k);for(var A=y(Math.pow(k,6)),I=this,x="";;){var M=Et(I,A).g;I=mt(I,M.j(A));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=M,U(I))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function U(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function X(k){return k.h==-1}i.l=function(k){return k=mt(this,k),X(k)?-1:U(k)?0:1};function W(k){for(var A=k.g.length,I=[],x=0;x<A;x++)I[x]=~k.g[x];return new h(I,~k.h).add(b)}i.abs=function(){return X(this)?W(this):this},i.add=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],x=0,M=0;M<=A;M++){var L=x+(this.i(M)&65535)+(k.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);x=C>>>16,L&=65535,C&=65535,I[M]=C<<16|L}return new h(I,I[I.length-1]&-2147483648?-1:0)};function mt(k,A){return k.add(W(A))}i.j=function(k){if(U(this)||U(k))return w;if(X(this))return X(k)?W(this).j(W(k)):W(W(this).j(k));if(X(k))return W(this.j(W(k)));if(0>this.l(D)&&0>k.l(D))return y(this.m()*k.m());for(var A=this.g.length+k.g.length,I=[],x=0;x<2*A;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<k.g.length;M++){var L=this.i(x)>>>16,C=this.i(x)&65535,he=k.i(M)>>>16,re=k.i(M)&65535;I[2*x+2*M]+=C*re,ut(I,2*x+2*M),I[2*x+2*M+1]+=L*re,ut(I,2*x+2*M+1),I[2*x+2*M+1]+=C*he,ut(I,2*x+2*M+1),I[2*x+2*M+2]+=L*he,ut(I,2*x+2*M+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new h(I,0)};function ut(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function it(k,A){this.g=k,this.h=A}function Et(k,A){if(U(A))throw Error("division by zero");if(U(k))return new it(w,w);if(X(k))return A=Et(W(k),A),new it(W(A.g),W(A.h));if(X(A))return A=Et(k,W(A)),new it(W(A.g),A.h);if(30<k.g.length){if(X(k)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var I=b,x=A;0>=x.l(k);)I=gt(I),x=gt(x);var M=It(I,1),L=It(x,1);for(x=It(x,2),I=It(I,2);!U(x);){var C=L.add(x);0>=C.l(k)&&(M=M.add(I),L=C),x=It(x,1),I=It(I,1)}return A=mt(k,M.j(A)),new it(M,A)}for(M=w;0<=k.l(A);){for(I=Math.max(1,Math.floor(k.m()/A.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=y(I),C=L.j(A);X(C)||0<C.l(k);)I-=x,L=y(I),C=L.j(A);U(L)&&(L=b),M=M.add(L),k=mt(k,C)}return new it(M,k)}i.A=function(k){return Et(this,k).h},i.and=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)&k.i(x);return new h(I,this.h&k.h)},i.or=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)|k.i(x);return new h(I,this.h|k.h)},i.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)^k.i(x);return new h(I,this.h^k.h)};function gt(k){for(var A=k.g.length+1,I=[],x=0;x<A;x++)I[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(I,k.h)}function It(k,A){var I=A>>5;A%=32;for(var x=k.g.length-I,M=[],L=0;L<x;L++)M[L]=0<A?k.i(L+I)>>>A|k.i(L+I+1)<<32-A:k.i(L+I);return new h(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$T=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,ur=h}).apply(typeof Z0<"u"?Z0:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZT,du,JT,Lh,Dm,WT,tw,ew;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=e(this);function o(c,p){if(p)t:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in _))break t;_=_[P]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,P={next:function(){if(!S&&_<c.length){var F=_++;return{value:p(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},g=this||self;function m(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function w(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),c.apply(p,P)}}return function(){return c.apply(p,arguments)}}function b(c,p,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,b.apply(null,arguments)}function D(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,P,F){for(var nt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)nt[Lt-2]=arguments[Lt];return p.prototype[P].apply(S,nt)}}function X(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function W(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const P=c.length||0,F=S.length||0;c.length=P+F;for(let nt=0;nt<F;nt++)c[P+nt]=S[nt]}else c.push(S)}}class mt{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ut(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function Et(c){return Et[" "](c),c}Et[" "]=function(){};var gt=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function It(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function k(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function A(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,p){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)c[_]=S[_];for(let F=0;F<I.length;F++)_=I[F],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function L(c){g.setTimeout(()=>{throw c},0)}function C(){var c=jt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class he{constructor(){this.h=this.g=null}add(p,_){const S=re.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new mt(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ht=!1,jt=new he,N=()=>{const c=g.Promise.resolve(void 0);st=()=>{c.then(B)}};var B=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var p=re;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ht=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,p),g.removeEventListener("test",_,p)}catch{}return c}();function ct(c,p){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(gt){t:{try{Et(p.nodeName);var P=!0;break t}catch{}P=!1}P||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:at[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ct.aa.h.call(this)}}U(ct,J);var at={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function pn(c,p,_,S,P){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=P,this.key=++Ht,this.da=this.fa=!1}function kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ui(c){this.src=c,this.g={},this.h=0}Ui.prototype.add=function(c,p,_,S,P){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var nt=Ar(c,p,S,P);return-1<nt?(p=c[nt],_||(p.fa=!1)):(p=new pn(p,this.src,F,!!S,P),p.fa=_,c.push(p)),p};function br(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],P=Array.prototype.indexOf.call(S,p,void 0),F;(F=0<=P)&&Array.prototype.splice.call(S,P,1),F&&(kn(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ar(c,p,_,S){for(var P=0;P<c.length;++P){var F=c[P];if(!F.da&&F.listener==p&&F.capture==!!_&&F.ha==S)return P}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),il={};function ic(c,p,_,S,P){if(Array.isArray(p)){for(var F=0;F<p.length;F++)ic(c,p[F],_,S,P);return null}return _=sc(_),c&&c[Qt]?c.K(p,_,y(S)?!!S.capture:!1,P):xn(c,p,_,!1,S,P)}function xn(c,p,_,S,P,F){if(!p)throw Error("Invalid event type");var nt=y(P)?!!P.capture:!!P,Lt=Na(c);if(Lt||(c[Rr]=Lt=new Ui(c)),_=Lt.add(p,_,S,nt,F),_.proxy)return _;if(S=Xf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)rt||(P=nt),P===void 0&&(P=!1),c.addEventListener(p.toString(),S,P);else if(c.attachEvent)c.attachEvent(Ir(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xf(){function c(_){return p.call(c.src,c.listener,_)}const p=$f;return c}function sl(c,p,_,S,P){if(Array.isArray(p))for(var F=0;F<p.length;F++)sl(c,p[F],_,S,P);else S=y(S)?!!S.capture:!!S,_=sc(_),c&&c[Qt]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],_=Ar(F,_,S,P),-1<_&&(kn(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Na(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ar(p,_,S,P)),(_=-1<c?p[c]:null)&&Da(_))}function Da(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Qt])br(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(Ir(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=Na(p))?(br(_,c),_.h==0&&(_.src=null,p[Rr]=null)):kn(c)}}}function Ir(c){return c in il?il[c]:il[c]="on"+c}function $f(c,p){if(c.da)c=!0;else{p=new ct(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&Da(c),c=_.call(S,p)}return c}function Na(c){return c=c[Rr],c instanceof Ui?c:null}var rl="__closure_events_fn_"+(1e9*Math.random()>>>0);function sc(c){return typeof c=="function"?c:(c[rl]||(c[rl]=function(p){return c.handleEvent(p)}),c[rl])}function fe(){K.call(this),this.i=new Ui(this),this.M=this,this.F=null}U(fe,K),fe.prototype[Qt]=!0,fe.prototype.removeEventListener=function(c,p,_,S){sl(this,c,p,_,S)};function Kt(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new J(p,c);else if(p instanceof J)p.target=p.target||c;else{var P=p;p=new J(S,c),x(p,P)}if(P=!0,_)for(var F=_.length-1;0<=F;F--){var nt=p.g=_[F];P=wn(nt,S,!0,p)&&P}if(nt=p.g=c,P=wn(nt,S,!0,p)&&P,P=wn(nt,S,!1,p)&&P,_)for(F=0;F<_.length;F++)nt=p.g=_[F],P=wn(nt,S,!1,p)&&P}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)kn(_[S]);delete c.g[p],c.h--}}this.F=null},fe.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},fe.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function wn(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var P=!0,F=0;F<p.length;++F){var nt=p[F];if(nt&&!nt.da&&nt.capture==_){var Lt=nt.listener,Ce=nt.ha||nt.src;nt.fa&&br(c.i,nt),P=Lt.call(Ce,S)!==!1&&P}}return P&&!S.defaultPrevented}function tn(c,p,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:g.setTimeout(c,p||0)}function rc(c){c.g=tn(()=>{c.g=null,c.i&&(c.i=!1,rc(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Zf extends K{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:rc(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(c){K.call(this),this.h=c,this.g={}}U(Cr,K);var Dr=[];function Nr(c){It(c.g,function(p,_){this.g.hasOwnProperty(_)&&Da(p)},c),c.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Nr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=g.JSON.stringify,Oa=g.JSON.parse,Or=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function al(){}al.prototype.h=null;function ol(c){return c.h||(c.h=c.i())}function ll(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){J.call(this,"d")}U(Pi,J);function ul(){J.call(this,"c")}U(ul,J);var oi={},cl=null;function As(){return cl=cl||new fe}oi.La="serverreachability";function ka(c){J.call(this,oi.La,c)}U(ka,J);function Rs(c){const p=As();Kt(p,new ka(p))}oi.STAT_EVENT="statevent";function ac(c,p){J.call(this,oi.STAT_EVENT,c),this.stat=p}U(ac,J);function ae(c){const p=As();Kt(p,new ac(p,c))}oi.Ma="timingevent";function Ie(c,p){J.call(this,oi.Ma,c),this.size=p}U(Ie,J);function we(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},p)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function hl(c,p,_,S,P,F){c.info(function(){if(c.g)if(F)for(var nt="",Lt=F.split("&"),Ce=0;Ce<Lt.length;Ce++){var Pt=Lt[Ce].split("=");if(1<Pt.length){var Pe=Pt[0];Pt=Pt[1];var De=Pe.split("_");nt=2<=De.length&&De[1]=="type"?nt+(Pe+"="+Pt+"&"):nt+(Pe+"=redacted&")}}else nt=null;else nt=F;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+_+`
`+nt})}function Jf(c,p,_,S,P,F,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+_+`
`+F+" "+nt})}function Is(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+kr(c,_)+(S?" "+S:"")})}function oc(c,p){c.info(function(){return"TIMEOUT: "+p})}Mn.prototype.info=function(){};function kr(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var P=S[1];if(Array.isArray(P)&&!(1>P.length)){var F=P[0];if(F!="noop"&&F!="stop"&&F!="close")for(var nt=1;nt<P.length;nt++)P[nt]=""}}}}return Zn(_)}catch{return p}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}U(ui,al),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function fn(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var fl={},xa={};function Jn(c,p,_){c.L=1,c.v=Lr(Sn(p)),c.m=_,c.P=!0,Bi(c,null)}function Bi(c,p){c.F=Date.now(),xr(c),c.A=Sn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),_l(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ye,c.g=Sc(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Zf(b(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(Dr[0]=P.toString()),P=Dr);for(var F=0;F<P.length;F++){var nt=ic(_,P[F],S||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Rs(),hl(c.i,c.u,c.A,c.l,c.R,c.m)}fn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Pn(c)==3?p.j():this.Y(c)},fn.prototype.Y=function(c){try{if(c==this.g)t:{const De=Pn(this.g);var p=this.g.Ba();const Ki=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||mc(this.g)))){this.J||De!=4||p==7||(p==8||0>=Ki?Rs(3):Rs(2)),Ds(this);var _=this.g.Z();this.X=_;e:if(lc(this)){var S=mc(this.g);c="";var P=S.length,F=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),ci(this);var nt="";break e}this.h.i=new g.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(F&&p==P-1)});S.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Jf(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ce=this.g;if((Lt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Lt)){var Pt=Lt;break e}}Pt=null}if(_=Pt)Is(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,_);else{this.o=!1,this.s=3,ae(12),Ge(this),ci(this);break t}}if(this.P){_=!0;let Ye;for(;!this.J&&this.C<nt.length;)if(Ye=uc(this,nt),Ye==xa){De==4&&(this.s=4,ae(14),_=!1),Is(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==fl){this.s=4,ae(15),Is(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Is(this.i,this.l,Ye,null),Mr(this,Ye);if(lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||nt.length!=0||this.h.h||(this.s=1,ae(16),_=!1),this.o=this.o&&_,!_)Is(this.i,this.l,nt,"[Invalid Chunked Response]"),Ge(this),ci(this);else if(0<nt.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Gr(Pe),Pe.M=!0,ae(11))}}else Is(this.i,this.l,nt,null),Mr(this,nt);De==4&&Ge(this),this.o&&!this.J&&(De==4?Ec(this.j,this):(this.o=!1,xr(this)))}else id(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Ge(this),ci(this)}}}catch{}finally{}};function lc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uc(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?xa:(_=Number(p.substring(_,S)),isNaN(_)?fl:(S+=1,S+_>p.length?xa:(p=p.slice(S,S+_),c.C=S+_,p)))}fn.prototype.cancel=function(){this.J=!0,Ge(this)};function xr(c){c.S=Date.now()+c.I,cc(c,c.I)}function cc(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=we(b(c.ba,c),p)}function Ds(c){c.B&&(g.clearTimeout(c.B),c.B=null)}fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(oc(this.i,this.A),this.L!=2&&(Rs(),ae(17)),Ge(this),this.s=2,ci(this)):cc(this,this.S-c)};function ci(c){c.j.G==0||c.J||Ec(c.j,c)}function Ge(c){Ds(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Nr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Mr(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||dl(_.h,c))){if(!c.K&&dl(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ga(_),qa(_);else break t;Sl(_),ae(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=we(b(_.Za,_),6e3));if(1>=Va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((c.K||_.g==c)&&Ga(_),!ut(p))for(P=_.Da.g.parse(p),p=0;p<P.length;p++){let Pt=P[p];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Pe=Pt[3];Pe!=null&&(_.la=Pe,_.j.info("VER="+_.la));const De=Pt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const Ki=Pt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(S=1.5*Ki,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ye=c.g;if(Ye){const yi=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var F=S.h;F.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ua(F,F.h),F.h=null))}if(S.D){const Al=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(S.ya=Al,Zt(S.I,S.D,Al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var nt=c;if(S.qa=wc(S,S.J?S.ia:null,S.W),nt.K){dn(S.h,nt);var Lt=nt,Ce=S.L;Ce&&(Lt.I=Ce),Lt.B&&(Ds(Lt),xr(Lt)),S.g=nt}else _c(S);0<_.i.length&&Fa(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Qi(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Qi(_,7):Tl(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}Rs(4)}catch{}}var hc=class{constructor(c,p){this.g=c,this.map=p}};function ji(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Va(c){return c.h?1:c.g?c.g.size:0}function dl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ua(c,p){c.g?c.g.add(p):c.h=p}function dn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ji.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return X(c.i)}function Wf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function La(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function ml(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=La(c),S=Wf(c),P=S.length,F=0;F<P;F++)p.call(void 0,S[F],_&&_[F],c)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function td(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),P=null;if(0<=S){var F=c[_].substring(0,S);P=c[_].substring(S+1)}else F=c[_];p(F,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,Ur(this,c.j),this.o=c.o,this.g=c.g,Ns(this,c.s),this.l=c.l;var p=c.i,_=new qi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Hi(this,_),this.m=c.m}else c&&(p=String(c).match(Vr))?(this.h=!1,Ur(this,p[1]||"",!0),this.o=Vn(p[2]||""),this.g=Vn(p[3]||"",!0),Ns(this,p[4]),this.l=Vn(p[5]||"",!0),Hi(this,p[6]||"",!0),this.m=Vn(p[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Se.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Pr(p,pl,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Pr(p,pl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Pr(_,_.charAt(0)=="/"?ed:yl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Pr(_,Pa)),c.join("")};function Sn(c){return new Se(c)}function Ur(c,p,_){c.j=_?Vn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ns(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Hi(c,p,_){p instanceof qi?(c.i=p,dc(c.i,c.h)):(_||(p=Pr(p,nd)),c.i=new qi(p,c.h))}function Zt(c,p,_){c.i.set(p,_)}function Lr(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pr(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,fc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pl=/[#\/\?@]/g,yl=/[#\?:]/g,ed=/[#\?]/g,nd=/[#\?@]/g,Pa=/#/g;function qi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&td(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}i=qi.prototype,i.add=function(c,p){Un(this),this.i=null,c=hi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Fi(c,p){Un(c),p=hi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Gi(c,p){return Un(c),p=hi(c,p),c.g.has(p)}i.forEach=function(c,p){Un(this),this.g.forEach(function(_,S){_.forEach(function(P){c.call(p,P,S,this)},this)},this)},i.na=function(){Un(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const P=c[S];for(let F=0;F<P.length;F++)_.push(p[S])}return _},i.V=function(c){Un(this);let p=[];if(typeof c=="string")Gi(this,c)&&(p=p.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},i.set=function(c,p){return Un(this),this.i=null,c=hi(this,c),Gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function _l(c,p,_){Fi(c,p),0<_.length&&(c.i=null,c.g.set(hi(c,p),X(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const F=encodeURIComponent(String(S)),nt=this.V(S);for(S=0;S<nt.length;S++){var P=F;nt[S]!==""&&(P+="="+encodeURIComponent(String(nt[S]))),c.push(P)}}return this.i=c.join("&")};function hi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function dc(c,p){p&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(_,S){var P=S.toLowerCase();S!=P&&(Fi(this,S),_l(this,P,_))},c)),c.j=p}function zr(c,p){const _=new Mn;if(g.Image){const S=new Image;S.onload=D(Ln,_,"TestLoadImage: loaded",!0,p,S),S.onerror=D(Ln,_,"TestLoadImage: error",!1,p,S),S.onabort=D(Ln,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=D(Ln,_,"TestLoadImage: timeout",!1,p,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Wn(c,p){const _=new Mn,S=new AbortController,P=setTimeout(()=>{S.abort(),Ln(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(P),F.ok?Ln(_,"TestPingServer: ok",!0,p):Ln(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Ln(_,"TestPingServer: error",!1,p)})}function Ln(c,p,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function Br(){this.g=new Or}function fi(c,p,_){const S=_||"";try{ml(c,function(P,F){let nt=P;y(P)&&(nt=Zn(P)),p.push(S+F+"="+encodeURIComponent(nt))})}catch(P){throw p.push(S+"type="+encodeURIComponent("_badmap")),P}}function Os(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Os,al),Os.prototype.g=function(){return new Yi(this.l,this.j)},Os.prototype.i=function(c){return function(){return c}}({});function Yi(c,p){fe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Yi,fe),i=Yi.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,gi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||g).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?di(this):gi(this),this.readyState==3&&vl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gi(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function El(c){let p="";return It(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function Le(c,p,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=El(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Zt(c,p,_))}function Gt(c){fe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Gt,fe);var za=/^https?$/i,jr=["POST","PUT"];i=Gt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?ol(this.o):ol(li),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){gc(this,F);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),P=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(jr,p,void 0))||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,nt]of _)this.g.setRequestHeader(F,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){gc(this,F)}};function gc(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ba(c),mi(c)}function Ba(c){c.A||(c.A=!0,Kt(c,"complete"),Kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Kt(this,"complete"),Kt(this,"abort"),mi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},i.bb=function(){ja(this)};function ja(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)tn(c.Ea,0,c);else if(Kt(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var S;if(S=nt===0){var P=String(c.D).match(Vr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),S=!za.test(P?P.toLowerCase():"")}_=S}if(_)Kt(c,"complete"),Kt(c,"success");else{c.m=6;try{var F=2<Pn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Ba(c)}}finally{mi(c)}}}}function mi(c,p){if(c.g){Hr(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Kt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Hr(c){c.I&&(g.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Oa(p)}};function mc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function id(c){const p={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ut(c[S]))continue;var _=M(c[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=p[P]||[];p[P]=F,F.push(_)}k(p,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Ha(c){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,c),this.cb=qr("retryDelaySeedMs",1e4,c),this.Wa=qr("forwardChannelMaxRetries",2,c),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(c&&c.concurrentRequestLimit),this.Da=new Br,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ha.prototype,i.la=8,i.G=1,i.connect=function(c,p,_,S){ae(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=wc(this,null,this.W),Fa(this)};function Tl(c){if(pc(c),c.G==3){var p=c.U++,_=Sn(c.I);if(Zt(_,"SID",c.K),Zt(_,"RID",p),Zt(_,"TYPE","terminate"),Fr(c,_),p=new fn(c,c.j,p),p.L=2,p.v=Lr(Sn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=p.v,_=!0),_||(p.g=Sc(p.j,null),p.g.ea(p.v)),p.F=Date.now(),xr(p)}Tc(c)}function qa(c){c.g&&(Gr(c),c.g.cancel(),c.g=null)}function pc(c){qa(c),c.u&&(g.clearTimeout(c.u),c.u=null),Ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function Fa(c){if(!Ma(c.h)&&!c.s){c.s=!0;var p=c.Ga;st||N(),ht||(st(),ht=!0),jt.add(p,c),c.B=0}}function sd(c,p){return Va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=we(b(c.Ga,c,p),bl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new fn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=A(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(P.H=F,F=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=yc(this,P,p),_=Sn(this.I),Zt(_,"RID",c),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),Fr(this,_),F&&(this.O?p="headers="+encodeURIComponent(String(El(F)))+"&"+p:this.m&&Le(_,this.m,F)),Ua(this.h,P),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",p),Zt(_,"SID","null"),P.T=!0,Jn(P,_,null)):Jn(P,_,p),this.G=2}}else this.G==3&&(c?wl(this,c):this.i.length==0||Ma(this.h)||wl(this))};function wl(c,p){var _;p?_=p.l:_=c.U++;const S=Sn(c.I);Zt(S,"SID",c.K),Zt(S,"RID",_),Zt(S,"AID",c.T),Fr(c,S),c.m&&c.o&&Le(S,c.m,c.o),_=new fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=yc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ua(c.h,_),Jn(_,S,p)}function Fr(c,p){c.H&&It(c.H,function(_,S){Zt(p,S,_)}),c.l&&ml({},function(_,S){Zt(p,S,_)})}function yc(c,p,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;t:{var P=c.i;let F=-1;for(;;){const nt=["count="+_];F==-1?0<_?(F=P[0].g,nt.push("ofs="+F)):F=0:nt.push("ofs="+F);let Lt=!0;for(let Ce=0;Ce<_;Ce++){let Pt=P[Ce].g;const Pe=P[Ce].map;if(Pt-=F,0>Pt)F=Math.max(0,P[Ce].g-100),Lt=!1;else try{fi(Pe,nt,"req"+Pt+"_")}catch{S&&S(Pe)}}if(Lt){S=nt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,S}function _c(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;st||N(),ht||(st(),ht=!0),jt.add(p,c),c.v=0}}function Sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=we(b(c.Fa,c),bl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=we(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),qa(this),vc(this))};function Gr(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function vc(c){c.g=new fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Sn(c.qa);Zt(p,"RID","rpc"),Zt(p,"SID",c.K),Zt(p,"AID",c.T),Zt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(p,"TO",c.ja),Zt(p,"TYPE","xmlhttp"),Fr(c,p),c.m&&c.o&&Le(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Lr(Sn(p)),_.m=null,_.P=!0,Bi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,qa(this),Sl(this),ae(19))};function Ga(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function Ec(c,p){var _=null;if(c.g==p){Ga(c),Gr(c),c.g=null;var S=2}else if(dl(c.h,p))_=p.D,dn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var P=c.B;S=As(),Kt(S,new Ie(S,_)),Fa(c)}else _c(c);else if(P=p.s,P==3||P==0&&0<p.X||!(S==1&&sd(c,p)||S==2&&Sl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),P){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function bl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Qi(c,p){if(c.j.info("Error code "+p),p==2){var _=b(c.fb,c),S=c.Xa;const P=!S;S=new Se(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ur(S,"https"),Lr(S),P?zr(S.toString(),_):Wn(S.toString(),_)}else ae(2);c.G=0,c.l&&c.l.sa(p),Tc(c),pc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Tc(c){if(c.G=0,c.ka=[],c.l){const p=gl(c.h);(p.length!=0||c.i.length!=0)&&(W(c.ka,p),W(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function wc(c,p,_){var S=_ instanceof Se?Sn(_):new Se(_);if(S.g!="")p&&(S.g=p+"."+S.g),Ns(S,S.s);else{var P=g.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var F=new Se(null);S&&Ur(F,S),p&&(F.g=p),P&&Ns(F,P),_&&(F.l=_),S=F}return _=c.D,p=c.ya,_&&p&&Zt(S,_,p),Zt(S,"VER",c.la),Fr(c,S),S}function Sc(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Gt(new Os({eb:_})):new Gt(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bc(){}i=bc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ya(){}Ya.prototype.g=function(c,p){return new gn(c,p)};function gn(c,p){fe.call(this),this.g=new Ha(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ut(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ut(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new pi(this)}U(gn,fe),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Tl(this.g)},gn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Zn(c),c=_);p.i.push(new hc(p.Ya++,c)),p.G==3&&Fa(p)},gn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,gn.aa.N.call(this)};function Ac(c){Pi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}U(Ac,Pi);function Rc(){ul.call(this),this.status=1}U(Rc,ul);function pi(c){this.g=c}U(pi,bc),pi.prototype.ua=function(){Kt(this.g,"a")},pi.prototype.ta=function(c){Kt(this.g,new Ac(c))},pi.prototype.sa=function(c){Kt(this.g,new Rc)},pi.prototype.ra=function(){Kt(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ew=function(){return new Ya},tw=function(){return As()},WT=oi,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Lh=Cs,zi.COMPLETE="complete",JT=zi,ll.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",fe.prototype.listen=fe.prototype.K,du=ll,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,ZT=Gt}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const J0="@firebase/firestore",W0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new rp("@firebase/firestore");function wo(){return pa.logLevel}function ot(i,...t){if(pa.logLevel<=Mt.DEBUG){const e=t.map(lp);pa.debug(`Firestore (${Xo}): ${i}`,...e)}}function ps(i,...t){if(pa.logLevel<=Mt.ERROR){const e=t.map(lp);pa.error(`Firestore (${Xo}): ${i}`,...e)}}function Vo(i,...t){if(pa.logLevel<=Mt.WARN){const e=t.map(lp);pa.warn(`Firestore (${Xo}): ${i}`,...e)}}function lp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,nw(i,r,e)}function nw(i,t,e){let r=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw ps(r),new Error(r)}function Yt(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||nw(t,o,r)}function Rt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ws{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(on.UNAUTHENTICATED))}shutdown(){}}class LI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class PI{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let u=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},g=m=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new iw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class zI{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BI{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new zI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new tE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=HI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Nt(i,t){return i<t?-1:i>t?1:0}function Nm(i,t){let e=0;for(;e<i.length&&e<t.length;){const r=i.codePointAt(e),o=t.codePointAt(e);if(r!==o){if(r<128&&o<128)return Nt(r,o);{const u=sw(),h=qI(u.encode(eE(i,e)),u.encode(eE(t,e)));return h!==0?h:Nt(r,o)}}e+=r>65535?2:1}return Nt(i.length,t.length)}function eE(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function qI(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Nt(i[e],t[e]);return Nt(i.length,t.length)}function Uo(i,t,e){return i.length===t.length&&i.every((r,o)=>e(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=-62135596800,iE=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*iE);return new Me(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<nE)throw new yt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iE}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-nE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Me(0,0))}static max(){return new bt(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="__name__";class bi{constructor(t,e,r){e===void 0?e=0:e>t.length&&wt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&wt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=bi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Nt(t.length,e.length)}static compareSegments(t,e){const r=bi.isNumericId(t),o=bi.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?bi.extractNumericId(t).compare(bi.extractNumericId(e)):Nm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class pe extends bi{construct(t,e,r){return new pe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new pe(e)}static emptyPath(){return new pe([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends bi{construct(t,e,r){return new Ze(t,e,r)}static isValidIdentifier(t){return FI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new Ze([sE])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new yt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(r+=g,o++):(u(),o++)}if(u(),h)throw new yt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(pe.fromString(t))}static fromName(t){return new _t(pe.fromString(t).popFirst(5))}static empty(){return new _t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new pe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function GI(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(r===1e9?new Me(e+1,0):new Me(e,r));return new dr(o,_t.empty(),t)}function YI(i){return new dr(i.readTime,i.key,Ru)}class dr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new dr(bt.min(),_t.empty(),Ru)}static max(){return new dr(bt.max(),_t.empty(),Ru)}}function QI(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(i.documentKey,t.documentKey),e!==0?e:Nt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==KI)throw i;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Z((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Z?e:Z.resolve(e)}catch(e){return Z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.reject(e)}static resolve(t){return new Z((e,r)=>{e(t)})}static reject(t){return new Z((e,r)=>{r(t)})}static waitFor(t){return new Z((e,r)=>{let o=0,u=0,h=!1;t.forEach(g=>{++o,g.next(()=>{++u,h&&u===o&&e()},m=>r(m))}),h=!0,u===o&&e()})}static or(t){let e=Z.resolve(!1);for(const r of t)e=e.next(o=>o?Z.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,u)=>{r.push(e.call(this,o,u))}),this.waitFor(r)}static mapArray(t,e){return new Z((r,o)=>{const u=t.length,h=new Array(u);let g=0;for(let m=0;m<u;m++){const y=m;e(t[y]).next(E=>{h[y]=E,++g,g===u&&r(h)},E=>o(E))}})}static doWhile(t,e){return new Z((r,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):r()};u()})}}function $I(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>e.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}If.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=-1;function Cf(i){return i==null}function Jh(i){return i===0&&1/i==-1/0}function ZI(i){return typeof i=="number"&&Number.isInteger(i)&&!Jh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="";function JI(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=rE(t)),t=WI(i.get(e),t);return rE(t)}function WI(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case aw:e+="";break;default:e+=u}}return e}function rE(i){return i+aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Sa(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function ow(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,e){this.comparator=t,this.root=e||$e.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ch(this.root,t,this.comparator,!0)}}class Ch{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new $e(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new $e(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(t){return new oE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ve(this.comparator);return e.data=t,e}}class oE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new si([])}unionWith(t){let e=new Ve(Ze.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new si(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Uo(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lw("Invalid base64 string: "+u):u}}(t);return new We(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new We(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const tC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(i){if(Yt(!!i,39018),typeof i=="string"){let t=0;const e=tC.exec(i);if(Yt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(i.seconds),nanos:Te(i.nanos)}}function Te(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function mr(i){return typeof i=="string"?We.fromBase64String(i):We.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="server_timestamp",cw="__type__",hw="__previous_value__",fw="__local_write_time__";function cp(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[cw])===null||e===void 0?void 0:e.stringValue)===uw}function Df(i){const t=i.mapValue.fields[hw];return cp(t)?Df(t):t}function Iu(i){const t=gr(i.mapValue.fields[fw].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,e,r,o,u,h,g,m,y,E){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=E}}const Wh="(default)";class Cu{constructor(t,e){this.projectId=t,this.database=e||Wh}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="__type__",nC="__max__",Dh={mapValue:{}},gw="__vector__",tf="value";function pr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cp(i)?4:sC(i)?9007199254740991:iC(i)?10:11:wt(28295,{value:i})}function Di(i,t){if(i===t)return!0;const e=pr(i);if(e!==pr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Iu(i).isEqual(Iu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=gr(o.timestampValue),g=gr(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return mr(o.bytesValue).isEqual(mr(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Te(o.doubleValue),g=Te(u.doubleValue);return h===g?Jh(h)===Jh(g):isNaN(h)&&isNaN(g)}return!1}(i,t);case 9:return Uo(i.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(aE(h)!==aE(g))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(g[m]===void 0||!Di(h[m],g[m])))return!1;return!0}(i,t);default:return wt(52216,{left:i})}}function Du(i,t){return(i.values||[]).find(e=>Di(e,t))!==void 0}function Lo(i,t){if(i===t)return 0;const e=pr(i),r=pr(t);if(e!==r)return Nt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Nt(i.booleanValue,t.booleanValue);case 2:return function(u,h){const g=Te(u.integerValue||u.doubleValue),m=Te(h.integerValue||h.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1}(i,t);case 3:return lE(i.timestampValue,t.timestampValue);case 4:return lE(Iu(i),Iu(t));case 5:return Nm(i.stringValue,t.stringValue);case 6:return function(u,h){const g=mr(u),m=mr(h);return g.compareTo(m)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const g=u.split("/"),m=h.split("/");for(let y=0;y<g.length&&y<m.length;y++){const E=Nt(g[y],m[y]);if(E!==0)return E}return Nt(g.length,m.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const g=Nt(Te(u.latitude),Te(h.latitude));return g!==0?g:Nt(Te(u.longitude),Te(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return uE(i.arrayValue,t.arrayValue);case 10:return function(u,h){var g,m,y,E;const w=u.fields||{},b=h.fields||{},D=(g=w[tf])===null||g===void 0?void 0:g.arrayValue,U=(m=b[tf])===null||m===void 0?void 0:m.arrayValue,X=Nt(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:uE(D,U)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===Dh.mapValue&&h===Dh.mapValue)return 0;if(u===Dh.mapValue)return 1;if(h===Dh.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),y=h.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let w=0;w<m.length&&w<E.length;++w){const b=Nm(m[w],E[w]);if(b!==0)return b;const D=Lo(g[m[w]],y[E[w]]);if(D!==0)return D}return Nt(m.length,E.length)}(i.mapValue,t.mapValue);default:throw wt(23264,{Pe:e})}}function lE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Nt(i,t);const e=gr(i),r=gr(t),o=Nt(e.seconds,r.seconds);return o!==0?o:Nt(e.nanos,r.nanos)}function uE(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Lo(e[o],r[o]);if(u)return u}return Nt(e.length,r.length)}function Po(i){return Om(i)}function Om(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const r=gr(e);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return mr(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return _t.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Om(u);return r+"]"}(i.arrayValue):"mapValue"in i?function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Om(e.fields[h])}`;return o+"}"}(i.mapValue):wt(61005,{value:i})}function Ph(i){switch(pr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Df(i);return t?16+Ph(t):16;case 5:return 2*i.stringValue.length;case 6:return mr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Ph(u),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return Sa(r.fields,(u,h)=>{o+=u.length+Ph(h)}),o}(i.mapValue);default:throw wt(13486,{value:i})}}function km(i){return!!i&&"integerValue"in i}function hp(i){return!!i&&"arrayValue"in i}function cE(i){return!!i&&"nullValue"in i}function hE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function iC(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[dw])===null||e===void 0?void 0:e.stringValue)===gw}function yu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Sa(i.mapValue.fields,(e,r)=>t.mapValue.fields[e]=yu(r)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yu(i.arrayValue.values[e]);return t}return Object.assign({},i)}function sC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===nC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(e)}setAll(t){let e=Ze.emptyPath(),r={},o=[];t.forEach((h,g)=>{if(!e.isImmediateParentOf(g)){const m=this.getFieldsMap(e);this.applyChanges(m,r,o),r={},o=[],e=g.popLast()}h?r[g.lastSegment()]=yu(h):o.push(g.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());zh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Sa(e,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new Yn(yu(this.value))}}function mw(i){const t=[];return Sa(i.fields,(e,r)=>{const o=new Ze([e]);if(zh(r)){const u=mw(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new si(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,r,o,u,h,g){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(t){return new un(t,0,bt.min(),bt.min(),bt.min(),Yn.empty(),0)}static newFoundDocument(t,e,r,o){return new un(t,1,e,bt.min(),r,o,0)}static newNoDocument(t,e){return new un(t,2,e,bt.min(),bt.min(),Yn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,bt.min(),bt.min(),Yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,e){this.position=t,this.inclusive=e}}function fE(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?r=_t.comparator(_t.fromName(h.referenceValue),e.key):r=Lo(h,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function dE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Di(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,e="asc"){this.field=t,this.dir=e}}function rC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{}class ke extends pw{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new oC(t,e,r):e==="array-contains"?new cC(t,r):e==="in"?new hC(t,r):e==="not-in"?new fC(t,r):e==="array-contains-any"?new dC(t,r):new ke(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new lC(t,r):new uC(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Lo(e,this.value)):e!==null&&pr(this.value)===pr(e)&&this.matchesComparison(Lo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends pw{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ni(t,e)}matches(t){return yw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yw(i){return i.op==="and"}function _w(i){return aC(i)&&yw(i)}function aC(i){for(const t of i.filters)if(t instanceof Ni)return!1;return!0}function xm(i){if(i instanceof ke)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(_w(i))return i.filters.map(t=>xm(t)).join(",");{const t=i.filters.map(e=>xm(e)).join(",");return`${i.op}(${t})`}}function vw(i,t){return i instanceof ke?function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&Di(r.value,o.value)}(i,t):i instanceof Ni?function(r,o){return o instanceof Ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,g)=>u&&vw(h,o.filters[g]),!0):!1}(i,t):void wt(19439)}function Ew(i){return i instanceof ke?function(e){return`${e.field.canonicalString()} ${e.op} ${Po(e.value)}`}(i):i instanceof Ni?function(e){return e.op.toString()+" {"+e.getFilters().map(Ew).join(" ,")+"}"}(i):"Filter"}class oC extends ke{constructor(t,e,r){super(t,e,r),this.key=_t.fromName(r.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class lC extends ke{constructor(t,e){super(t,"in",e),this.keys=Tw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class uC extends ke{constructor(t,e){super(t,"not-in",e),this.keys=Tw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Tw(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>_t.fromName(r.referenceValue))}class cC extends ke{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hp(e)&&Du(e.arrayValue,this.value)}}class hC extends ke{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Du(this.value.arrayValue,e)}}class fC extends ke{constructor(t,e){super(t,"not-in",e)}matches(t){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Du(this.value.arrayValue,e)}}class dC extends ke{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,e=null,r=[],o=[],u=null,h=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.Ie=null}}function gE(i,t=null,e=[],r=[],o=null,u=null,h=null){return new gC(i,t,e,r,o,u,h)}function fp(i){const t=Rt(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>xm(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Po(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Po(r)).join(",")),t.Ie=e}return t.Ie}function dp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!rC(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!vw(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!dE(i.startAt,t.startAt)&&dE(i.endAt,t.endAt)}function Mm(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e=null,r=[],o=[],u=null,h="F",g=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mC(i,t,e,r,o,u,h,g){return new Nf(i,t,e,r,o,u,h,g)}function gp(i){return new Nf(i)}function mE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function pC(i){return i.collectionGroup!==null}function _u(i){const t=Rt(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Ve(Ze.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new nf(u,r))}),e.has(Ze.keyField().canonicalString())||t.Ee.push(new nf(Ze.keyField(),r))}return t.Ee}function Ai(i){const t=Rt(i);return t.de||(t.de=yC(t,_u(i))),t.de}function yC(i,t){if(i.limitType==="F")return gE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new nf(o.field,u)});const e=i.endAt?new ef(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new ef(i.startAt.position,i.startAt.inclusive):null;return gE(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Vm(i,t,e){return new Nf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Of(i,t){return dp(Ai(i),Ai(t))&&i.limitType===t.limitType}function ww(i){return`${fp(Ai(i))}|lt:${i.limitType}`}function So(i){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>Ew(o)).join(", ")}]`),Cf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Po(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Po(o)).join(",")),`Target(${r})`}(Ai(i))}; limitType=${i.limitType})`}function kf(i,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_t.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,t)&&function(r,o){for(const u of _u(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(r,o){return!(r.startAt&&!function(h,g,m){const y=fE(h,g,m);return h.inclusive?y<=0:y<0}(r.startAt,_u(r),o)||r.endAt&&!function(h,g,m){const y=fE(h,g,m);return h.inclusive?y>=0:y>0}(r.endAt,_u(r),o))}(i,t)}function _C(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Sw(i){return(t,e)=>{let r=!1;for(const o of _u(i)){const u=vC(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function vC(i,t,e){const r=i.field.isKeyField()?_t.comparator(t.key,e.key):function(u,h,g){const m=h.data.field(u),y=g.data.field(u);return m!==null&&y!==null?Lo(m,y):wt(42886)}(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,(e,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return ow(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new ce(_t.comparator);function ys(){return EC}const bw=new ce(_t.comparator);function gu(...i){let t=bw;for(const e of i)t=t.insert(e.key,e);return t}function Aw(i){let t=bw;return i.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function la(){return vu()}function Rw(){return vu()}function vu(){return new ba(i=>i.toString(),(i,t)=>i.isEqual(t))}const TC=new ce(_t.comparator),wC=new Ve(_t.comparator);function Vt(...i){let t=wC;for(const e of i)t=t.add(e);return t}const SC=new Ve(Nt);function bC(){return SC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(t)?"-0":t}}function Iw(i){return{integerValue:""+i}}function AC(i,t){return ZI(t)?Iw(t):mp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function RC(i,t,e){return i instanceof sf?function(o,u){const h={fields:{[cw]:{stringValue:uw},[fw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cp(u)&&(u=Df(u)),u&&(h.fields[hw]=u),{mapValue:h}}(e,t):i instanceof Nu?Dw(i,t):i instanceof Ou?Nw(i,t):function(o,u){const h=Cw(o,u),g=pE(h)+pE(o.Re);return km(h)&&km(o.Re)?Iw(g):mp(o.serializer,g)}(i,t)}function IC(i,t,e){return i instanceof Nu?Dw(i,t):i instanceof Ou?Nw(i,t):e}function Cw(i,t){return i instanceof rf?function(r){return km(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class sf extends xf{}class Nu extends xf{constructor(t){super(),this.elements=t}}function Dw(i,t){const e=Ow(t);for(const r of i.elements)e.some(o=>Di(o,r))||e.push(r);return{arrayValue:{values:e}}}class Ou extends xf{constructor(t){super(),this.elements=t}}function Nw(i,t){let e=Ow(t);for(const r of i.elements)e=e.filter(o=>!Di(o,r));return{arrayValue:{values:e}}}class rf extends xf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function pE(i){return Te(i.integerValue||i.doubleValue)}function Ow(i){return hp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function CC(i,t){return i.field.isEqual(t.field)&&function(r,o){return r instanceof Nu&&o instanceof Nu||r instanceof Ou&&o instanceof Ou?Uo(r.elements,o.elements,Di):r instanceof rf&&o instanceof rf?Di(r.Re,o.Re):r instanceof sf&&o instanceof sf}(i.transform,t.transform)}class DC{constructor(t,e){this.version=t,this.transformResults=e}}class ds{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ds}static exists(t){return new ds(void 0,t)}static updateTime(t){return new ds(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Mf{}function kw(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Mw(i.key,ds.none()):new Fu(i.key,i.data,ds.none());{const e=i.data,r=Yn.empty();let o=new Ve(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Aa(i.key,r,new si(o.toArray()),ds.none())}}function NC(i,t,e){i instanceof Fu?function(o,u,h){const g=o.value.clone(),m=_E(o.fieldTransforms,u,h.transformResults);g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,t,e):i instanceof Aa?function(o,u,h){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=_E(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(xw(o)),m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function Eu(i,t,e,r){return i instanceof Fu?function(u,h,g,m){if(!Bh(u.precondition,h))return g;const y=u.value.clone(),E=vE(u.fieldTransforms,m,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,t,e,r):i instanceof Aa?function(u,h,g,m){if(!Bh(u.precondition,h))return g;const y=vE(u.fieldTransforms,m,h),E=h.data;return E.setAll(xw(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,t,e,r):function(u,h,g){return Bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g}(i,t,e)}function OC(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=Cw(r.transform,o||null);u!=null&&(e===null&&(e=Yn.empty()),e.set(r.field,u))}return e||null}function yE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Uo(r,o,(u,h)=>CC(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Fu extends Mf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends Mf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xw(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}}),t}function _E(i,t,e){const r=new Map;Yt(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let o=0;o<e.length;o++){const u=i[o],h=u.transform,g=t.data.field(u.field);r.set(u.field,IC(h,g,e[o]))}return r}function vE(i,t,e){const r=new Map;for(const o of i){const u=o.transform,h=e.data.field(o.field);r.set(o.field,RC(u,h,t))}return r}class Mw extends Mf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kC extends Mf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&NC(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Eu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Rw();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=e.has(o.key)?null:g;const m=kw(h,g);m!==null&&r.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Uo(this.mutations,t.mutations,(e,r)=>yE(e,r))&&Uo(this.baseMutations,t.baseMutations,(e,r)=>yE(e,r))}}class pp{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Yt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let o=function(){return TC}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new pp(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Bt;function UC(i){switch(i){case et.OK:return wt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt(15467,{code:i})}}function Vw(i){if(i===void 0)return ps("GRPC error has no .code"),et.UNKNOWN;switch(i){case Re.OK:return et.OK;case Re.CANCELLED:return et.CANCELLED;case Re.UNKNOWN:return et.UNKNOWN;case Re.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Re.INTERNAL:return et.INTERNAL;case Re.UNAVAILABLE:return et.UNAVAILABLE;case Re.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Re.NOT_FOUND:return et.NOT_FOUND;case Re.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Re.ABORTED:return et.ABORTED;case Re.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Re.DATA_LOSS:return et.DATA_LOSS;default:return wt(39323,{code:i})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new ur([4294967295,4294967295],0);function EE(i){const t=sw().encode(i),e=new $T;return e.update(t),new Uint8Array(e.digest())}function TE(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ur([e,r],0),new ur([o,u],0)]}class yp{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new mu(`Invalid padding: ${e}`);if(r<0)throw new mu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new mu(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=ur.fromNumber(this.pe)}we(t,e,r){let o=t.add(e.multiply(ur.fromNumber(r)));return o.compare(LC)===1&&(o=new ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=EE(t),[r,o]=TE(e);for(let u=0;u<this.hashCount;u++){const h=this.we(r,o,u);if(!this.be(h))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new yp(u,o,e);return r.forEach(g=>h.insert(g)),h}insert(t){if(this.pe===0)return;const e=EE(t),[r,o]=TE(e);for(let u=0;u<this.hashCount;u++){const h=this.we(r,o,u);this.Se(h)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Gu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Vf(bt.min(),o,new ce(Nt),ys(),Vt())}}class Gu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Gu(r,e,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,e,r,o){this.De=t,this.removedTargetIds=e,this.key=r,this.ve=o}}class Uw{constructor(t,e){this.targetId=t,this.Ce=e}}class Lw{constructor(t,e,r=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class wE{constructor(){this.Fe=0,this.Me=SE(),this.xe=We.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),e=Vt(),r=Vt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:wt(38017,{changeType:u})}}),new Gu(this.xe,this.Oe,t,e,r)}Qe(){this.Ne=!1,this.Me=SE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PC{constructor(t){this.ze=t,this.je=new Map,this.He=ys(),this.Je=Nh(),this.Ye=Nh(),this.Ze=new ce(Nt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const r=this.rt(e);switch(t.state){case 0:this.it(e)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(e);break;case 3:this.it(e)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),r.ke(t.resumeToken));break;default:wt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((r,o)=>{this.it(o)&&e(o)})}ot(t){const e=t.targetId,r=t.Ce.count,o=this._t(e);if(o){const u=o.target;if(Mm(u))if(r===0){const h=new _t(u.path);this.tt(e,h,un.newNoDocument(h,bt.min()))}else Yt(r===1,20013,{expectedCount:r});else{const h=this.ut(e);if(h!==r){const g=this.ct(t),m=g?this.lt(g,t,h):1;if(m!==0){this.st(e);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,y)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let h,g;try{h=mr(r).toUint8Array()}catch(m){if(m instanceof lw)return Vo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new yp(h,o,u)}catch(m){return Vo(m instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.pe===0?null:g}lt(t,e,r){return e.Ce.count===r-this.Tt(t,e.targetId)?0:2}Tt(t,e){const r=this.ze.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const h=this.ze.Pt(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.tt(e,u,null),o++)}),o}It(t){const e=new Map;this.je.forEach((u,h)=>{const g=this._t(h);if(g){if(u.current&&Mm(g.target)){const m=new _t(g.target.path);this.Et(m).has(h)||this.dt(h,m)||this.tt(h,m,un.newNoDocument(m,t))}u.Le&&(e.set(h,u.qe()),u.Qe())}});let r=Vt();this.Ye.forEach((u,h)=>{let g=!0;h.forEachWhile(m=>{const y=this._t(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const o=new Vf(t,e,this.Ze,this.He,r);return this.He=ys(),this.Je=Nh(),this.Ye=Nh(),this.Ze=new ce(Nt),o}et(t,e){if(!this.it(t))return;const r=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,r),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,e)?o.$e(e,1):o.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),r&&(this.He=this.He.insert(e,r))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new wE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ve(Nt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ve(Nt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ot("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new wE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Nh(){return new ce(_t.comparator)}function SE(){return new ce(_t.comparator)}const zC={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jC={and:"AND",or:"OR"};class HC{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Um(i,t){return i.useProto3Json||Cf(t)?t:{value:t}}function af(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pw(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function qC(i,t){return af(i,t.toTimestamp())}function Ri(i){return Yt(!!i,49232),bt.fromTimestamp(function(e){const r=gr(e);return new Me(r.seconds,r.nanos)}(i))}function _p(i,t){return Lm(i,t).canonicalString()}function Lm(i,t){const e=function(o){return new pe(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function zw(i){const t=pe.fromString(i);return Yt(Fw(t),10190,{key:t.toString()}),t}function Pm(i,t){return _p(i.databaseId,t.path)}function am(i,t){const e=zw(t);if(e.get(1)!==i.databaseId.projectId)throw new yt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new yt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new _t(jw(e))}function Bw(i,t){return _p(i.databaseId,t)}function FC(i){const t=zw(i);return t.length===4?pe.emptyPath():jw(t)}function zm(i){return new pe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jw(i){return Yt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function bE(i,t,e){return{name:Pm(i,t),fields:e.value.mapValue.fields}}function GC(i,t){let e;if("targetChange"in t){t.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:wt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Yt(E===void 0||typeof E=="string",58123),We.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),We.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,g=h&&function(y){const E=y.code===void 0?et.UNKNOWN:Vw(y.code);return new yt(E,y.message||"")}(h);e=new Lw(r,o,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=am(i,r.document.name),u=Ri(r.document.updateTime),h=r.document.createTime?Ri(r.document.createTime):bt.min(),g=new Yn({mapValue:{fields:r.document.fields}}),m=un.newFoundDocument(o,u,h,g),y=r.targetIds||[],E=r.removedTargetIds||[];e=new jh(y,E,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=am(i,r.document),u=r.readTime?Ri(r.readTime):bt.min(),h=un.newNoDocument(o,u),g=r.removedTargetIds||[];e=new jh([],g,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=am(i,r.document),u=r.removedTargetIds||[];e=new jh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new VC(o,u),g=r.targetId;e=new Uw(g,h)}}return e}function YC(i,t){let e;if(t instanceof Fu)e={update:bE(i,t.key,t.value)};else if(t instanceof Mw)e={delete:Pm(i,t.key)};else if(t instanceof Aa)e={update:bE(i,t.key,t.data),updateMask:e2(t.fieldMask)};else{if(!(t instanceof kC))return wt(16599,{ft:t.type});e={verify:Pm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(u,h){const g=h.transform;if(g instanceof sf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Nu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rf)return{fieldPath:h.field.canonicalString(),increment:g.Re};throw wt(20930,{transform:h.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:qC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)}(i,t.precondition)),e}function QC(i,t){return i&&i.length>0?(Yt(t!==void 0,14353),i.map(e=>function(o,u){let h=o.updateTime?Ri(o.updateTime):Ri(u);return h.isEqual(bt.min())&&(h=Ri(u)),new DC(h,o.transformResults||[])}(e,t))):[]}function KC(i,t){return{documents:[Bw(i,t.path)]}}function XC(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=Bw(i,o);const u=function(y){if(y.length!==0)return qw(Ni.create(y,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(E=>function(b){return{field:bo(b.field),direction:JC(b.dir)}}(E))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const g=Um(i,t.limit);return g!==null&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:e,parent:o}}function $C(i){let t=FC(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Yt(r===1,65062);const E=e.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];e.where&&(u=function(w){const b=Hw(w);return b instanceof Ni&&_w(b)?b.getFilters():[b]}(e.where));let h=[];e.orderBy&&(h=function(w){return w.map(b=>function(U){return new nf(Ao(U.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(b))}(e.orderBy));let g=null;e.limit&&(g=function(w){let b;return b=typeof w=="object"?w.value:w,Cf(b)?null:b}(e.limit));let m=null;e.startAt&&(m=function(w){const b=!!w.before,D=w.values||[];return new ef(D,b)}(e.startAt));let y=null;return e.endAt&&(y=function(w){const b=!w.before,D=w.values||[];return new ef(D,b)}(e.endAt)),mC(t,o,h,u,g,"F",m,y)}function ZC(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Hw(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Ao(e.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(e.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ao(e.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ao(e.unaryFilter.field);return ke.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}}(i):i.fieldFilter!==void 0?function(e){return ke.create(Ao(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Ni.create(e.compositeFilter.filters.map(r=>Hw(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}}(e.compositeFilter.op))}(i):wt(30097,{filter:i})}function JC(i){return zC[i]}function WC(i){return BC[i]}function t2(i){return jC[i]}function bo(i){return{fieldPath:i.canonicalString()}}function Ao(i){return Ze.fromServerFormat(i.fieldPath)}function qw(i){return i instanceof ke?function(e){if(e.op==="=="){if(hE(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NAN"}};if(cE(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hE(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NOT_NAN"}};if(cE(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(e.field),op:WC(e.op),value:e.value}}}(i):i instanceof Ni?function(e){const r=e.getFilters().map(o=>qw(o));return r.length===1?r[0]:{compositeFilter:{op:t2(e.op),filters:r}}}(i):wt(54877,{filter:i})}function e2(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Fw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,e,r,o,u=bt.min(),h=bt.min(),g=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.wt=t}}function i2(i){const t=$C({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Vm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Cn=new r2}addToCollectionParentIndex(t,e){return this.Cn.add(e),Z.resolve()}getCollectionParents(t,e){return Z.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Z.resolve()}deleteFieldIndex(t,e){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,e){return Z.resolve()}getDocumentsMatchingTarget(t,e){return Z.resolve(null)}getIndexType(t,e){return Z.resolve(0)}getFieldIndexes(t,e){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,e){return Z.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,e){return Z.resolve(dr.min())}updateCollectionGroup(t,e,r){return Z.resolve()}updateIndexEntries(t,e){return Z.resolve()}}class r2{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ve(pe.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gw=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Gw,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new zo(0)}static lr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LruGarbageCollector",a2=1048576;function IE([i,t],[e,r]){const o=Nt(i,e);return o===0?Nt(t,r):o}class o2{constructor(t){this.Er=t,this.buffer=new Ve(IE),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();IE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class l2{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ot(RE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zo(e)?ot(RE,"Ignoring IndexedDB error during garbage collection: ",e):await $o(e)}await this.mr(3e5)})}}class u2{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return Z.resolve(If.le);const r=new o2(e);return this.gr.forEachTarget(t,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.gr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(AE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let r,o,u,h,g,m,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(r=w,g=Date.now(),this.removeTargets(t,r,e))).next(w=>(u=w,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(w=>(y=Date.now(),wo()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${w} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function c2(i,t){return new u2(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.changes=new ba(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Z.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(r!==null&&Eu(r.mutation,o,si.empty(),Me.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Vt()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Vt()){const o=la();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,r).next(u=>{let h=gu();return u.forEach((g,m)=>{h=h.insert(g,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const r=la();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Vt()))}populateOverlays(t,e,r){const o=[];return r.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,g)=>{e.set(h,g)})})}computeViews(t,e,r,o){let u=ys();const h=vu(),g=function(){return vu()}();return e.forEach((m,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Aa)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Eu(E.mutation,y,E.mutation.getFieldMask(),Me.now())):h.set(y.key,si.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((y,E)=>h.set(y,E)),e.forEach((y,E)=>{var w;return g.set(y,new f2(E,(w=h.get(y))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,e){const r=vu();let o=new ce((h,g)=>h-g),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const g of h)g.keys().forEach(m=>{const y=e.get(m);if(y===null)return;let E=r.get(m)||si.empty();E=g.applyToLocalView(y,E),r.set(m,E);const w=(o.get(g.batchId)||Vt()).add(m);o=o.insert(g.batchId,w)})}).next(()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),y=m.key,E=m.value,w=Rw();E.forEach(b=>{if(!u.has(b)){const D=kw(e.get(b),r.get(b));D!==null&&w.set(b,D),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,w))}return Z.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,o){return function(h){return _t.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):pC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):Z.resolve(la());let g=Ru,m=u;return h.next(y=>Z.forEach(y,(E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{m=m.insert(E,b)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,m,y,Vt())).next(E=>({batchId:g,changes:Aw(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next(r=>{let o=gu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let h=gu();return this.indexManager.getCollectionParents(t,u).next(g=>Z.forEach(g,m=>{const y=function(w,b){return new Nf(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next(E=>{E.forEach((w,b)=>{h=h.insert(w,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o))).next(h=>{u.forEach((m,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,un.newInvalidDocument(E)))});let g=gu();return h.forEach((m,y)=>{const E=u.get(m);E!==void 0&&Eu(E.mutation,y,si.empty(),Me.now()),kf(e,y)&&(g=g.insert(m,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return Z.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}}(e)),Z.resolve()}getNamedQuery(t,e){return Z.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(o){return{name:o.name,query:i2(o.bundledQuery),readTime:Ri(o.readTime)}}(e)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.overlays=new ce(_t.comparator),this.Qr=new Map}getOverlay(t,e){return Z.resolve(this.overlays.get(e))}getOverlays(t,e){const r=la();return Z.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((o,u)=>{this.St(t,e,u)}),Z.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,e,r){const o=la(),u=e.length+1,h=new _t(e.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const m=g.getNext().value,y=m.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new ce((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=la(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=la(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return Z.resolve(g)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new MC(e,r));let u=this.Qr.get(e);u===void 0&&(u=Vt(),this.Qr.set(e,u)),this.Qr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.$r=new Ve(qe.Ur),this.Kr=new Ve(qe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const r=new qe(t,e);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.zr(new qe(t,e))}jr(t,e){t.forEach(r=>this.removeReference(r,e))}Hr(t){const e=new _t(new pe([])),r=new qe(e,t),o=new qe(e,t+1),u=[];return this.Kr.forEachInRange([r,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new _t(new pe([])),r=new qe(e,t),o=new qe(e,t+1);let u=Vt();return this.Kr.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new qe(t,0),r=this.$r.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return _t.comparator(t.key,e.key)||Nt(t.Zr,e.Zr)}static Wr(t,e){return Nt(t.Zr,e.Zr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Ve(qe.Ur)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xC(u,e,r,o);this.mutationQueue.push(h);for(const g of o)this.Xr=this.Xr.add(new qe(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(t,e){return Z.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ti(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?up:this.nr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new qe(e,0),o=new qe(e,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],h=>{const g=this.ei(h.Zr);u.push(g)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ve(Nt);return e.forEach(o=>{const u=new qe(o,0),h=new qe(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],g=>{r=r.add(g.Zr)})}),Z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;_t.isDocumentKey(u)||(u=u.child(""));const h=new qe(new _t(u),0);let g=new Ve(Nt);return this.Xr.forEachWhile(m=>{const y=m.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(m.Zr)),!0)},h),Z.resolve(this.ni(g))}ni(t){const e=[];return t.forEach(r=>{const o=this.ei(r);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){Yt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Z.forEach(e.mutations,o=>{const u=new qe(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,e){const r=new qe(e,0),o=this.Xr.firstAfterOrEqual(r);return Z.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.ii=t,this.docs=function(){return new ce(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,h=this.ii(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Z.resolve(r?r.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let r=ys();return e.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))}),Z.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=ys();const h=e.path,g=new _t(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||QI(YI(E),r)<=0||(o.has(E.key)||kf(e,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,e,r,o){wt(9500)}si(t,e){return Z.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new v2(this)}getSize(t){return Z.resolve(this.size)}}class v2 extends h2{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.Br.addEntry(t,o)):this.Br.removeEntry(r)}),Z.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.persistence=t,this.oi=new ba(e=>fp(e),dp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this._i=0,this.ai=new vp,this.targetCount=0,this.ui=zo.cr()}forEachTarget(t,e){return this.oi.forEach((r,o)=>e(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this._i&&(this._i=e),Z.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new zo(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,Z.resolve()}updateTargetData(t,e){return this.Tr(e),Z.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.oi.forEach((h,g)=>{g.sequenceNumber<=e&&r.get(g.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,e){const r=this.oi.get(e)||null;return Z.resolve(r)}addMatchingKeys(t,e,r){return this.ai.Gr(e,r),Z.resolve()}removeMatchingKeys(t,e,r){this.ai.jr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),Z.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ai.Yr(e);return Z.resolve(r)}containsKey(t,e){return Z.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,e){this.ci={},this.overlays={},this.li=new If(0),this.hi=!1,this.hi=!0,this.Pi=new p2,this.referenceDelegate=t(this),this.Ti=new E2(this),this.indexManager=new s2,this.remoteDocumentCache=function(o){return new _2(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new n2(e),this.Ei=new g2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new m2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ci[t.toKey()];return r||(r=new y2(e,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,r){ot("MemoryPersistence","Starting transaction:",t);const o=new T2(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,e){return Z.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,e)))}}class T2 extends XI{constructor(t){super(),this.currentSequenceNumber=t}}class Ep{constructor(t){this.persistence=t,this.Vi=new vp,this.mi=null}static fi(t){return new Ep(t)}get gi(){if(this.mi)return this.mi;throw wt(60996)}addReference(t,e,r){return this.Vi.addReference(r,e),this.gi.delete(r.toString()),Z.resolve()}removeReference(t,e,r){return this.Vi.removeReference(r,e),this.gi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),Z.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,r=>{const o=_t.fromPath(r);return this.pi(t,o).next(u=>{u||e.removeEntry(o,bt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(r=>{r?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return Z.or([()=>Z.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class of{constructor(t,e){this.persistence=t,this.yi=new ba(r=>JI(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=c2(this,e)}static fi(t,e){return new of(t,e)}di(){}Ai(t){return Z.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}br(t){let e=0;return this.yr(t,r=>{e++}).next(()=>e)}yr(t,e){return Z.forEach(this.yi,(r,o)=>this.Dr(t,r,o).next(u=>u?Z.resolve():e(o)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,e).next(g=>{g||(r++,u.removeEntry(h,bt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),Z.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.yi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,e,r){return this.yi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),Z.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ph(t.data.value)),e}Dr(t,e,r){return Z.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.yi.get(e);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.ds=r,this.As=o}static Rs(t,e){let r=Vt(),o=Vt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return pR()?8:$I(hn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ws(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(t,e,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new w2;return this.Ss(t,e,h).next(g=>{if(u.result=g,this.fs)return this.Ds(t,e,h,g.size)})}).next(()=>u.result)}Ds(t,e,r,o){return r.documentReadCount<this.gs?(wo()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",So(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(wo()<=Mt.DEBUG&&ot("QueryEngine","Query:",So(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(wo()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",So(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(e))):Z.resolve())}ws(t,e){if(mE(e))return Z.resolve(null);let r=Ai(e);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Vm(e,null,"F"),r=Ai(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const h=Vt(...u);return this.ys.getDocuments(t,h).next(g=>this.indexManager.getMinOffset(t,r).next(m=>{const y=this.vs(e,g);return this.Cs(e,y,h,m.readTime)?this.ws(t,Vm(e,null,"F")):this.Fs(t,y,e,m)}))})))}bs(t,e,r,o){return mE(e)||o.isEqual(bt.min())?Z.resolve(null):this.ys.getDocuments(t,r).next(u=>{const h=this.vs(e,u);return this.Cs(e,h,r,o)?Z.resolve(null):(wo()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(e)),this.Fs(t,h,e,GI(o,Ru)).next(g=>g))})}vs(t,e){let r=new Ve(Sw(t));return e.forEach((o,u)=>{kf(t,u)&&(r=r.add(u))}),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return wo()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",So(e)),this.ys.getDocumentsMatchingQuery(t,e,dr.min(),r)}Fs(t,e,r,o){return this.ys.getDocumentsMatchingQuery(t,r,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="LocalStore",b2=3e8;class A2{constructor(t,e,r,o){this.persistence=t,this.Ms=e,this.serializer=o,this.xs=new ce(Nt),this.Os=new ba(u=>fp(u),dp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new d2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function R2(i,t,e,r){return new A2(i,t,e,r)}async function Qw(i,t){const e=Rt(i);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,e.Ls(t),e.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],g=[];let m=Vt();for(const y of o){h.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of u){g.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return e.localDocuments.getDocuments(r,m).next(y=>({ks:y,removedBatchIds:h,addedBatchIds:g}))})})}function I2(i,t){const e=Rt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=e.Bs.newChangeBuffer({trackRemovals:!0});return function(g,m,y,E){const w=y.batch,b=w.keys();let D=Z.resolve();return b.forEach(U=>{D=D.next(()=>E.getEntry(m,U)).next(X=>{const W=y.docVersions.get(U);Yt(W!==null,48541),X.version.compareTo(W)<0&&(w.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))})}),D.next(()=>g.mutationQueue.removeMutationBatch(m,w))}(e,r,t,u).next(()=>u.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let m=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(m=m.add(g.batch.mutations[y].key));return m}(t))).next(()=>e.localDocuments.getDocuments(r,o))})}function Kw(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function C2(i,t){const e=Rt(i),r=t.snapshotVersion;let o=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.Bs.newChangeBuffer({trackRemovals:!0});o=e.xs;const g=[];t.targetChanges.forEach((E,w)=>{const b=o.get(w);if(!b)return;g.push(e.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>e.Ti.addMatchingKeys(u,E.addedDocuments,w)));let D=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?D=D.withResumeToken(We.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,r)),o=o.insert(w,D),function(X,W,mt){return X.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=b2?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(b,D,E)&&g.push(e.Ti.updateTargetData(u,D))});let m=ys(),y=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(u,E))}),g.push(D2(u,h,t.documentUpdates).next(E=>{m=E.qs,y=E.Qs})),!r.isEqual(bt.min())){const E=e.Ti.getLastRemoteSnapshotVersion(u).next(w=>e.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(E)}return Z.waitFor(g).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,y)).next(()=>m)}).then(u=>(e.xs=o,u))}function D2(i,t,e){let r=Vt(),o=Vt();return e.forEach(u=>r=r.add(u)),t.getEntries(i,r).next(u=>{let h=ys();return e.forEach((g,m)=>{const y=u.get(g);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(bt.min())?(t.removeEntry(g,m.readTime),h=h.insert(g,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(m),h=h.insert(g,m)):ot(wp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",m.version)}),{qs:h,Qs:o}})}function N2(i,t){const e=Rt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=up),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function O2(i,t){const e=Rt(i);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.Ti.getTargetData(r,t).next(u=>u?(o=u,Z.resolve(o)):e.Ti.allocateTargetId(r).next(h=>(o=new sr(t,h,"TargetPurposeListen",r.currentSequenceNumber),e.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.xs=e.xs.insert(r.targetId,r),e.Os.set(t,r.targetId)),r})}async function Bm(i,t,e){const r=Rt(i),o=r.xs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Zo(h))throw h;ot(wp,`Failed to update sequence numbers for target ${t}: ${h}`)}r.xs=r.xs.remove(t),r.Os.delete(o.target)}function CE(i,t,e){const r=Rt(i);let o=bt.min(),u=Vt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(m,y,E){const w=Rt(m),b=w.Os.get(E);return b!==void 0?Z.resolve(w.xs.get(b)):w.Ti.getTargetData(y,E)}(r,h,Ai(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(h,g.targetId).next(m=>{u=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(h,t,e?o:bt.min(),e?u:Vt())).next(g=>(k2(r,_C(t),g),{documents:g,$s:u})))}function k2(i,t,e){let r=i.Ns.get(t)||bt.min();e.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),i.Ns.set(t,r)}class DE{constructor(){this.activeTargetIds=bC()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class x2{constructor(){this.xo=new DE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,r){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new DE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="ConnectivityMonitor";class OE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ot(NE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ot(NE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function jm(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(t,e,r,o,u){const h=jm(),g=this.jo(t,e.toUriEncodedString());ot(om,`Sending RPC '${t}' ${h}:`,g,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:y}=new URL(g),E=Qo(y);return this.Jo(t,g,m,r,E).then(w=>(ot(om,`Received RPC '${t}' ${h}: `,w),w),w=>{throw Vo(om,`RPC '${t}' ${h} failed with error: `,w,"url: ",g,"request:",r),w})}Yo(t,e,r,o,u,h){return this.zo(t,e,r,o,u)}Ho(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}jo(t,e){const r=V2[t];return`${this.Ko}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class P2 extends U2{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const h=jm();return new Promise((g,m)=>{const y=new ZT;y.setWithCredentials(!0),y.listenOnce(JT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Lh.NO_ERROR:const w=y.getResponseJson();ot(sn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(w)),g(w);break;case Lh.TIMEOUT:ot(sn,`RPC '${t}' ${h} timed out`),m(new yt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const b=y.getStatus();if(ot(sn,`RPC '${t}' ${h} failed with status:`,b,"response text:",y.getResponseText()),b>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D==null?void 0:D.error;if(U&&U.status&&U.message){const X=function(mt){const ut=mt.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(ut)>=0?ut:et.UNKNOWN}(U.status);m(new yt(X,U.message))}else m(new yt(et.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new yt(et.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{h_:t,streamId:h,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ot(sn,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(o);ot(sn,`RPC '${t}' ${h} sending request:`,o),y.send(e,"POST",E,r,15)})}I_(t,e,r){const o=jm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=ew(),g=tw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const E=u.join("");ot(sn,`Creating RPC '${t}' stream ${o}: ${E}`,m);const w=h.createWebChannel(E,m);this.E_(w);let b=!1,D=!1;const U=new L2({Zo:W=>{D?ot(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(b||(ot(sn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),b=!0),ot(sn,`RPC '${t}' stream ${o} sending:`,W),w.send(W))},Xo:()=>w.close()}),X=(W,mt,ut)=>{W.listen(mt,it=>{try{ut(it)}catch(Et){setTimeout(()=>{throw Et},0)}})};return X(w,du.EventType.OPEN,()=>{D||(ot(sn,`RPC '${t}' stream ${o} transport opened.`),U.__())}),X(w,du.EventType.CLOSE,()=>{D||(D=!0,ot(sn,`RPC '${t}' stream ${o} transport closed`),U.u_(),this.d_(w))}),X(w,du.EventType.ERROR,W=>{D||(D=!0,Vo(sn,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),U.u_(new yt(et.UNAVAILABLE,"The operation could not be completed")))}),X(w,du.EventType.MESSAGE,W=>{var mt;if(!D){const ut=W.data[0];Yt(!!ut,16349);const it=ut,Et=(it==null?void 0:it.error)||((mt=it[0])===null||mt===void 0?void 0:mt.error);if(Et){ot(sn,`RPC '${t}' stream ${o} received error:`,Et);const gt=Et.status;let It=function(I){const x=Re[I];if(x!==void 0)return Vw(x)}(gt),k=Et.message;It===void 0&&(It=et.INTERNAL,k="Unknown error status: "+gt+" with message "+Et.message),D=!0,U.u_(new yt(It,k)),w.close()}else ot(sn,`RPC '${t}' stream ${o} received:`,ut),U.c_(ut)}}),X(g,WT.STAT_EVENT,W=>{W.stat===Dm.PROXY?ot(sn,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===Dm.NOPROXY&&ot(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.a_()},0),U}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(i){return new HC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,e,r=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=e,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,e-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="PersistentStream";class $w{constructor(t,e,r,o,u,h,g,m){this.xi=t,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Xw(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===et.RESOURCE_EXHAUSTED?(ps(e.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===e&&this.z_(r,o)},r=>{t(()=>{const o=new yt(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(t,e){const r=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ot(kE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(ot(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z2 extends $w{constructor(t,e,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,h),this.serializer=u}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=GC(this.serializer,t),r=function(u){if(!("targetChange"in u))return bt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?bt.min():h.readTime?Ri(h.readTime):bt.min()}(t);return this.listener.Y_(e,r)}Z_(t){const e={};e.database=zm(this.serializer),e.addTarget=function(u,h){let g;const m=h.target;if(g=Mm(m)?{documents:KC(u,m)}:{query:XC(u,m).gt},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=Pw(u,h.resumeToken);const y=Um(u,h.expectedCount);y!==null&&(g.expectedCount=y)}else if(h.snapshotVersion.compareTo(bt.min())>0){g.readTime=af(u,h.snapshotVersion.toTimestamp());const y=Um(u,h.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const r=ZC(this.serializer,t);r&&(e.labels=r),this.Q_(e)}X_(t){const e={};e.database=zm(this.serializer),e.removeTarget=t,this.Q_(e)}}class B2 extends $w{constructor(t,e,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=QC(t.writeResults,t.commitTime),r=Ri(t.commitTime);return this.listener.ra(r,e)}ia(){const t={};t.database=zm(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>YC(this.serializer,r))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class H2 extends j2{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new yt(et.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(t,Lm(e,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(et.UNKNOWN,u.toString())})}Yo(t,e,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Yo(t,Lm(e,r),o,h,g,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new yt(et.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class q2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ps(e),this.ua=!1):ot("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class F2{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{r.enqueueAndForget(async()=>{Ra(this)&&(ot(ya,"Restarting streams for network reachability change."),await async function(m){const y=Rt(m);y.da.add(4),await Yu(y),y.Va.set("Unknown"),y.da.delete(4),await Lf(y)}(this))})}),this.Va=new q2(r,o)}}async function Lf(i){if(Ra(i))for(const t of i.Aa)await t(!0)}async function Yu(i){for(const t of i.Aa)await t(!1)}function Zw(i,t){const e=Rt(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Rp(e)?Ap(e):Jo(e).N_()&&bp(e,t))}function Sp(i,t){const e=Rt(i),r=Jo(e);e.Ea.delete(t),r.N_()&&Jw(e,t),e.Ea.size===0&&(r.N_()?r.k_():Ra(e)&&e.Va.set("Unknown"))}function bp(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Jo(i).Z_(t)}function Jw(i,t){i.ma.Ke(t),Jo(i).X_(t)}function Ap(i){i.ma=new PC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),Jo(i).start(),i.Va.ca()}function Rp(i){return Ra(i)&&!Jo(i).O_()&&i.Ea.size>0}function Ra(i){return Rt(i).da.size===0}function Ww(i){i.ma=void 0}async function G2(i){i.Va.set("Online")}async function Y2(i){i.Ea.forEach((t,e)=>{bp(i,t)})}async function Q2(i,t){Ww(i),Rp(i)?(i.Va.Pa(t),Ap(i)):i.Va.set("Unknown")}async function K2(i,t,e){if(i.Va.set("Online"),t instanceof Lw&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const g of u.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ea.delete(g),o.ma.removeTarget(g))}(i,t)}catch(r){ot(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await lf(i,r)}else if(t instanceof jh?i.ma.Xe(t):t instanceof Uw?i.ma.ot(t):i.ma.nt(t),!e.isEqual(bt.min()))try{const r=await Kw(i.localStore);e.compareTo(r)>=0&&await function(u,h){const g=u.ma.It(h);return g.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.Ea.get(y);E&&u.Ea.set(y,E.withResumeToken(m.resumeToken,h))}}),g.targetMismatches.forEach((m,y)=>{const E=u.Ea.get(m);if(!E)return;u.Ea.set(m,E.withResumeToken(We.EMPTY_BYTE_STRING,E.snapshotVersion)),Jw(u,m);const w=new sr(E.target,m,y,E.sequenceNumber);bp(u,w)}),u.remoteSyncer.applyRemoteEvent(g)}(i,e)}catch(r){ot(ya,"Failed to raise snapshot:",r),await lf(i,r)}}async function lf(i,t,e){if(!Zo(t))throw t;i.da.add(1),await Yu(i),i.Va.set("Offline"),e||(e=()=>Kw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ot(ya,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Lf(i)})}function tS(i,t){return t().catch(e=>lf(i,e,t))}async function Pf(i){const t=Rt(i),e=yr(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:up;for(;X2(t);)try{const o=await N2(t.localStore,r);if(o===null){t.Ia.length===0&&e.k_();break}r=o.batchId,$2(t,o)}catch(o){await lf(t,o)}eS(t)&&nS(t)}function X2(i){return Ra(i)&&i.Ia.length<10}function $2(i,t){i.Ia.push(t);const e=yr(i);e.N_()&&e.ea&&e.ta(t.mutations)}function eS(i){return Ra(i)&&!yr(i).O_()&&i.Ia.length>0}function nS(i){yr(i).start()}async function Z2(i){yr(i).ia()}async function J2(i){const t=yr(i);for(const e of i.Ia)t.ta(e.mutations)}async function W2(i,t,e){const r=i.Ia.shift(),o=pp.from(r,t,e);await tS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Pf(i)}async function tD(i,t){t&&yr(i).ea&&await async function(r,o){if(function(h){return UC(h)&&h!==et.ABORTED}(o.code)){const u=r.Ia.shift();yr(r).L_(),await tS(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Pf(r)}}(i,t),eS(i)&&nS(i)}async function xE(i,t){const e=Rt(i);e.asyncQueue.verifyOperationInProgress(),ot(ya,"RemoteStore received new credentials");const r=Ra(e);e.da.add(3),await Yu(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Lf(e)}async function eD(i,t){const e=Rt(i);t?(e.da.delete(2),await Lf(e)):t||(e.da.add(2),await Yu(e),e.Va.set("Unknown"))}function Jo(i){return i.fa||(i.fa=function(e,r,o){const u=Rt(e);return u.oa(),new z2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:G2.bind(null,i),n_:Y2.bind(null,i),i_:Q2.bind(null,i),Y_:K2.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Rp(i)?Ap(i):i.Va.set("Unknown")):(await i.fa.stop(),Ww(i))})),i.fa}function yr(i){return i.ga||(i.ga=function(e,r,o){const u=Rt(e);return u.oa(),new B2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:Z2.bind(null,i),i_:tD.bind(null,i),na:J2.bind(null,i),ra:W2.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await Pf(i)):(await i.ga.stop(),i.Ia.length>0&&(ot(ya,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const h=Date.now()+r,g=new Ip(t,e,h,o,u);return g.start(r),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(i,t){if(ps("AsyncQueue",`${t}: ${i}`),Zo(i))return new yt(et.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||_t.comparator(e.key,r.key):(e,r)=>_t.comparator(e.key,r.key),this.keyedMap=gu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.pa=new ce(_t.comparator)}track(t){const e=t.doc.key,r=this.pa.get(e);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(e,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(e):t.type===1&&r.type===2?this.pa=this.pa.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):wt(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,r)=>{t.push(r)}),t}}class Bo{constructor(t,e,r,o,u,h,g,m,y){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(t,e,r,o,u){const h=[];return e.forEach(g=>{h.push({type:0,doc:g})}),new Bo(t,e,Co.emptySet(e),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Of(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class iD{constructor(){this.queries=VE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Rt(e),u=o.queries;o.queries=VE(),u.forEach((h,g)=>{for(const m of g.Sa)m.onError(r)})})(this,new yt(et.ABORTED,"Firestore shutting down"))}}function VE(){return new ba(i=>ww(i),Of)}async function sD(i,t){const e=Rt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Da()&&t.va()&&(r=2):(u=new nD,r=t.va()?0:1);try{switch(r){case 0:u.ba=await e.onListen(o,!0);break;case 1:u.ba=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const g=Cp(h,`Initialization of query '${So(t.query)}' failed`);return void t.onError(g)}e.queries.set(o,u),u.Sa.push(t),t.Fa(e.onlineState),u.ba&&t.Ma(u.ba)&&Dp(e)}async function rD(i,t){const e=Rt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function aD(i,t){const e=Rt(i);let r=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const g of h.Sa)g.Ma(o)&&(r=!0);h.ba=o}}r&&Dp(e)}function oD(i,t,e){const r=Rt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Dp(i){i.Ca.forEach(t=>{t.next()})}var Hm,UE;(UE=Hm||(Hm={})).xa="default",UE.Cache="cache";class lD{constructor(t,e,r){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const r=e!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t){this.key=t}}class sS{constructor(t){this.key=t}}class uD{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.Za=Sw(t),this.Xa=new Co(this.Za)}get eu(){return this.Ha}tu(t,e){const r=e?e.nu:new ME,o=e?e.Xa:this.Xa;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,w)=>{const b=o.get(E),D=kf(this.query,w)?w:null,U=!!b&&this.mutatedKeys.has(b.key),X=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let W=!1;b&&D?b.data.isEqual(D.data)?U!==X&&(r.track({type:3,doc:D}),W=!0):this.ru(b,D)||(r.track({type:2,doc:D}),W=!0,(m&&this.Za(D,m)>0||y&&this.Za(D,y)<0)&&(g=!0)):!b&&D?(r.track({type:0,doc:D}),W=!0):b&&!D&&(r.track({type:1,doc:b}),W=!0,(m||y)&&(g=!0)),W&&(D?(h=h.add(D),u=X?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{Xa:h,nu:r,Cs:g,mutatedKeys:u}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((E,w)=>function(D,U){const X=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:W})}};return X(D)-X(U)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(r),o=o!=null&&o;const g=e&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Ja;return this.Ja=m,h.length!==0||y?{snapshot:new Bo(this.query,t.Xa,u,h,t.mutatedKeys,m===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ME,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const e=[];return t.forEach(r=>{this.Ya.has(r)||e.push(new sS(r))}),this.Ya.forEach(r=>{t.has(r)||e.push(new iS(r))}),e}au(t){this.Ha=t.$s,this.Ya=Vt();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Bo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Np="SyncEngine";class cD{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class hD{constructor(t){this.key=t,this.cu=!1}}class fD{constructor(t,e,r,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new ba(g=>ww(g),Of),this.Pu=new Map,this.Tu=new Set,this.Iu=new ce(_t.comparator),this.Eu=new Map,this.du=new vp,this.Au={},this.Ru=new Map,this.Vu=zo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function dD(i,t,e=!0){const r=cS(i);let o;const u=r.hu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await rS(r,t,e,!0),o}async function gD(i,t){const e=cS(i);await rS(e,t,!0,!1)}async function rS(i,t,e,r){const o=await O2(i.localStore,Ai(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,e);let g;return r&&(g=await mD(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&Zw(i.remoteStore,o),g}async function mD(i,t,e,r,o){i.fu=(w,b,D)=>async function(X,W,mt,ut){let it=W.view.tu(mt);it.Cs&&(it=await CE(X.localStore,W.query,!1).then(({documents:k})=>W.view.tu(k,it)));const Et=ut&&ut.targetChanges.get(W.targetId),gt=ut&&ut.targetMismatches.get(W.targetId)!=null,It=W.view.applyChanges(it,X.isPrimaryClient,Et,gt);return PE(X,W.targetId,It.ou),It.snapshot}(i,w,b,D);const u=await CE(i.localStore,t,!0),h=new uD(t,u.$s),g=h.tu(u.documents),m=Gu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),y=h.applyChanges(g,i.isPrimaryClient,m);PE(i,e,y.ou);const E=new cD(t,e,h);return i.hu.set(t,E),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),y.snapshot}async function pD(i,t,e){const r=Rt(i),o=r.hu.get(t),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(h=>!Of(h,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Sp(r.remoteStore,o.targetId),qm(r,o.targetId)}).catch($o)):(qm(r,o.targetId),await Bm(r.localStore,o.targetId,!0))}async function yD(i,t){const e=Rt(i),r=e.hu.get(t),o=e.Pu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Sp(e.remoteStore,r.targetId))}async function _D(i,t,e){const r=AD(i);try{const o=await function(h,g){const m=Rt(h),y=Me.now(),E=g.reduce((D,U)=>D.add(U.key),Vt());let w,b;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let U=ys(),X=Vt();return m.Bs.getEntries(D,E).next(W=>{U=W,U.forEach((mt,ut)=>{ut.isValidDocument()||(X=X.add(mt))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,U)).next(W=>{w=W;const mt=[];for(const ut of g){const it=OC(ut,w.get(ut.key).overlayedDocument);it!=null&&mt.push(new Aa(ut.key,it,mw(it.value.mapValue),ds.exists(!0)))}return m.mutationQueue.addMutationBatch(D,y,mt,g)}).next(W=>{b=W;const mt=W.applyToLocalDocumentSet(w,X);return m.documentOverlayCache.saveOverlays(D,W.batchId,mt)})}).then(()=>({batchId:b.batchId,changes:Aw(w)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,g,m){let y=h.Au[h.currentUser.toKey()];y||(y=new ce(Nt)),y=y.insert(g,m),h.Au[h.currentUser.toKey()]=y}(r,o.batchId,e),await Qu(r,o.changes),await Pf(r.remoteStore)}catch(o){const u=Cp(o,"Failed to persist write");e.reject(u)}}async function aS(i,t){const e=Rt(i);try{const r=await C2(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Eu.get(u);h&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?Yt(h.cu,14607):o.removedDocuments.size>0&&(Yt(h.cu,42227),h.cu=!1))}),await Qu(e,r,t)}catch(r){await $o(r)}}function LE(i,t,e){const r=Rt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.hu.forEach((u,h)=>{const g=h.view.Fa(t);g.snapshot&&o.push(g.snapshot)}),function(h,g){const m=Rt(h);m.onlineState=g;let y=!1;m.queries.forEach((E,w)=>{for(const b of w.Sa)b.Fa(g)&&(y=!0)}),y&&Dp(m)}(r.eventManager,t),o.length&&r.lu.Y_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vD(i,t,e){const r=Rt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Eu.get(t),u=o&&o.key;if(u){let h=new ce(_t.comparator);h=h.insert(u,un.newNoDocument(u,bt.min()));const g=Vt().add(u),m=new Vf(bt.min(),new Map,new ce(Nt),h,g);await aS(r,m),r.Iu=r.Iu.remove(u),r.Eu.delete(t),Op(r)}else await Bm(r.localStore,t,!1).then(()=>qm(r,t,e)).catch($o)}async function ED(i,t){const e=Rt(i),r=t.batch.batchId;try{const o=await I2(e.localStore,t);lS(e,r,null),oS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(e,o)}catch(o){await $o(o)}}async function TD(i,t,e){const r=Rt(i);try{const o=await function(h,g){const m=Rt(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return m.mutationQueue.lookupMutationBatch(y,g).next(w=>(Yt(w!==null,37113),E=w.keys(),m.mutationQueue.removeMutationBatch(y,w))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>m.localDocuments.getDocuments(y,E))})}(r.localStore,t);lS(r,t,e),oS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Qu(r,o)}catch(o){await $o(o)}}function oS(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function lS(i,t,e){const r=Rt(i);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Au[r.currentUser.toKey()]=o}}function qm(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Pu.get(t))i.hu.delete(r),e&&i.lu.gu(r,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(r=>{i.du.containsKey(r)||uS(i,r)})}function uS(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(Sp(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),Op(i))}function PE(i,t,e){for(const r of e)r instanceof iS?(i.du.addReference(r.key,t),wD(i,r)):r instanceof sS?(ot(Np,"Document no longer in limbo: "+r.key),i.du.removeReference(r.key,t),i.du.containsKey(r.key)||uS(i,r.key)):wt(19791,{pu:r})}function wD(i,t){const e=t.key,r=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(r)||(ot(Np,"New document in limbo: "+e),i.Tu.add(r),Op(i))}function Op(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new _t(pe.fromString(t)),r=i.Vu.next();i.Eu.set(r,new hD(e)),i.Iu=i.Iu.insert(e,r),Zw(i.remoteStore,new sr(Ai(gp(e.path)),r,"TargetPurposeLimboResolution",If.le))}}async function Qu(i,t,e){const r=Rt(i),o=[],u=[],h=[];r.hu.isEmpty()||(r.hu.forEach((g,m)=>{h.push(r.fu(m,t,e).then(y=>{var E;if((y||e)&&r.isPrimaryClient){const w=y?!y.fromCache:(E=e==null?void 0:e.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Tp.Rs(m.targetId,y);u.push(w)}}))}),await Promise.all(h),r.lu.Y_(o),await async function(m,y){const E=Rt(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(y,b=>Z.forEach(b.ds,D=>E.persistence.referenceDelegate.addReference(w,b.targetId,D)).next(()=>Z.forEach(b.As,D=>E.persistence.referenceDelegate.removeReference(w,b.targetId,D)))))}catch(w){if(!Zo(w))throw w;ot(wp,"Failed to update sequence numbers: "+w)}for(const w of y){const b=w.targetId;if(!w.fromCache){const D=E.xs.get(b),U=D.snapshotVersion,X=D.withLastLimboFreeSnapshotVersion(U);E.xs=E.xs.insert(b,X)}}}(r.localStore,u))}async function SD(i,t){const e=Rt(i);if(!e.currentUser.isEqual(t)){ot(Np,"User change. New user:",t.toKey());const r=await Qw(e.localStore,t);e.currentUser=t,function(u,h){u.Ru.forEach(g=>{g.forEach(m=>{m.reject(new yt(et.CANCELLED,h))})}),u.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Qu(e,r.ks)}}function bD(i,t){const e=Rt(i),r=e.Eu.get(t);if(r&&r.cu)return Vt().add(r.key);{let o=Vt();const u=e.Pu.get(t);if(!u)return o;for(const h of u){const g=e.hu.get(h);o=o.unionWith(g.view.eu)}return o}}function cS(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vD.bind(null,t),t.lu.Y_=aD.bind(null,t.eventManager),t.lu.gu=oD.bind(null,t.eventManager),t}function AD(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,t),t}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return R2(this.persistence,new S2,t.initialUser,this.serializer)}Su(t){return new Yw(Ep.fi,this.serializer)}bu(t){return new x2}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class RD extends uf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Yt(this.persistence.referenceDelegate instanceof of,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new l2(r,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Yw(r=>of.fi(r,e),this.serializer)}}class Fm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SD.bind(null,this.syncEngine),await eD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iD}()}createDatastore(t){const e=Uf(t.databaseInfo.databaseId),r=function(u){return new P2(u)}(t.databaseInfo);return function(u,h,g,m){return new H2(u,h,g,m)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,o,u,h,g){return new F2(r,o,u,h,g)}(this.localStore,this.datastore,t.asyncQueue,e=>LE(this.syncEngine,e,0),function(){return OE.C()?new OE:new M2}())}createSyncEngine(t,e){return function(o,u,h,g,m,y,E){const w=new fD(o,u,h,g,m,y);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=Rt(o);ot(ya,"RemoteStore shutting down."),u.da.add(5),await Yu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class CD{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{ot(_r,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(ot(_r,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Cp(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function um(i,t){i.asyncQueue.verifyOperationInProgress(),ot(_r,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Qw(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function zE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await DD(i);ot(_r,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(r=>xE(t.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>xE(t.remoteStore,o)),i._onlineComponents=t}async function DD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ot(_r,"Using user provided OfflineComponentProvider");try{await um(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),await um(i,new uf)}}else ot(_r,"Using default OfflineComponentProvider"),await um(i,new RD(void 0));return i._offlineComponents}async function hS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ot(_r,"Using user provided OnlineComponentProvider"),await zE(i,i._uninitializedComponentsProvider._online)):(ot(_r,"Using default OnlineComponentProvider"),await zE(i,new Fm))),i._onlineComponents}function ND(i){return hS(i).then(t=>t.syncEngine)}async function OD(i){const t=await hS(i),e=t.eventManager;return e.onListen=dD.bind(null,t.syncEngine),e.onUnlisten=pD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=gD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=yD.bind(null,t.syncEngine),e}function kD(i,t,e={}){const r=new cr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,g,m,y){const E=new ID({next:b=>{E.xu(),h.enqueueAndForget(()=>rD(u,w));const D=b.docs.has(g);!D&&b.fromCache?y.reject(new yt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&m&&m.source==="server"?y.reject(new yt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),w=new lD(gp(g.path),E,{includeMetadataChanges:!0,Qa:!0});return sD(u,w)}(await OD(i),i.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(i,t,e){if(!e)throw new yt(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function MD(i,t,e,r){if(t===!0&&r===!0)throw new yt(et.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function jE(i){if(!_t.isDocumentKey(i))throw new yt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function kp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":wt(12329,{type:typeof i})}function ku(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new yt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=kp(i);throw new yt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firestore.googleapis.com",HE=!0;class qE{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=HE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:HE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Gw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<a2)throw new yt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new yt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new yt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new yt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xp{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UI;switch(r.type){case"firstParty":return new BI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=BE.get(e);r&&(ot("ComponentProvider","Removing Datastore"),BE.delete(e),r.terminate())}(this),Promise.resolve()}}function VD(i,t,e,r={}){var o;i=ku(i,xp);const u=Qo(t),h=i._getSettings(),g=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${e}`;u&&(HT(`https://${m}`),qT("Firestore",!0)),h.host!==dS&&h.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:r});if(!ga(y,g)&&(i._setSettings(y),r.mockUserToken)){let E,w;if(typeof r.mockUserToken=="string")E=r.mockUserToken,w=on.MOCK_USER;else{E=oR(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new yt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new on(b)}i._authCredentials=new LI(new iw(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Mp(this.firestore,t,this._query)}}class Xn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xn(this.firestore,t,this._key)}}class xu extends Mp{constructor(t,e,r){super(t,e,gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xn(this.firestore,null,new _t(t))}withConverter(t){return new xu(this.firestore,t,this._path)}}function gS(i,t,...e){if(i=$n(i),arguments.length===1&&(t=rw.newId()),xD("doc","path",t),i instanceof xp){const r=pe.fromString(t,...e);return jE(r),new Xn(i,null,new _t(r))}{if(!(i instanceof Xn||i instanceof xu))throw new yt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(pe.fromString(t,...e));return jE(r),new Xn(i.firestore,i instanceof xu?i.converter:null,new _t(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="AsyncQueue";class GE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Xw(this,"async_queue_retry"),this.rc=()=>{const r=lm();r&&ot(FE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const e=lm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=lm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new cr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Zo(t))throw t;ot(FE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,ps("INTERNAL UNHANDLED ERROR: ",YE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=e,e}enqueueAfterDelay(t,e,r){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const o=Ip.createAndSchedule(this,t,e,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&wt(47125,{cc:YE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function YE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Vp extends xp{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new GE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new GE(t),this._firestoreClient=void 0,await t}}}function UD(i,t){const e=typeof i=="object"?i:QT(),r=typeof i=="string"?i:Wh,o=op(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rR("firestore");u&&VD(o,...u)}return o}function mS(i){if(i._terminated)throw new yt(et.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||LD(i),i._firestoreClient}function LD(i){var t,e,r;const o=i._freezeSettings(),u=function(g,m,y,E){return new eC(g,m,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,fS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new CD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(g){const m=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jo(We.fromBase64String(t))}catch(e){throw new yt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new jo(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=/^__.*__$/;class zD{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Aa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fu(t,this.data,e,this.fieldTransforms)}}function yS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ic:i})}}class zp{constructor(t,e,r,o,u,h){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new zp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:r,Rc:!1});return o.Vc(t),o}mc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return cf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(yS(this.Ic)&&PD.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class BD{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Uf(t)}bc(t,e,r,o=!1){return new zp({Ic:t,methodName:e,wc:r,path:Ze.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jD(i){const t=i._freezeSettings(),e=Uf(i._databaseId);return new BD(i._databaseId,!!t.ignoreUndefinedProperties,e)}function HD(i,t,e,r,o,u={}){const h=i.bc(u.merge||u.mergeFields?2:0,t,e,o);TS("Data must be an object, but it was:",h,r);const g=vS(r,h);let m,y;if(u.merge)m=new si(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const b=qD(t,w,e);if(!h.contains(b))throw new yt(et.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);GD(E,b)||E.push(b)}m=new si(E),y=h.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,y=h.fieldTransforms;return new zD(new Yn(g),m,y)}function _S(i,t){if(ES(i=$n(i)))return TS("Unsupported field value:",t,i),vS(i,t);if(i instanceof pS)return function(r,o){if(!yS(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const g of r){let m=_S(g,o.fc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(i,t)}return function(r,o){if((r=$n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Me.fromDate(r);return{timestampValue:af(o.serializer,u)}}if(r instanceof Me){const u=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:af(o.serializer,u)}}if(r instanceof Lp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:Pw(o.serializer,r._byteString)};if(r instanceof Xn){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Pp)return function(h,g){return{mapValue:{fields:{[dw]:{stringValue:gw},[tf]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw g.gc("VectorValues must only contain numeric values.");return mp(g.serializer,y)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${kp(r)}`)}(i,t)}function vS(i,t){const e={};return ow(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(i,(r,o)=>{const u=_S(o,t.Ac(r));u!=null&&(e[r]=u)}),{mapValue:{fields:e}}}function ES(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Me||i instanceof Lp||i instanceof jo||i instanceof Xn||i instanceof pS||i instanceof Pp)}function TS(i,t,e){if(!ES(e)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(e)){const r=kp(e);throw r==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+r)}}function qD(i,t,e){if((t=$n(t))instanceof Up)return t._internalPath;if(typeof t=="string")return wS(i,t);throw cf("Field path arguments must be of type string or ",i,!1,void 0,e)}const FD=new RegExp("[~\\*/\\[\\]]");function wS(i,t,e){if(t.search(FD)>=0)throw cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Up(...t.split("."))._internalPath}catch{throw cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function cf(i,t,e,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${r}`),h&&(m+=` in document ${o}`),m+=")"),new yt(et.INVALID_ARGUMENT,g+i+m)}function GD(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(bS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class YD extends SS{data(){return super.data()}}function bS(i,t){return typeof t=="string"?wS(i,t):t instanceof Up?t._internalPath:t._delegate._internalPath}class QD{convertValue(t,e="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Sa(t,(o,u)=>{r[o]=this.convertValue(u,e)}),r}convertVectorValue(t){var e,r,o;const u=(o=(r=(e=t.fields)===null||e===void 0?void 0:e[tf].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>Te(h.doubleValue));return new Pp(u)}convertGeoPoint(t){return new Lp(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Df(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const e=gr(t);return new Me(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=pe.fromString(t);Yt(Fw(r),9688,{name:t});const o=new Cu(r.get(1),r.get(3)),u=new _t(r.popFirst(5));return o.isEqual(e)||ps(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(i,t,e){let r;return r=i?i.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class AS extends SS{constructor(t,e,r,o,u,h){super(t,e,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $D(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(bS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class $D extends AS{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i){i=ku(i,Xn);const t=ku(i.firestore,Vp);return kD(mS(t),i._key).then(e=>eN(t,i,e))}class JD extends QD{constructor(t){super(),this.firestore=t}convertBytes(t){return new jo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}function WD(i,t,e){i=ku(i,Xn);const r=ku(i.firestore,Vp),o=KD(i.converter,t);return tN(r,[HD(jD(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,ds.none())])}function tN(i,t){return function(r,o){const u=new cr;return r.asyncQueue.enqueueAndForget(async()=>_D(await ND(r),o,u)),u.promise}(mS(i),t)}function eN(i,t,e){const r=e.docs.get(t._key),o=new JD(i);return new AS(i,o,t._key,r,new XD(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Xo=o})(Ko),Mo(new ma("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),g=new Vp(new PI(r.getProvider("auth-internal")),new jI(h,r.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(y.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),lr(J0,W0,t),lr(J0,W0,"esm2017")})();function Bp(i,t){var e={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.indexOf(r)<0&&(e[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(e[r[o]]=i[r[o]]);return e}function RS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=RS,IS=new Hu("auth","Firebase",RS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new rp("@firebase/auth");function iN(i,...t){hf.logLevel<=Mt.WARN&&hf.warn(`Auth (${Ko}): ${i}`,...t)}function Hh(i,...t){hf.logLevel<=Mt.ERROR&&hf.error(`Auth (${Ko}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(i,...t){throw Hp(i,...t)}function ai(i,...t){return Hp(i,...t)}function jp(i,t,e){const r=Object.assign(Object.assign({},nN()),{[t]:e});return new Hu("auth","Firebase",r).create(t,{appName:i.name})}function ha(i){return jp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sN(i,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Oi(i,"argument-error"),jp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hp(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return IS.create(i,...t)}function St(i,t,...e){if(!i)throw Hp(t,...e)}function hs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Hh(t),new Error(t)}function _s(i,t){i||hs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function rN(){return QE()==="http:"||QE()==="https:"}function QE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||dR()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,e){this.shortDelay=t,this.longDelay=e,_s(e>t,"Short delay should be less than long delay!"),this.isMobile=cR()||gR()}get(){return aN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(i,t){_s(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cN=new Ku(3e4,6e4);function Fp(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Wo(i,t,e,r,o={}){return DS(i,o,async()=>{let u={},h={};r&&(t==="GET"?h=r:u={body:JSON.stringify(r)});const g=qu(Object.assign({key:i.config.apiKey},h)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:t,headers:m},u);return fR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Qo(i.emulatorConfig.host)&&(y.credentials="include"),CS.fetch()(await NS(i,i.config.apiHost,e,g),y)})}async function DS(i,t,e){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},lN),t);try{const o=new fN(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw kh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const g=u.ok?h.errorMessage:h.error.message,[m,y]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw kh(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw kh(i,"user-disabled",h);const E=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw jp(i,E,y);Oi(i,E)}}catch(o){if(o instanceof ws)throw o;Oi(i,"network-request-failed",{message:String(o)})}}async function hN(i,t,e,r,o={}){const u=await Wo(i,t,e,r,o);return"mfaPendingCredential"in u&&Oi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function NS(i,t,e,r){const o=`${t}${e}?${r}`,u=i,h=u.config.emulator?qp(i.config,o):`${i.config.apiScheme}://${o}`;return uN.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class fN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),cN.get())})}}function kh(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=ai(i,t,r);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(i,t){return Wo(i,"POST","/v1/accounts:delete",t)}async function ff(i,t){return Wo(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gN(i,t=!1){const e=$n(i),r=await e.getIdToken(t),o=Gp(r);St(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Tu(cm(o.auth_time)),issuedAtTime:Tu(cm(o.iat)),expirationTime:Tu(cm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function cm(i){return Number(i)*1e3}function Gp(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PT(e);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function KE(i){const t=Gp(i);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof ws&&mN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function mN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(i){var t;const e=i.auth,r=await i.getIdToken(),o=await Mu(i,ff(e,{idToken:r}));St(o==null?void 0:o.users.length,e,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?OS(u.providerUserInfo):[],g=_N(i.providerData,h),m=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(g!=null&&g.length),E=m?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new Ym(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function yN(i){const t=$n(i);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _N(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function OS(i){return i.map(t=>{var{providerId:e}=t,r=Bp(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(i,t){const e=await DS(i,{},async()=>{const r=qu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await NS(i,o,"/v1/token",`key=${u}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:r};return i.emulatorConfig&&Qo(i.emulatorConfig.host)&&(m.credentials="include"),CS.fetch()(h,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function EN(i,t){return Wo(i,"POST","/v2/accounts:revokeToken",Fp(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):KE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=KE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await vN(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,h=new Do;return r&&(St(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(St(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(i,t){St(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ri{constructor(t){var{uid:e,auth:r,stsTokenManager:o}=t,u=Bp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await Mu(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return gN(this,t)}reload(){return yN(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ri(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ha(this.auth));const t=await this.getIdToken();return await Mu(this,dN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,o,u,h,g,m,y,E;const w=(r=e.displayName)!==null&&r!==void 0?r:void 0,b=(o=e.email)!==null&&o!==void 0?o:void 0,D=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,U=(h=e.photoURL)!==null&&h!==void 0?h:void 0,X=(g=e.tenantId)!==null&&g!==void 0?g:void 0,W=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,mt=(y=e.createdAt)!==null&&y!==void 0?y:void 0,ut=(E=e.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:it,emailVerified:Et,isAnonymous:gt,providerData:It,stsTokenManager:k}=e;St(it&&k,t,"internal-error");const A=Do.fromJSON(this.name,k);St(typeof it=="string",t,"internal-error"),Ws(w,t.name),Ws(b,t.name),St(typeof Et=="boolean",t,"internal-error"),St(typeof gt=="boolean",t,"internal-error"),Ws(D,t.name),Ws(U,t.name),Ws(X,t.name),Ws(W,t.name),Ws(mt,t.name),Ws(ut,t.name);const I=new ri({uid:it,auth:t,email:b,emailVerified:Et,displayName:w,isAnonymous:gt,photoURL:U,phoneNumber:D,tenantId:X,stsTokenManager:A,createdAt:mt,lastLoginAt:ut});return It&&Array.isArray(It)&&(I.providerData=It.map(x=>Object.assign({},x))),W&&(I._redirectEventId=W),I}static async _fromIdTokenResponse(t,e,r=!1){const o=new Do;o.updateFromServerResponse(e);const u=new ri({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await df(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Do;g.updateFromIdToken(r);const m=new ri({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function fs(i){_s(i instanceof Function,"Expected a class definition");let t=XE.get(i);return t?(_s(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,XE.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}kS.type="NONE";const $E=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(i,t,e){return`firebase:${i}:${t}:${e}`}class No{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,u),this.fullPersistenceKey=qh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ff(this.auth,{idToken:t}).catch(()=>{});return e?ri._fromGetAccountInfoResponse(this.auth,e,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new No(fs($E),t,r);const o=(await Promise.all(e.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||fs($E);const h=qh(r,t.config.apiKey,t.name);let g=null;for(const y of e)try{const E=await y._get(h);if(E){let w;if(typeof E=="string"){const b=await ff(t,{idToken:E}).catch(()=>{});if(!b)break;w=await ri._fromGetAccountInfoResponse(t,b,E)}else w=ri._fromJSON(t,E);y!==u&&(g=w),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new No(u,t,r):(u=m[0],g&&await u._set(h,g.toJSON()),await Promise.all(e.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new No(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(US(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PS(t))return"Blackberry";if(zS(t))return"Webos";if(MS(t))return"Safari";if((t.includes("chrome/")||VS(t))&&!t.includes("edge/"))return"Chrome";if(LS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xS(i=hn()){return/firefox\//i.test(i)}function MS(i=hn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function VS(i=hn()){return/crios\//i.test(i)}function US(i=hn()){return/iemobile/i.test(i)}function LS(i=hn()){return/android/i.test(i)}function PS(i=hn()){return/blackberry/i.test(i)}function zS(i=hn()){return/webos/i.test(i)}function Yp(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function TN(i=hn()){var t;return Yp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wN(){return mR()&&document.documentMode===10}function BS(i=hn()){return Yp(i)||LS(i)||zS(i)||PS(i)||/windows phone/i.test(i)||US(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(i,t=[]){let e;switch(i){case"Browser":e=ZE(hn());break;case"Worker":e=`${ZE(hn())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((h,g)=>{try{const m=t(u);h(m)}catch(m){g(m)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(i,t={}){return Wo(i,"GET","/v2/passwordPolicy",Fp(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=6;class RN{constructor(t){var e,r,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:AN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,o,u,h,g;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(g=m.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),m}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new SN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=fs(e)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await No.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ff(this,{idToken:t}),r=await ri._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ii(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,g=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===g)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(ha(this));const e=t?$n(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bN(this),e=new RN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await EN(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&fs(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[fs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(g,this,"internal-error"),g.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,r,o);return()=>{h=!0,m()}}else{const m=t.addObserver(e);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&iN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zf(i){return $n(i)}class JE{constructor(t){this.auth=t,this.observer=null,this.addObserver=SR(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CN(i){Qp=i}function DN(i){return Qp.loadJS(i)}function NN(){return Qp.gapiScript}function ON(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i,t){const e=op(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ga(u,t??{}))return o;Oi(o,"already-initialized")}return e.initialize({options:t})}function xN(i,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(fs);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function MN(i,t,e){const r=zf(i);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=HS(t),{host:h,port:g}=VN(t),m=g===null?"":`:${g}`,y={url:`${u}//${h}${m}/`},E=Object.freeze({host:h,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(ga(y,r.config.emulator)&&ga(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Qo(h)?(HT(`${u}//${h}${m}`),qT("Auth",!0)):UN()}function HS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function VN(i){const t=HS(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:WE(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:WE(h)}}}function WE(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function UN(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,e){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(i,t){return hN(i,"POST","/v1/accounts:signInWithIdp",Fp(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="http://localhost";class _a extends qS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Oi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=e,u=Bp(e,["providerId","signInMethod"]);if(!r||!o)return null;const h=new _a(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return Oo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Oo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Oo(t,e)}buildRequest(){const t={requestUri:LN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=qu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Kp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Xu{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return _a._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return cs.credential(e,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Xu{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Xu{constructor(){super("twitter.com")}static credential(t,e){return _a._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return nr.credential(e,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await ri._fromIdTokenResponse(t,r,o),h=tT(r);return new Ho({user:u,providerId:h,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=tT(r);return new Ho({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function tT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends ws{constructor(t,e,r,o){var u;super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new gf(t,e,r,o)}}function FS(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(i,u,t,r):u})}async function PN(i,t,e=!1){const r=await Mu(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Ho._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(i,t,e=!1){const{auth:r}=i;if(ii(r.app))return Promise.reject(ha(r));const o="reauthenticate";try{const u=await Mu(i,FS(r,o,t,i),e);St(u.idToken,r,"internal-error");const h=Gp(u.idToken);St(h,r,"internal-error");const{sub:g}=h;return St(i.uid===g,r,"user-mismatch"),Ho._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Oi(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(i,t,e=!1){if(ii(i.app))return Promise.reject(ha(i));const r="signIn",o=await FS(i,r,t),u=await Ho._fromIdTokenResponse(i,r,o);return e||await i._updateCurrentUser(u.user),u}function jN(i,t,e,r){return $n(i).onIdTokenChanged(t,e,r)}function HN(i,t,e){return $n(i).beforeAuthStateChanged(t,e)}function qN(i,t,e,r){return $n(i).onAuthStateChanged(t,e,r)}function FN(i){return $n(i).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1e3,YN=10;class YS extends GS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,g,m)=>{this.notifyListeners(h,m)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!e&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);wN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,YN):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}YS.type="LOCAL";const QN=YS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends GS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}QS.type="SESSION";const KS=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Bf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(h).map(async y=>y(e.origin,u)),m=await KN(g);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((g,m)=>{const y=Xp("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(b.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:y,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function $N(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function ZN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function WN(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",tO=1,pf="firebaseLocalStorage",ZS="fbase_key";class $u{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function jf(i,t){return i.transaction([pf],t?"readwrite":"readonly").objectStore(pf)}function eO(){const i=indexedDB.deleteDatabase($S);return new $u(i).toPromise()}function Qm(){const i=indexedDB.open($S,tO);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(pf,{keyPath:ZS})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(pf)?t(r):(r.close(),await eO(),t(await Qm()))})})}async function eT(i,t,e){const r=jf(i,!0).put({[ZS]:t,value:e});return new $u(r).toPromise()}async function nO(i,t){const e=jf(i,!1).get(t),r=await new $u(e).toPromise();return r===void 0?null:r.value}function nT(i,t){const e=jf(i,!0).delete(t);return new $u(e).toPromise()}const iO=800,sO=3;class JS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>sO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(WN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await ZN(),!this.activeServiceWorker)return;this.sender=new XN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qm();return await eT(t,mf,"1"),await nT(t,mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>eT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>nO(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>nT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=jf(o,!1).getAll();return new $u(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JS.type="LOCAL";const rO=JS;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(i,t){return t?fs(t):(St(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends qS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Oo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function aO(i){return BN(i.auth,new $p(i),i.bypassAuthState)}function oO(i){const{auth:t,user:e}=i;return St(e,t,"internal-error"),zN(e,new $p(i),i.bypassAuthState)}async function lO(i){const{auth:t,user:e}=i;return St(e,t,"internal-error"),PN(e,new $p(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:h,type:g}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aO;case"linkViaPopup":case"linkViaRedirect":return lO;case"reauthViaPopup":case"reauthViaRedirect":return oO;default:Oi(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Ku(2e3,1e4);async function cO(i,t,e){if(ii(i.app))return Promise.reject(ai(i,"operation-not-supported-in-this-environment"));const r=zf(i);sN(i,t,Kp);const o=WS(r,e);return new ua(r,"signInViaPopup",t,o).executeNotNull()}class ua extends t1{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uO.get())};t()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="pendingRedirect",Fh=new Map;class fO extends t1{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Fh.get(this.auth._key());if(!t){try{const r=await dO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Fh.set(this.auth._key(),t)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dO(i,t){const e=pO(t),r=mO(i);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function gO(i,t){Fh.set(i._key(),t)}function mO(i){return fs(i._redirectPersistence)}function pO(i){return qh(hO,i.config.apiKey,i.name)}async function yO(i,t,e=!1){if(ii(i.app))return Promise.reject(ha(i));const r=zf(i),o=WS(r,t),h=await new fO(r,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=10*60*1e3;class vO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!e1(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(ai(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(iT(t))}saveEventToCache(t){this.cachedEventUids.add(iT(t)),this.lastProcessedEventTime=Date.now()}}function iT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function e1({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function EO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(i,t={}){return Wo(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SO=/^https?/;async function bO(i){if(i.config.emulator)return;const{authorizedDomains:t}=await TO(i);for(const e of t)try{if(AO(e))return}catch{}Oi(i,"unauthorized-domain")}function AO(i){const t=Gm(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===r}if(!SO.test(e))return!1;if(wO.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new Ku(3e4,6e4);function sT(){const i=Ii().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function IO(i){return new Promise((t,e)=>{var r,o,u;function h(){sT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sT(),e(ai(i,"network-request-failed"))},timeout:RO.get()})}if(!((o=(r=Ii().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)h();else{const g=ON("iframefcb");return Ii()[g]=()=>{gapi.load?h():e(ai(i,"network-request-failed"))},DN(`${NN()}?onload=${g}`).catch(m=>e(m))}}).catch(t=>{throw Gh=null,t})}let Gh=null;function CO(i){return Gh=Gh||IO(i),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Ku(5e3,15e3),NO="__/auth/iframe",OO="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MO(i){const t=i.config;St(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?qp(t,OO):`https://${i.config.authDomain}/${NO}`,r={apiKey:t.apiKey,appName:i.name,v:Ko},o=xO.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${qu(r).slice(1)}`}async function VO(i){const t=await CO(i),e=Ii().gapi;return St(e,i,"internal-error"),t.open({where:document.body,url:MO(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=ai(i,"network-request-failed"),g=Ii().setTimeout(()=>{u(h)},DO.get());function m(){Ii().clearTimeout(g),o(r)}r.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LO=500,PO=600,zO="_blank",BO="http://localhost";class rT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jO(i,t,e,r=LO,o=PO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const m=Object.assign(Object.assign({},UO),{width:r.toString(),height:o.toString(),top:u,left:h}),y=hn().toLowerCase();e&&(g=VS(y)?zO:e),xS(y)&&(t=t||BO,m.scrollbars="yes");const E=Object.entries(m).reduce((b,[D,U])=>`${b}${D}=${U},`,"");if(TN(y)&&g!=="_self")return HO(t||"",g),new rT(null);const w=window.open(t||"",g,E);St(w,i,"popup-blocked");try{w.focus()}catch{}return new rT(w)}function HO(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="__/auth/handler",FO="emulator/auth/handler",GO=encodeURIComponent("fac");async function aT(i,t,e,r,o,u){St(i.config.authDomain,i,"auth-domain-config-required"),St(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:Ko,eventId:o};if(t instanceof Kp){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",wR(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(t instanceof Xu){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const g=h;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const m=await i._getAppCheckToken(),y=m?`#${GO}=${encodeURIComponent(m)}`:"";return`${YO(i)}?${qu(g).slice(1)}${y}`}function YO({config:i}){return i.emulator?qp(i,FO):`https://${i.authDomain}/${qO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class QO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KS,this._completeRedirectFn=yO,this._overrideRedirectResult=gO}async _openPopup(t,e,r,o){var u;_s((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await aT(t,e,r,Gm(),o);return jO(t,h,Xp())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await aT(t,e,r,Gm(),o);return $N(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(_s(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await VO(t),r=new vO(t);return e.register("authEvent",o=>(St(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(hm,{type:hm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[hm];h!==void 0&&e(!!h),Oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=bO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return BS()||MS()||Yp()}}const KO=QO;var oT="@firebase/auth",lT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZO(i){Mo(new ma("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=r.options;St(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:h,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(i)},y=new IN(r,o,u,m);return xN(y,e),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Mo(new ma("auth-internal",t=>{const e=zf(t.getProvider("auth").getImmediate());return(r=>new XO(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(oT,lT,$O(i)),lr(oT,lT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=5*60,WO=jT("authIdTokenMaxAge")||JO;let uT=null;const tk=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>WO)return;const o=e==null?void 0:e.token;uT!==o&&(uT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ek(i=QT()){const t=op(i,"auth");if(t.isInitialized())return t.getImmediate();const e=kN(i,{popupRedirectResolver:KO,persistence:[rO,QN,KS]}),r=jT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=tk(u.toString());HN(e,h,()=>h(e.currentUser)),jN(e,g=>h(g))}}const o=zT("auth");return o&&MN(e,`http://${o}`),e}function nk(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}CN({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=ai("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",nk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZO("Browser");const ik={apiKey:"AIzaSyC5VXLQ-yDncEzTyHUP3RwFh60NB4-dCIs",authDomain:"yjs-chat-app.firebaseapp.com",projectId:"yjs-chat-app",storageBucket:"yjs-chat-app.appspot.com",messagingSenderId:"623530906437",appId:"1:623530906437:web:12a1fac35fd9d44ea2e42c"},n1=YT(ik),i1=UD(n1),fm=ek(n1),sk=new cs,s1=me.createContext({});function rk({children:i}){const[t,e]=me.useState(null),[r,o]=me.useState(!0),u=async()=>{try{await cO(fm,sk)}catch(m){console.error("Google login error:",m)}},h=async()=>{try{await FN(fm)}catch(m){console.error("Logout error:",m)}};me.useEffect(()=>qN(fm,y=>{e(y),o(!1)}),[]);const g={currentUser:t,loginWithGoogle:u,logout:h};return tt.jsx(s1.Provider,{value:g,children:!r&&i})}function ak(){return me.useContext(s1)}const Tn=()=>new Map,Km=i=>{const t=Tn();return i.forEach((e,r)=>{t.set(r,e)}),t},Vi=(i,t,e)=>{let r=i.get(t);return r===void 0&&i.set(t,r=e()),r},ok=(i,t)=>{const e=[];for(const[r,o]of i)e.push(t(o,r));return e},lk=(i,t)=>{for(const[e,r]of i)if(t(r,e))return!0;return!1},vr=()=>new Set,dm=i=>i[i.length-1],uk=(i,t)=>{for(let e=0;e<t.length;e++)i.push(t[e])},vs=Array.from,ck=Array.isArray;class hk{constructor(){this._observers=Tn()}on(t,e){return Vi(this._observers,t,vr).add(e),e}once(t,e){const r=(...o)=>{this.off(t,r),e(...o)};this.on(t,r)}off(t,e){const r=this._observers.get(t);r!==void 0&&(r.delete(e),r.size===0&&this._observers.delete(t))}emit(t,e){return vs((this._observers.get(t)||Tn()).values()).forEach(r=>r(...e))}destroy(){this._observers=Tn()}}class r1{constructor(){this._observers=Tn()}on(t,e){Vi(this._observers,t,vr).add(e)}once(t,e){const r=(...o)=>{this.off(t,r),e(...o)};this.on(t,r)}off(t,e){const r=this._observers.get(t);r!==void 0&&(r.delete(e),r.size===0&&this._observers.delete(t))}emit(t,e){return vs((this._observers.get(t)||Tn()).values()).forEach(r=>r(...e))}destroy(){this._observers=Tn()}}const Es=Math.floor,Yh=Math.abs,Zp=(i,t)=>i<t?i:t,Ia=(i,t)=>i>t?i:t,fk=Math.pow,a1=i=>i!==0?i<0:1/i<0,cT=1,hT=2,gm=4,mm=8,Vu=32,gs=64,On=128,Hf=31,Xm=63,fa=127,dk=2147483647,o1=Number.MAX_SAFE_INTEGER,gk=Number.isInteger||(i=>typeof i=="number"&&isFinite(i)&&Es(i)===i),mk=String.fromCharCode,pk=i=>i.toLowerCase(),yk=/^\s*/g,_k=i=>i.replace(yk,""),vk=/([A-Z])/g,fT=(i,t)=>_k(i.replace(vk,e=>`${t}${pk(e)}`)),Ek=i=>{const t=unescape(encodeURIComponent(i)),e=t.length,r=new Uint8Array(e);for(let o=0;o<e;o++)r[o]=t.codePointAt(o);return r},Uu=typeof TextEncoder<"u"?new TextEncoder:null,Tk=i=>Uu.encode(i),wk=Uu?Tk:Ek;let wu=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});wu&&wu.decode(new Uint8Array).length===1&&(wu=null);class Zu{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const ln=()=>new Zu,Jp=i=>{let t=i.cpos;for(let e=0;e<i.bufs.length;e++)t+=i.bufs[e].length;return t},ue=i=>{const t=new Uint8Array(Jp(i));let e=0;for(let r=0;r<i.bufs.length;r++){const o=i.bufs[r];t.set(o,e),e+=o.length}return t.set(new Uint8Array(i.cbuf.buffer,0,i.cpos),e),t},Sk=(i,t)=>{const e=i.cbuf.length;e-i.cpos<t&&(i.bufs.push(new Uint8Array(i.cbuf.buffer,0,i.cpos)),i.cbuf=new Uint8Array(Ia(e,t)*2),i.cpos=0)},He=(i,t)=>{const e=i.cbuf.length;i.cpos===e&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(e*2),i.cpos=0),i.cbuf[i.cpos++]=t},$m=He,dt=(i,t)=>{for(;t>fa;)He(i,On|fa&t),t=Es(t/128);He(i,fa&t)},Wp=(i,t)=>{const e=a1(t);for(e&&(t=-t),He(i,(t>Xm?On:0)|(e?gs:0)|Xm&t),t=Es(t/64);t>0;)He(i,(t>fa?On:0)|fa&t),t=Es(t/128)},Zm=new Uint8Array(3e4),bk=Zm.length/3,Ak=(i,t)=>{if(t.length<bk){const e=Uu.encodeInto(t,Zm).written||0;dt(i,e);for(let r=0;r<e;r++)He(i,Zm[r])}else Ee(i,wk(t))},Rk=(i,t)=>{const e=unescape(encodeURIComponent(t)),r=e.length;dt(i,r);for(let o=0;o<r;o++)He(i,e.codePointAt(o))},da=Uu&&Uu.encodeInto?Ak:Rk,qf=(i,t)=>{const e=i.cbuf.length,r=i.cpos,o=Zp(e-r,t.length),u=t.length-o;i.cbuf.set(t.subarray(0,o),r),i.cpos+=o,u>0&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(Ia(e*2,u)),i.cbuf.set(t.subarray(o)),i.cpos=u)},Ee=(i,t)=>{dt(i,t.byteLength),qf(i,t)},ty=(i,t)=>{Sk(i,t);const e=new DataView(i.cbuf.buffer,i.cpos,t);return i.cpos+=t,e},Ik=(i,t)=>ty(i,4).setFloat32(0,t,!1),Ck=(i,t)=>ty(i,8).setFloat64(0,t,!1),Dk=(i,t)=>ty(i,8).setBigInt64(0,t,!1),dT=new DataView(new ArrayBuffer(4)),Nk=i=>(dT.setFloat32(0,i),dT.getFloat32(0)===i),Lu=(i,t)=>{switch(typeof t){case"string":He(i,119),da(i,t);break;case"number":gk(t)&&Yh(t)<=dk?(He(i,125),Wp(i,t)):Nk(t)?(He(i,124),Ik(i,t)):(He(i,123),Ck(i,t));break;case"bigint":He(i,122),Dk(i,t);break;case"object":if(t===null)He(i,126);else if(ck(t)){He(i,117),dt(i,t.length);for(let e=0;e<t.length;e++)Lu(i,t[e])}else if(t instanceof Uint8Array)He(i,116),Ee(i,t);else{He(i,118);const e=Object.keys(t);dt(i,e.length);for(let r=0;r<e.length;r++){const o=e[r];da(i,o),Lu(i,t[o])}}break;case"boolean":He(i,t?120:121);break;default:He(i,127)}};class gT extends Zu{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&dt(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const mT=i=>{i.count>0&&(Wp(i.encoder,i.count===1?i.s:-i.s),i.count>1&&dt(i.encoder,i.count-2))};class Qh{constructor(){this.encoder=new Zu,this.s=0,this.count=0}write(t){this.s===t?this.count++:(mT(this),this.count=1,this.s=t)}toUint8Array(){return mT(this),ue(this.encoder)}}const pT=i=>{if(i.count>0){const t=i.diff*2+(i.count===1?0:1);Wp(i.encoder,t),i.count>1&&dt(i.encoder,i.count-2)}};class pm{constructor(){this.encoder=new Zu,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(pT(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return pT(this),ue(this.encoder)}}class Ok{constructor(){this.sarr=[],this.s="",this.lensE=new Qh}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new Zu;return this.sarr.push(this.s),this.s="",da(t,this.sarr.join("")),qf(t,this.lensE.toUint8Array()),ue(t)}}const Er=i=>new Error(i),Ci=()=>{throw Er("Method unimplemented")},ki=()=>{throw Er("Unexpected case")},l1=Er("Unexpected end of array"),u1=Er("Integer out of Range");class Ff{constructor(t){this.arr=t,this.pos=0}}const Sr=i=>new Ff(i),kk=i=>i.pos!==i.arr.length,xk=(i,t)=>{const e=new Uint8Array(i.arr.buffer,i.pos+i.arr.byteOffset,t);return i.pos+=t,e},an=i=>xk(i,At(i)),qo=i=>i.arr[i.pos++],At=i=>{let t=0,e=1;const r=i.arr.length;for(;i.pos<r;){const o=i.arr[i.pos++];if(t=t+(o&fa)*e,e*=128,o<On)return t;if(t>o1)throw u1}throw l1},ey=i=>{let t=i.arr[i.pos++],e=t&Xm,r=64;const o=(t&gs)>0?-1:1;if((t&On)===0)return o*e;const u=i.arr.length;for(;i.pos<u;){if(t=i.arr[i.pos++],e=e+(t&fa)*r,r*=128,t<On)return o*e;if(e>o1)throw u1}throw l1},Mk=i=>{let t=At(i);if(t===0)return"";{let e=String.fromCodePoint(qo(i));if(--t<100)for(;t--;)e+=String.fromCodePoint(qo(i));else for(;t>0;){const r=t<1e4?t:1e4,o=i.arr.subarray(i.pos,i.pos+r);i.pos+=r,e+=String.fromCodePoint.apply(null,o),t-=r}return decodeURIComponent(escape(e))}},Vk=i=>wu.decode(an(i)),hr=wu?Vk:Mk,ny=(i,t)=>{const e=new DataView(i.arr.buffer,i.arr.byteOffset+i.pos,t);return i.pos+=t,e},Uk=i=>ny(i,4).getFloat32(0,!1),Lk=i=>ny(i,8).getFloat64(0,!1),Pk=i=>ny(i,8).getBigInt64(0,!1),zk=[i=>{},i=>null,ey,Uk,Lk,Pk,i=>!1,i=>!0,hr,i=>{const t=At(i),e={};for(let r=0;r<t;r++){const o=hr(i);e[o]=Pu(i)}return e},i=>{const t=At(i),e=[];for(let r=0;r<t;r++)e.push(Pu(i));return e},an],Pu=i=>zk[127-qo(i)](i);class yT extends Ff{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),kk(this)?this.count=At(this)+1:this.count=-1),this.count--,this.s}}class Kh extends Ff{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=ey(this);const t=a1(this.s);this.count=1,t&&(this.s=-this.s,this.count=At(this)+2)}return this.count--,this.s}}class ym extends Ff{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=ey(this),e=t&1;this.diff=Es(t/2),this.count=1,e&&(this.count=At(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Bk{constructor(t){this.decoder=new Kh(t),this.str=hr(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}const jk=crypto.getRandomValues.bind(crypto),c1=()=>jk(new Uint32Array(1))[0],Hk="10000000-1000-4000-8000"+-1e11,qk=()=>Hk.replace(/[018]/g,i=>(i^c1()&15>>i/4).toString(16)),va=Date.now,_T=i=>new Promise(i);Promise.all.bind(Promise);const vT=i=>i===void 0?null:i;class Fk{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}}let h1=new Fk,iy=!0;try{typeof localStorage<"u"&&localStorage&&(h1=localStorage,iy=!1)}catch{}const f1=h1,Gk=i=>iy||addEventListener("storage",i),Yk=i=>iy||removeEventListener("storage",i),Qk=Object.assign,d1=Object.keys,Kk=(i,t)=>{for(const e in i)t(i[e],e)},Xk=(i,t)=>{const e=[];for(const r in i)e.push(t(i[r],r));return e},ET=i=>d1(i).length,TT=i=>d1(i).length,$k=i=>{for(const t in i)return!1;return!0},Zk=(i,t)=>{for(const e in i)if(!t(i[e],e))return!1;return!0},g1=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),Jk=(i,t)=>i===t||TT(i)===TT(t)&&Zk(i,(e,r)=>(e!==void 0||g1(t,r))&&t[r]===e),Wk=Object.freeze,m1=i=>{for(const t in i){const e=i[t];(typeof e=="object"||typeof e=="function")&&m1(i[t])}return Wk(i)},wT=Symbol("Equality"),sy=(i,t,e=0)=>{try{for(;e<i.length;e++)i[e](...t)}finally{e<i.length&&sy(i,t,e+1)}},t4=i=>i,Su=(i,t)=>{if(i===t)return!0;if(i==null||t==null||i.constructor!==t.constructor)return!1;if(i[wT]!=null)return i[wT](t);switch(i.constructor){case ArrayBuffer:i=new Uint8Array(i),t=new Uint8Array(t);case Uint8Array:{if(i.byteLength!==t.byteLength)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;break}case Set:{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;break}case Map:{if(i.size!==t.size)return!1;for(const e of i.keys())if(!t.has(e)||!Su(i.get(e),t.get(e)))return!1;break}case Object:if(ET(i)!==ET(t))return!1;for(const e in i)if(!g1(i,e)||!Su(i[e],t[e]))return!1;break;case Array:if(i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(!Su(i[e],t[e]))return!1;break;default:return!1}return!0},e4=(i,t)=>t.includes(i);var p1={};const Tr=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",y1=typeof window<"u"&&typeof document<"u"&&!Tr;let Si;const n4=()=>{if(Si===void 0)if(Tr){Si=Tn();const i=process.argv;let t=null;for(let e=0;e<i.length;e++){const r=i[e];r[0]==="-"?(t!==null&&Si.set(t,""),t=r):t!==null&&(Si.set(t,r),t=null)}t!==null&&Si.set(t,"")}else typeof location=="object"?(Si=Tn(),(location.search||"?").slice(1).split("&").forEach(i=>{if(i.length!==0){const[t,e]=i.split("=");Si.set(`--${fT(t,"-")}`,e),Si.set(`-${fT(t,"-")}`,e)}})):Si=Tn();return Si},Jm=i=>n4().has(i),yf=i=>vT(Tr?p1[i.toUpperCase().replaceAll("-","_")]:f1.getItem(i)),_1=i=>Jm("--"+i)||yf(i)!==null;_1("production");const i4=Tr&&e4(p1.FORCE_COLOR,["true","1","2"]),s4=i4||!Jm("--no-colors")&&!_1("no-color")&&(!Tr||process.stdout.isTTY)&&(!Tr||Jm("--color")||yf("COLORTERM")!==null||(yf("TERM")||"").includes("color")),v1=i=>new Uint8Array(i),r4=(i,t,e)=>new Uint8Array(i,t,e),a4=i=>new Uint8Array(i),o4=i=>{let t="";for(let e=0;e<i.byteLength;e++)t+=mk(i[e]);return btoa(t)},l4=i=>Buffer.from(i.buffer,i.byteOffset,i.byteLength).toString("base64"),u4=i=>{const t=atob(i),e=v1(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e},c4=i=>{const t=Buffer.from(i,"base64");return r4(t.buffer,t.byteOffset,t.byteLength)},h4=y1?o4:l4,f4=y1?u4:c4,d4=i=>{const t=v1(i.byteLength);return t.set(i),t};class g4{constructor(t,e){this.left=t,this.right=e}}const ls=(i,t)=>new g4(i,t);typeof DOMParser<"u"&&new DOMParser;const m4=i=>ok(i,(t,e)=>`${e}:${t};`).join(""),Ss=Symbol,E1=Ss(),T1=Ss(),p4=Ss(),y4=Ss(),_4=Ss(),w1=Ss(),v4=Ss(),ry=Ss(),E4=Ss(),T4=i=>{var o;i.length===1&&((o=i[0])==null?void 0:o.constructor)===Function&&(i=i[0]());const t=[],e=[];let r=0;for(;r<i.length;r++){const u=i[r];if(u===void 0)break;if(u.constructor===String||u.constructor===Number)t.push(u);else if(u.constructor===Object)break}for(r>0&&e.push(t.join(""));r<i.length;r++){const u=i[r];u instanceof Symbol||e.push(u)}return e},w4={[E1]:ls("font-weight","bold"),[T1]:ls("font-weight","normal"),[p4]:ls("color","blue"),[_4]:ls("color","green"),[y4]:ls("color","grey"),[w1]:ls("color","red"),[v4]:ls("color","purple"),[ry]:ls("color","orange"),[E4]:ls("color","black")},S4=i=>{var h;i.length===1&&((h=i[0])==null?void 0:h.constructor)===Function&&(i=i[0]());const t=[],e=[],r=Tn();let o=[],u=0;for(;u<i.length;u++){const g=i[u],m=w4[g];if(m!==void 0)r.set(m.left,m.right);else{if(g===void 0)break;if(g.constructor===String||g.constructor===Number){const y=m4(r);u>0||y.length>0?(t.push("%c"+g),e.push(y)):t.push(g)}else break}}for(u>0&&(o=e,o.unshift(t.join("")));u<i.length;u++){const g=i[u];g instanceof Symbol||o.push(g)}return o},S1=s4?S4:T4,b4=(...i)=>{console.log(...S1(i)),b1.forEach(t=>t.print(i))},A4=(...i)=>{console.warn(...S1(i)),i.unshift(ry),b1.forEach(t=>t.print(i))},b1=vr(),A1=i=>({[Symbol.iterator](){return this},next:i}),R4=(i,t)=>A1(()=>{let e;do e=i.next();while(!e.done&&!t(e.value));return e}),_m=(i,t)=>A1(()=>{const{done:e,value:r}=i.next();return{done:e,value:e?void 0:t(r)}});class ay{constructor(t,e){this.clock=t,this.len=e}}class Ju{constructor(){this.clients=new Map}}const R1=(i,t,e)=>t.clients.forEach((r,o)=>{const u=i.doc.store.clients.get(o);if(u!=null){const h=u[u.length-1],g=h.id.clock+h.length;for(let m=0,y=r[m];m<r.length&&y.clock<g;y=r[++m])z1(i,u,y.clock,y.len,e)}}),I4=(i,t)=>{let e=0,r=i.length-1;for(;e<=r;){const o=Es((e+r)/2),u=i[o],h=u.clock;if(h<=t){if(t<h+u.len)return o;e=o+1}else r=o-1}return null},I1=(i,t)=>{const e=i.clients.get(t.client);return e!==void 0&&I4(e,t.clock)!==null},oy=i=>{i.clients.forEach(t=>{t.sort((o,u)=>o.clock-u.clock);let e,r;for(e=1,r=1;e<t.length;e++){const o=t[r-1],u=t[e];o.clock+o.len>=u.clock?o.len=Ia(o.len,u.clock+u.len-o.clock):(r<e&&(t[r]=u),r++)}t.length=r})},C4=i=>{const t=new Ju;for(let e=0;e<i.length;e++)i[e].clients.forEach((r,o)=>{if(!t.clients.has(o)){const u=r.slice();for(let h=e+1;h<i.length;h++)uk(u,i[h].clients.get(o)||[]);t.clients.set(o,u)}});return oy(t),t},_f=(i,t,e,r)=>{Vi(i.clients,t,()=>[]).push(new ay(e,r))},D4=()=>new Ju,N4=i=>{const t=D4();return i.clients.forEach((e,r)=>{const o=[];for(let u=0;u<e.length;u++){const h=e[u];if(h.deleted){const g=h.id.clock;let m=h.length;if(u+1<e.length)for(let y=e[u+1];u+1<e.length&&y.deleted;y=e[++u+1])m+=y.length;o.push(new ay(g,m))}}o.length>0&&t.clients.set(r,o)}),t},tl=(i,t)=>{dt(i.restEncoder,t.clients.size),vs(t.clients.entries()).sort((e,r)=>r[0]-e[0]).forEach(([e,r])=>{i.resetDsCurVal(),dt(i.restEncoder,e);const o=r.length;dt(i.restEncoder,o);for(let u=0;u<o;u++){const h=r[u];i.writeDsClock(h.clock),i.writeDsLen(h.len)}})},ly=i=>{const t=new Ju,e=At(i.restDecoder);for(let r=0;r<e;r++){i.resetDsCurVal();const o=At(i.restDecoder),u=At(i.restDecoder);if(u>0){const h=Vi(t.clients,o,()=>[]);for(let g=0;g<u;g++)h.push(new ay(i.readDsClock(),i.readDsLen()))}}return t},ST=(i,t,e)=>{const r=new Ju,o=At(i.restDecoder);for(let u=0;u<o;u++){i.resetDsCurVal();const h=At(i.restDecoder),g=At(i.restDecoder),m=e.clients.get(h)||[],y=Fe(e,h);for(let E=0;E<g;E++){const w=i.readDsClock(),b=w+i.readDsLen();if(w<y){y<b&&_f(r,h,y,b-y);let D=xi(m,w),U=m[D];for(!U.deleted&&U.id.clock<w&&(m.splice(D+1,0,Af(t,U,w-U.id.clock)),D++);D<m.length&&(U=m[D++],U.id.clock<b);)U.deleted||(b<U.id.clock+U.length&&m.splice(D,0,Af(t,U,b-U.id.clock)),U.delete(t))}else _f(r,h,w,b-w)}}if(r.clients.size>0){const u=new Ea;return dt(u.restEncoder,0),tl(u,r),u.toUint8Array()}return null},C1=c1;class el extends hk{constructor({guid:t=qk(),collectionid:e=null,gc:r=!0,gcFilter:o=()=>!0,meta:u=null,autoLoad:h=!1,shouldLoad:g=!0}={}){super(),this.gc=r,this.gcFilter=o,this.clientID=C1(),this.guid=t,this.collectionid=e,this.share=new Map,this.store=new L1,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=g,this.autoLoad=h,this.meta=u,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=_T(y=>{this.on("load",()=>{this.isLoaded=!0,y(this)})});const m=()=>_T(y=>{const E=w=>{(w===void 0||w===!0)&&(this.off("sync",E),y())};this.on("sync",E)});this.on("sync",y=>{y===!1&&this.isSynced&&(this.whenSynced=m()),this.isSynced=y===void 0||y===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=m()}load(){const t=this._item;t!==null&&!this.shouldLoad&&se(t.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(vs(this.subdocs).map(t=>t.guid))}transact(t,e=null){return se(this,t,e)}get(t,e=Je){const r=Vi(this.share,t,()=>{const u=new e;return u._integrate(this,null),u}),o=r.constructor;if(e!==Je&&o!==e)if(o===Je){const u=new e;u._map=r._map,r._map.forEach(h=>{for(;h!==null;h=h.left)h.parent=u}),u._start=r._start;for(let h=u._start;h!==null;h=h.right)h.parent=u;return u._length=r._length,this.share.set(t,u),u._integrate(this,null),u}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,fr)}getText(t=""){return this.get(t,Go)}getMap(t=""){return this.get(t,Ts)}getXmlElement(t=""){return this.get(t,Yo)}getXmlFragment(t=""){return this.get(t,Ta)}toJSON(){const t={};return this.share.forEach((e,r)=>{t[r]=e.toJSON()}),t}destroy(){this.isDestroyed=!0,vs(this.subdocs).forEach(e=>e.destroy());const t=this._item;if(t!==null){this._item=null;const e=t.content;e.doc=new el({guid:this.guid,...e.opts,shouldLoad:!1}),e.doc._item=t,se(t.parent.doc,r=>{const o=e.doc;t.deleted||r.subdocsAdded.add(o),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class D1{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return At(this.restDecoder)}readDsLen(){return At(this.restDecoder)}}class N1 extends D1{readLeftID(){return Ut(At(this.restDecoder),At(this.restDecoder))}readRightID(){return Ut(At(this.restDecoder),At(this.restDecoder))}readClient(){return At(this.restDecoder)}readInfo(){return qo(this.restDecoder)}readString(){return hr(this.restDecoder)}readParentInfo(){return At(this.restDecoder)===1}readTypeRef(){return At(this.restDecoder)}readLen(){return At(this.restDecoder)}readAny(){return Pu(this.restDecoder)}readBuf(){return d4(an(this.restDecoder))}readJSON(){return JSON.parse(hr(this.restDecoder))}readKey(){return hr(this.restDecoder)}}class O4{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=At(this.restDecoder),this.dsCurrVal}readDsLen(){const t=At(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class Fo extends O4{constructor(t){super(t),this.keys=[],At(t),this.keyClockDecoder=new ym(an(t)),this.clientDecoder=new Kh(an(t)),this.leftClockDecoder=new ym(an(t)),this.rightClockDecoder=new ym(an(t)),this.infoDecoder=new yT(an(t),qo),this.stringDecoder=new Bk(an(t)),this.parentInfoDecoder=new yT(an(t),qo),this.typeRefDecoder=new Kh(an(t)),this.lenDecoder=new Kh(an(t))}readLeftID(){return new ko(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ko(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Pu(this.restDecoder)}readBuf(){return an(this.restDecoder)}readJSON(){return Pu(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class O1{constructor(){this.restEncoder=ln()}toUint8Array(){return ue(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){dt(this.restEncoder,t)}writeDsLen(t){dt(this.restEncoder,t)}}class Wu extends O1{writeLeftID(t){dt(this.restEncoder,t.client),dt(this.restEncoder,t.clock)}writeRightID(t){dt(this.restEncoder,t.client),dt(this.restEncoder,t.clock)}writeClient(t){dt(this.restEncoder,t)}writeInfo(t){$m(this.restEncoder,t)}writeString(t){da(this.restEncoder,t)}writeParentInfo(t){dt(this.restEncoder,t?1:0)}writeTypeRef(t){dt(this.restEncoder,t)}writeLen(t){dt(this.restEncoder,t)}writeAny(t){Lu(this.restEncoder,t)}writeBuf(t){Ee(this.restEncoder,t)}writeJSON(t){da(this.restEncoder,JSON.stringify(t))}writeKey(t){da(this.restEncoder,t)}}class k1{constructor(){this.restEncoder=ln(),this.dsCurrVal=0}toUint8Array(){return ue(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,dt(this.restEncoder,e)}writeDsLen(t){t===0&&ki(),dt(this.restEncoder,t-1),this.dsCurrVal+=t}}class Ea extends k1{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new pm,this.clientEncoder=new Qh,this.leftClockEncoder=new pm,this.rightClockEncoder=new pm,this.infoEncoder=new gT($m),this.stringEncoder=new Ok,this.parentInfoEncoder=new gT($m),this.typeRefEncoder=new Qh,this.lenEncoder=new Qh}toUint8Array(){const t=ln();return dt(t,0),Ee(t,this.keyClockEncoder.toUint8Array()),Ee(t,this.clientEncoder.toUint8Array()),Ee(t,this.leftClockEncoder.toUint8Array()),Ee(t,this.rightClockEncoder.toUint8Array()),Ee(t,ue(this.infoEncoder)),Ee(t,this.stringEncoder.toUint8Array()),Ee(t,ue(this.parentInfoEncoder)),Ee(t,this.typeRefEncoder.toUint8Array()),Ee(t,this.lenEncoder.toUint8Array()),qf(t,ue(this.restEncoder)),ue(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){Lu(this.restEncoder,t)}writeBuf(t){Ee(this.restEncoder,t)}writeJSON(t){Lu(this.restEncoder,t)}writeKey(t){const e=this.keyMap.get(t);e===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(e)}}const k4=(i,t,e,r)=>{r=Ia(r,t[0].id.clock);const o=xi(t,r);dt(i.restEncoder,t.length-o),i.writeClient(e),dt(i.restEncoder,r);const u=t[o];u.write(i,r-u.id.clock);for(let h=o+1;h<t.length;h++)t[h].write(i,0)},uy=(i,t,e)=>{const r=new Map;e.forEach((o,u)=>{Fe(t,u)>o&&r.set(u,o)}),Gf(t).forEach((o,u)=>{e.has(u)||r.set(u,0)}),dt(i.restEncoder,r.size),vs(r.entries()).sort((o,u)=>u[0]-o[0]).forEach(([o,u])=>{k4(i,t.clients.get(o),o,u)})},x4=(i,t)=>{const e=Tn(),r=At(i.restDecoder);for(let o=0;o<r;o++){const u=At(i.restDecoder),h=new Array(u),g=i.readClient();let m=At(i.restDecoder);e.set(g,{i:0,refs:h});for(let y=0;y<u;y++){const E=i.readInfo();switch(Hf&E){case 0:{const w=i.readLen();h[y]=new Qn(Ut(g,m),w),m+=w;break}case 10:{const w=At(i.restDecoder);h[y]=new Kn(Ut(g,m),w),m+=w;break}default:{const w=(E&(gs|On))===0,b=new xe(Ut(g,m),null,(E&On)===On?i.readLeftID():null,null,(E&gs)===gs?i.readRightID():null,w?i.readParentInfo()?t.get(i.readString()):i.readLeftID():null,w&&(E&Vu)===Vu?i.readString():null,sb(i,E));h[y]=b,m+=b.length}}}}return e},M4=(i,t,e)=>{const r=[];let o=vs(e.keys()).sort((D,U)=>D-U);if(o.length===0)return null;const u=()=>{if(o.length===0)return null;let D=e.get(o[o.length-1]);for(;D.refs.length===D.i;)if(o.pop(),o.length>0)D=e.get(o[o.length-1]);else return null;return D};let h=u();if(h===null)return null;const g=new L1,m=new Map,y=(D,U)=>{const X=m.get(D);(X==null||X>U)&&m.set(D,U)};let E=h.refs[h.i++];const w=new Map,b=()=>{for(const D of r){const U=D.id.client,X=e.get(U);X?(X.i--,g.clients.set(U,X.refs.slice(X.i)),e.delete(U),X.i=0,X.refs=[]):g.clients.set(U,[D]),o=o.filter(W=>W!==U)}r.length=0};for(;;){if(E.constructor!==Kn){const U=Vi(w,E.id.client,()=>Fe(t,E.id.client))-E.id.clock;if(U<0)r.push(E),y(E.id.client,E.id.clock-1),b();else{const X=E.getMissing(i,t);if(X!==null){r.push(E);const W=e.get(X)||{refs:[],i:0};if(W.refs.length===W.i)y(X,Fe(t,X)),b();else{E=W.refs[W.i++];continue}}else(U===0||U<E.length)&&(E.integrate(i,U),w.set(E.id.client,E.id.clock+E.length))}}if(r.length>0)E=r.pop();else if(h!==null&&h.i<h.refs.length)E=h.refs[h.i++];else{if(h=u(),h===null)break;E=h.refs[h.i++]}}if(g.clients.size>0){const D=new Ea;return uy(D,g,new Map),dt(D.restEncoder,0),{missing:m,update:D.toUint8Array()}}return null},V4=(i,t)=>uy(i,t.doc.store,t.beforeState),U4=(i,t,e,r=new Fo(i))=>se(t,o=>{o.local=!1;let u=!1;const h=o.doc,g=h.store,m=x4(r,h),y=M4(o,g,m),E=g.pendingStructs;if(E){for(const[b,D]of E.missing)if(D<Fe(g,b)){u=!0;break}if(y){for(const[b,D]of y.missing){const U=E.missing.get(b);(U==null||U>D)&&E.missing.set(b,D)}E.update=vf([E.update,y.update])}}else g.pendingStructs=y;const w=ST(r,o,g);if(g.pendingDs){const b=new Fo(Sr(g.pendingDs));At(b.restDecoder);const D=ST(b,o,g);w&&D?g.pendingDs=vf([w,D]):g.pendingDs=w||D}else g.pendingDs=w;if(u){const b=g.pendingStructs.update;g.pendingStructs=null,x1(o.doc,b)}},e,!1),x1=(i,t,e,r=Fo)=>{const o=Sr(t);U4(o,i,e,new r(o))},L4=(i,t,e)=>x1(i,t,e,N1),P4=(i,t,e=new Map)=>{uy(i,t.store,e),tl(i,N4(t.store))},z4=(i,t=new Uint8Array([0]),e=new Ea)=>{const r=M1(t);P4(e,i,r);const o=[e.toUint8Array()];if(i.store.pendingDs&&o.push(i.store.pendingDs),i.store.pendingStructs&&o.push(ex(i.store.pendingStructs.update,t)),o.length>1){if(e.constructor===Wu)return W4(o.map((u,h)=>h===0?u:ix(u)));if(e.constructor===Ea)return vf(o)}return o[0]},B4=(i,t)=>z4(i,t,new Wu),j4=i=>{const t=new Map,e=At(i.restDecoder);for(let r=0;r<e;r++){const o=At(i.restDecoder),u=At(i.restDecoder);t.set(o,u)}return t},M1=i=>j4(new D1(Sr(i))),V1=(i,t)=>(dt(i.restEncoder,t.size),vs(t.entries()).sort((e,r)=>r[0]-e[0]).forEach(([e,r])=>{dt(i.restEncoder,e),dt(i.restEncoder,r)}),i),H4=(i,t)=>V1(i,Gf(t.store)),q4=(i,t=new k1)=>(i instanceof Map?V1(t,i):H4(t,i),t.toUint8Array()),F4=i=>q4(i,new O1);class G4{constructor(){this.l=[]}}const bT=()=>new G4,AT=(i,t)=>i.l.push(t),RT=(i,t)=>{const e=i.l,r=e.length;i.l=e.filter(o=>t!==o),r===i.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},U1=(i,t,e)=>sy(i.l,[t,e]);class ko{constructor(t,e){this.client=t,this.clock=e}}const xh=(i,t)=>i===t||i!==null&&t!==null&&i.client===t.client&&i.clock===t.clock,Ut=(i,t)=>new ko(i,t),Y4=i=>{for(const[t,e]of i.doc.share.entries())if(e===i)return t;throw ki()},Ro=(i,t)=>t===void 0?!i.deleted:t.sv.has(i.id.client)&&(t.sv.get(i.id.client)||0)>i.id.clock&&!I1(t.ds,i.id),Wm=(i,t)=>{const e=Vi(i.meta,Wm,vr),r=i.doc.store;e.has(t)||(t.sv.forEach((o,u)=>{o<Fe(r,u)&&wr(i,Ut(u,o))}),R1(i,t.ds,o=>{}),e.add(t))};class L1{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Gf=i=>{const t=new Map;return i.clients.forEach((e,r)=>{const o=e[e.length-1];t.set(r,o.id.clock+o.length)}),t},Fe=(i,t)=>{const e=i.clients.get(t);if(e===void 0)return 0;const r=e[e.length-1];return r.id.clock+r.length},P1=(i,t)=>{let e=i.clients.get(t.id.client);if(e===void 0)e=[],i.clients.set(t.id.client,e);else{const r=e[e.length-1];if(r.id.clock+r.length!==t.id.clock)throw ki()}e.push(t)},xi=(i,t)=>{let e=0,r=i.length-1,o=i[r],u=o.id.clock;if(u===t)return r;let h=Es(t/(u+o.length-1)*r);for(;e<=r;){if(o=i[h],u=o.id.clock,u<=t){if(t<u+o.length)return h;e=h+1}else r=h-1;h=Es((e+r)/2)}throw ki()},Q4=(i,t)=>{const e=i.clients.get(t.client);return e[xi(e,t.clock)]},vm=Q4,tp=(i,t,e)=>{const r=xi(t,e),o=t[r];return o.id.clock<e&&o instanceof xe?(t.splice(r+1,0,Af(i,o,e-o.id.clock)),r+1):r},wr=(i,t)=>{const e=i.doc.store.clients.get(t.client);return e[tp(i,e,t.clock)]},IT=(i,t,e)=>{const r=t.clients.get(e.client),o=xi(r,e.clock),u=r[o];return e.clock!==u.id.clock+u.length-1&&u.constructor!==Qn&&r.splice(o+1,0,Af(i,u,e.clock-u.id.clock+1)),u},K4=(i,t,e)=>{const r=i.clients.get(t.id.client);r[xi(r,t.id.clock)]=e},z1=(i,t,e,r,o)=>{if(r===0)return;const u=e+r;let h=tp(i,t,e),g;do g=t[h++],u<g.id.clock+g.length&&tp(i,t,u),o(g);while(h<t.length&&t[h].id.clock<u)};class X4{constructor(t,e,r){this.doc=t,this.deleteSet=new Ju,this.beforeState=Gf(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const CT=(i,t)=>t.deleteSet.clients.size===0&&!lk(t.afterState,(e,r)=>t.beforeState.get(r)!==e)?!1:(oy(t.deleteSet),V4(i,t),tl(i,t.deleteSet),!0),DT=(i,t,e)=>{const r=t._item;(r===null||r.id.clock<(i.beforeState.get(r.id.client)||0)&&!r.deleted)&&Vi(i.changed,t,vr).add(e)},Xh=(i,t)=>{let e=i[t],r=i[t-1],o=t;for(;o>0;e=r,r=i[--o-1]){if(r.deleted===e.deleted&&r.constructor===e.constructor&&r.mergeWith(e)){e instanceof xe&&e.parentSub!==null&&e.parent._map.get(e.parentSub)===e&&e.parent._map.set(e.parentSub,r);continue}break}const u=t-o;return u&&i.splice(t+1-u,u),u},$4=(i,t,e)=>{for(const[r,o]of i.clients.entries()){const u=t.clients.get(r);for(let h=o.length-1;h>=0;h--){const g=o[h],m=g.clock+g.len;for(let y=xi(u,g.clock),E=u[y];y<u.length&&E.id.clock<m;E=u[++y]){const w=u[y];if(g.clock+g.len<=w.id.clock)break;w instanceof xe&&w.deleted&&!w.keep&&e(w)&&w.gc(t,!1)}}}},Z4=(i,t)=>{i.clients.forEach((e,r)=>{const o=t.clients.get(r);for(let u=e.length-1;u>=0;u--){const h=e[u],g=Zp(o.length-1,1+xi(o,h.clock+h.len-1));for(let m=g,y=o[m];m>0&&y.id.clock>=h.clock;y=o[m])m-=1+Xh(o,m)}})},B1=(i,t)=>{if(t<i.length){const e=i[t],r=e.doc,o=r.store,u=e.deleteSet,h=e._mergeStructs;try{oy(u),e.afterState=Gf(e.doc.store),r.emit("beforeObserverCalls",[e,r]);const g=[];e.changed.forEach((m,y)=>g.push(()=>{(y._item===null||!y._item.deleted)&&y._callObserver(e,m)})),g.push(()=>{e.changedParentTypes.forEach((m,y)=>{y._dEH.l.length>0&&(y._item===null||!y._item.deleted)&&(m=m.filter(E=>E.target._item===null||!E.target._item.deleted),m.forEach(E=>{E.currentTarget=y,E._path=null}),m.sort((E,w)=>E.path.length-w.path.length),U1(y._dEH,m,e))})}),g.push(()=>r.emit("afterTransaction",[e,r])),sy(g,[]),e._needFormattingCleanup&&yx(e)}finally{r.gc&&$4(u,o,r.gcFilter),Z4(u,o),e.afterState.forEach((E,w)=>{const b=e.beforeState.get(w)||0;if(b!==E){const D=o.clients.get(w),U=Ia(xi(D,b),1);for(let X=D.length-1;X>=U;)X-=1+Xh(D,X)}});for(let E=h.length-1;E>=0;E--){const{client:w,clock:b}=h[E].id,D=o.clients.get(w),U=xi(D,b);U+1<D.length&&Xh(D,U+1)>1||U>0&&Xh(D,U)}if(!e.local&&e.afterState.get(r.clientID)!==e.beforeState.get(r.clientID)&&(b4(ry,E1,"[yjs] ",T1,w1,"Changed the client-id because another client seems to be using it."),r.clientID=C1()),r.emit("afterTransactionCleanup",[e,r]),r._observers.has("update")){const E=new Wu;CT(E,e)&&r.emit("update",[E.toUint8Array(),e.origin,r,e])}if(r._observers.has("updateV2")){const E=new Ea;CT(E,e)&&r.emit("updateV2",[E.toUint8Array(),e.origin,r,e])}const{subdocsAdded:g,subdocsLoaded:m,subdocsRemoved:y}=e;(g.size>0||y.size>0||m.size>0)&&(g.forEach(E=>{E.clientID=r.clientID,E.collectionid==null&&(E.collectionid=r.collectionid),r.subdocs.add(E)}),y.forEach(E=>r.subdocs.delete(E)),r.emit("subdocs",[{loaded:m,added:g,removed:y},r,e]),y.forEach(E=>E.destroy())),i.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,i])):B1(i,t+1)}}},se=(i,t,e=null,r=!0)=>{const o=i._transactionCleanups;let u=!1,h=null;i._transaction===null&&(u=!0,i._transaction=new X4(i,e,r),o.push(i._transaction),o.length===1&&i.emit("beforeAllTransactions",[i]),i.emit("beforeTransaction",[i._transaction,i]));try{h=t(i._transaction)}finally{if(u){const g=i._transaction===o[0];i._transaction=null,g&&B1(o,0)}}return h};function*J4(i){const t=At(i.restDecoder);for(let e=0;e<t;e++){const r=At(i.restDecoder),o=i.readClient();let u=At(i.restDecoder);for(let h=0;h<r;h++){const g=i.readInfo();if(g===10){const m=At(i.restDecoder);yield new Kn(Ut(o,u),m),u+=m}else if((Hf&g)!==0){const m=(g&(gs|On))===0,y=new xe(Ut(o,u),null,(g&On)===On?i.readLeftID():null,null,(g&gs)===gs?i.readRightID():null,m?i.readParentInfo()?i.readString():i.readLeftID():null,m&&(g&Vu)===Vu?i.readString():null,sb(i,g));yield y,u+=y.length}else{const m=i.readLen();yield new Qn(Ut(o,u),m),u+=m}}}}class cy{constructor(t,e){this.gen=J4(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Kn);return this.curr}}class hy{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const W4=i=>vf(i,N1,Wu),tx=(i,t)=>{if(i.constructor===Qn){const{client:e,clock:r}=i.id;return new Qn(Ut(e,r+t),i.length-t)}else if(i.constructor===Kn){const{client:e,clock:r}=i.id;return new Kn(Ut(e,r+t),i.length-t)}else{const e=i,{client:r,clock:o}=e.id;return new xe(Ut(r,o+t),null,Ut(r,o+t-1),null,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t))}},vf=(i,t=Fo,e=Ea)=>{if(i.length===1)return i[0];const r=i.map(E=>new t(Sr(E)));let o=r.map(E=>new cy(E,!0)),u=null;const h=new e,g=new hy(h);for(;o=o.filter(b=>b.curr!==null),o.sort((b,D)=>{if(b.curr.id.client===D.curr.id.client){const U=b.curr.id.clock-D.curr.id.clock;return U===0?b.curr.constructor===D.curr.constructor?0:b.curr.constructor===Kn?1:-1:U}else return D.curr.id.client-b.curr.id.client}),o.length!==0;){const E=o[0],w=E.curr.id.client;if(u!==null){let b=E.curr,D=!1;for(;b!==null&&b.id.clock+b.length<=u.struct.id.clock+u.struct.length&&b.id.client>=u.struct.id.client;)b=E.next(),D=!0;if(b===null||b.id.client!==w||D&&b.id.clock>u.struct.id.clock+u.struct.length)continue;if(w!==u.struct.id.client)ir(g,u.struct,u.offset),u={struct:b,offset:0},E.next();else if(u.struct.id.clock+u.struct.length<b.id.clock)if(u.struct.constructor===Kn)u.struct.length=b.id.clock+b.length-u.struct.id.clock;else{ir(g,u.struct,u.offset);const U=b.id.clock-u.struct.id.clock-u.struct.length;u={struct:new Kn(Ut(w,u.struct.id.clock+u.struct.length),U),offset:0}}else{const U=u.struct.id.clock+u.struct.length-b.id.clock;U>0&&(u.struct.constructor===Kn?u.struct.length-=U:b=tx(b,U)),u.struct.mergeWith(b)||(ir(g,u.struct,u.offset),u={struct:b,offset:0},E.next())}}else u={struct:E.curr,offset:0},E.next();for(let b=E.curr;b!==null&&b.id.client===w&&b.id.clock===u.struct.id.clock+u.struct.length&&b.constructor!==Kn;b=E.next())ir(g,u.struct,u.offset),u={struct:b,offset:0}}u!==null&&(ir(g,u.struct,u.offset),u=null),fy(g);const m=r.map(E=>ly(E)),y=C4(m);return tl(h,y),h.toUint8Array()},ex=(i,t,e=Fo,r=Ea)=>{const o=M1(t),u=new r,h=new hy(u),g=new e(Sr(i)),m=new cy(g,!1);for(;m.curr;){const E=m.curr,w=E.id.client,b=o.get(w)||0;if(m.curr.constructor===Kn){m.next();continue}if(E.id.clock+E.length>b)for(ir(h,E,Ia(b-E.id.clock,0)),m.next();m.curr&&m.curr.id.client===w;)ir(h,m.curr,0),m.next();else for(;m.curr&&m.curr.id.client===w&&m.curr.id.clock+m.curr.length<=b;)m.next()}fy(h);const y=ly(g);return tl(u,y),u.toUint8Array()},j1=i=>{i.written>0&&(i.clientStructs.push({written:i.written,restEncoder:ue(i.encoder.restEncoder)}),i.encoder.restEncoder=ln(),i.written=0)},ir=(i,t,e)=>{i.written>0&&i.currClient!==t.id.client&&j1(i),i.written===0&&(i.currClient=t.id.client,i.encoder.writeClient(t.id.client),dt(i.encoder.restEncoder,t.id.clock+e)),t.write(i.encoder,e),i.written++},fy=i=>{j1(i);const t=i.encoder.restEncoder;dt(t,i.clientStructs.length);for(let e=0;e<i.clientStructs.length;e++){const r=i.clientStructs[e];dt(t,r.written),qf(t,r.restEncoder)}},nx=(i,t,e,r)=>{const o=new e(Sr(i)),u=new cy(o,!1),h=new r,g=new hy(h);for(let y=u.curr;y!==null;y=u.next())ir(g,t(y),0);fy(g);const m=ly(o);return tl(h,m),h.toUint8Array()},ix=i=>nx(i,t4,Fo,Wu),NT="You must not compute changes after the event-handler fired.";class Yf{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=sx(this.currentTarget,this.target))}deletes(t){return I1(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Er(NT);const t=new Map,e=this.target;this.transaction.changed.get(e).forEach(o=>{if(o!==null){const u=e._map.get(o);let h,g;if(this.adds(u)){let m=u.left;for(;m!==null&&this.adds(m);)m=m.left;if(this.deletes(u))if(m!==null&&this.deletes(m))h="delete",g=dm(m.content.getContent());else return;else m!==null&&this.deletes(m)?(h="update",g=dm(m.content.getContent())):(h="add",g=void 0)}else if(this.deletes(u))h="delete",g=dm(u.content.getContent());else return;t.set(o,{action:h,oldValue:g})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw Er(NT);const e=this.target,r=vr(),o=vr(),u=[];if(t={added:r,deleted:o,delta:u,keys:this.keys},this.transaction.changed.get(e).has(null)){let g=null;const m=()=>{g&&u.push(g)};for(let y=e._start;y!==null;y=y.right)y.deleted?this.deletes(y)&&!this.adds(y)&&((g===null||g.delete===void 0)&&(m(),g={delete:0}),g.delete+=y.length,o.add(y)):this.adds(y)?((g===null||g.insert===void 0)&&(m(),g={insert:[]}),g.insert=g.insert.concat(y.content.getContent()),r.add(y)):((g===null||g.retain===void 0)&&(m(),g={retain:0}),g.retain+=y.length);g!==null&&g.retain===void 0&&m()}this._changes=t}return t}}const sx=(i,t)=>{const e=[];for(;t._item!==null&&t!==i;){if(t._item.parentSub!==null)e.unshift(t._item.parentSub);else{let r=0,o=t._item.parent._start;for(;o!==t._item&&o!==null;)!o.deleted&&o.countable&&(r+=o.length),o=o.right;e.unshift(r)}t=t._item.parent}return e},cn=()=>{A4("Invalid access: Add Yjs type to a document before reading data.")},H1=80;let dy=0;class rx{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=dy++}}const ax=i=>{i.timestamp=dy++},q1=(i,t,e)=>{i.p.marker=!1,i.p=t,t.marker=!0,i.index=e,i.timestamp=dy++},ox=(i,t,e)=>{if(i.length>=H1){const r=i.reduce((o,u)=>o.timestamp<u.timestamp?o:u);return q1(r,t,e),r}else{const r=new rx(t,e);return i.push(r),r}},Qf=(i,t)=>{if(i._start===null||t===0||i._searchMarker===null)return null;const e=i._searchMarker.length===0?null:i._searchMarker.reduce((u,h)=>Yh(t-u.index)<Yh(t-h.index)?u:h);let r=i._start,o=0;for(e!==null&&(r=e.p,o=e.index,ax(e));r.right!==null&&o<t;){if(!r.deleted&&r.countable){if(t<o+r.length)break;o+=r.length}r=r.right}for(;r.left!==null&&o>t;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);return e!==null&&Yh(e.index-o)<r.parent.length/H1?(q1(e,r,o),e):ox(i._searchMarker,r,o)},zu=(i,t,e)=>{for(let r=i.length-1;r>=0;r--){const o=i[r];if(e>0){let u=o.p;for(u.marker=!1;u&&(u.deleted||!u.countable);)u=u.left,u&&!u.deleted&&u.countable&&(o.index-=u.length);if(u===null||u.marker===!0){i.splice(r,1);continue}o.p=u,u.marker=!0}(t<o.index||e>0&&t===o.index)&&(o.index=Ia(t,o.index+e))}},Kf=(i,t,e)=>{const r=i,o=t.changedParentTypes;for(;Vi(o,i,()=>[]).push(e),i._item!==null;)i=i._item.parent;U1(r._eH,e,t)};class Je{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=bT(),this._dEH=bT(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw Ci()}clone(){throw Ci()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){AT(this._eH,t)}observeDeep(t){AT(this._dEH,t)}unobserve(t){RT(this._eH,t)}unobserveDeep(t){RT(this._dEH,t)}toJSON(){}}const F1=(i,t,e)=>{i.doc??cn(),t<0&&(t=i._length+t),e<0&&(e=i._length+e);let r=e-t;const o=[];let u=i._start;for(;u!==null&&r>0;){if(u.countable&&!u.deleted){const h=u.content.getContent();if(h.length<=t)t-=h.length;else{for(let g=t;g<h.length&&r>0;g++)o.push(h[g]),r--;t=0}}u=u.right}return o},G1=i=>{i.doc??cn();const t=[];let e=i._start;for(;e!==null;){if(e.countable&&!e.deleted){const r=e.content.getContent();for(let o=0;o<r.length;o++)t.push(r[o])}e=e.right}return t},Bu=(i,t)=>{let e=0,r=i._start;for(i.doc??cn();r!==null;){if(r.countable&&!r.deleted){const o=r.content.getContent();for(let u=0;u<o.length;u++)t(o[u],e++,i)}r=r.right}},Y1=(i,t)=>{const e=[];return Bu(i,(r,o)=>{e.push(t(r,o,i))}),e},lx=i=>{let t=i._start,e=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(e===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};e=t.content.getContent(),r=0,t=t.right}const o=e[r++];return e.length<=r&&(e=null),{done:!1,value:o}}}},Q1=(i,t)=>{i.doc??cn();const e=Qf(i,t);let r=i._start;for(e!==null&&(r=e.p,t-=e.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Ef=(i,t,e,r)=>{let o=e;const u=i.doc,h=u.clientID,g=u.store,m=e===null?t._start:e.right;let y=[];const E=()=>{y.length>0&&(o=new xe(Ut(h,Fe(g,h)),o,o&&o.lastId,m,m&&m.id,t,null,new wa(y)),o.integrate(i,0),y=[])};r.forEach(w=>{if(w===null)y.push(w);else switch(w.constructor){case Number:case Object:case Boolean:case Array:case String:y.push(w);break;default:switch(E(),w.constructor){case Uint8Array:case ArrayBuffer:o=new xe(Ut(h,Fe(g,h)),o,o&&o.lastId,m,m&&m.id,t,null,new tc(new Uint8Array(w))),o.integrate(i,0);break;case el:o=new xe(Ut(h,Fe(g,h)),o,o&&o.lastId,m,m&&m.id,t,null,new ec(w)),o.integrate(i,0);break;default:if(w instanceof Je)o=new xe(Ut(h,Fe(g,h)),o,o&&o.lastId,m,m&&m.id,t,null,new bs(w)),o.integrate(i,0);else throw new Error("Unexpected content type in insert operation")}}}),E()},K1=()=>Er("Length exceeded!"),X1=(i,t,e,r)=>{if(e>t._length)throw K1();if(e===0)return t._searchMarker&&zu(t._searchMarker,e,r.length),Ef(i,t,null,r);const o=e,u=Qf(t,e);let h=t._start;for(u!==null&&(h=u.p,e-=u.index,e===0&&(h=h.prev,e+=h&&h.countable&&!h.deleted?h.length:0));h!==null;h=h.right)if(!h.deleted&&h.countable){if(e<=h.length){e<h.length&&wr(i,Ut(h.id.client,h.id.clock+e));break}e-=h.length}return t._searchMarker&&zu(t._searchMarker,o,r.length),Ef(i,t,h,r)},ux=(i,t,e)=>{let o=(t._searchMarker||[]).reduce((u,h)=>h.index>u.index?h:u,{index:0,p:t._start}).p;if(o)for(;o.right;)o=o.right;return Ef(i,t,o,e)},$1=(i,t,e,r)=>{if(r===0)return;const o=e,u=r,h=Qf(t,e);let g=t._start;for(h!==null&&(g=h.p,e-=h.index);g!==null&&e>0;g=g.right)!g.deleted&&g.countable&&(e<g.length&&wr(i,Ut(g.id.client,g.id.clock+e)),e-=g.length);for(;r>0&&g!==null;)g.deleted||(r<g.length&&wr(i,Ut(g.id.client,g.id.clock+r)),g.delete(i),r-=g.length),g=g.right;if(r>0)throw K1();t._searchMarker&&zu(t._searchMarker,o,-u+r)},Tf=(i,t,e)=>{const r=t._map.get(e);r!==void 0&&r.delete(i)},gy=(i,t,e,r)=>{const o=t._map.get(e)||null,u=i.doc,h=u.clientID;let g;if(r==null)g=new wa([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:g=new wa([r]);break;case Uint8Array:g=new tc(r);break;case el:g=new ec(r);break;default:if(r instanceof Je)g=new bs(r);else throw new Error("Unexpected content type")}new xe(Ut(h,Fe(u.store,h)),o,o&&o.lastId,null,null,t,e,g).integrate(i,0)},my=(i,t)=>{i.doc??cn();const e=i._map.get(t);return e!==void 0&&!e.deleted?e.content.getContent()[e.length-1]:void 0},Z1=i=>{const t={};return i.doc??cn(),i._map.forEach((e,r)=>{e.deleted||(t[r]=e.content.getContent()[e.length-1])}),t},J1=(i,t)=>{i.doc??cn();const e=i._map.get(t);return e!==void 0&&!e.deleted},cx=(i,t)=>{const e={};return i._map.forEach((r,o)=>{let u=r;for(;u!==null&&(!t.sv.has(u.id.client)||u.id.clock>=(t.sv.get(u.id.client)||0));)u=u.left;u!==null&&Ro(u,t)&&(e[o]=u.content.getContent()[u.length-1])}),e},Mh=i=>(i.doc??cn(),R4(i._map.entries(),t=>!t[1].deleted));class hx extends Yf{}class fr extends Je{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new fr;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new fr}clone(){const t=new fr;return t.insert(0,this.toArray().map(e=>e instanceof Je?e.clone():e)),t}get length(){return this.doc??cn(),this._length}_callObserver(t,e){super._callObserver(t,e),Kf(this,t,new hx(this,t))}insert(t,e){this.doc!==null?se(this.doc,r=>{X1(r,this,t,e)}):this._prelimContent.splice(t,0,...e)}push(t){this.doc!==null?se(this.doc,e=>{ux(e,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,e=1){this.doc!==null?se(this.doc,r=>{$1(r,this,t,e)}):this._prelimContent.splice(t,e)}get(t){return Q1(this,t)}toArray(){return G1(this)}slice(t=0,e=this.length){return F1(this,t,e)}toJSON(){return this.map(t=>t instanceof Je?t.toJSON():t)}map(t){return Y1(this,t)}forEach(t){Bu(this,t)}[Symbol.iterator](){return lx(this)}_write(t){t.writeTypeRef(Ux)}}const fx=i=>new fr;class dx extends Yf{constructor(t,e,r){super(t,e),this.keysChanged=r}}class Ts extends Je{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach((r,o)=>{this.set(o,r)}),this._prelimContent=null}_copy(){return new Ts}clone(){const t=new Ts;return this.forEach((e,r)=>{t.set(r,e instanceof Je?e.clone():e)}),t}_callObserver(t,e){Kf(this,t,new dx(this,t,e))}toJSON(){this.doc??cn();const t={};return this._map.forEach((e,r)=>{if(!e.deleted){const o=e.content.getContent()[e.length-1];t[r]=o instanceof Je?o.toJSON():o}}),t}get size(){return[...Mh(this)].length}keys(){return _m(Mh(this),t=>t[0])}values(){return _m(Mh(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return _m(Mh(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??cn(),this._map.forEach((e,r)=>{e.deleted||t(e.content.getContent()[e.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?se(this.doc,e=>{Tf(e,this,t)}):this._prelimContent.delete(t)}set(t,e){return this.doc!==null?se(this.doc,r=>{gy(r,this,t,e)}):this._prelimContent.set(t,e),e}get(t){return my(this,t)}has(t){return J1(this,t)}clear(){this.doc!==null?se(this.doc,t=>{this.forEach(function(e,r,o){Tf(t,o,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(Lx)}}const gx=i=>new Ts,rr=(i,t)=>i===t||typeof i=="object"&&typeof t=="object"&&i&&t&&Jk(i,t);class ep{constructor(t,e,r,o){this.left=t,this.right=e,this.index=r,this.currentAttributes=o}forward(){switch(this.right===null&&ki(),this.right.content.constructor){case Ue:this.right.deleted||nl(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const OT=(i,t,e)=>{for(;t.right!==null&&e>0;){switch(t.right.content.constructor){case Ue:t.right.deleted||nl(t.currentAttributes,t.right.content);break;default:t.right.deleted||(e<t.right.length&&wr(i,Ut(t.right.id.client,t.right.id.clock+e)),t.index+=t.right.length,e-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},Vh=(i,t,e,r)=>{const o=new Map,u=r?Qf(t,e):null;if(u){const h=new ep(u.p.left,u.p,u.index,o);return OT(i,h,e-u.index)}else{const h=new ep(null,t._start,0,o);return OT(i,h,e)}},W1=(i,t,e,r)=>{for(;e.right!==null&&(e.right.deleted===!0||e.right.content.constructor===Ue&&rr(r.get(e.right.content.key),e.right.content.value));)e.right.deleted||r.delete(e.right.content.key),e.forward();const o=i.doc,u=o.clientID;r.forEach((h,g)=>{const m=e.left,y=e.right,E=new xe(Ut(u,Fe(o.store,u)),m,m&&m.lastId,y,y&&y.id,t,null,new Ue(g,h));E.integrate(i,0),e.right=E,e.forward()})},nl=(i,t)=>{const{key:e,value:r}=t;r===null?i.delete(e):i.set(e,r)},tb=(i,t)=>{for(;i.right!==null;){if(!(i.right.deleted||i.right.content.constructor===Ue&&rr(t[i.right.content.key]??null,i.right.content.value)))break;i.forward()}},eb=(i,t,e,r)=>{const o=i.doc,u=o.clientID,h=new Map;for(const g in r){const m=r[g],y=e.currentAttributes.get(g)??null;if(!rr(y,m)){h.set(g,y);const{left:E,right:w}=e;e.right=new xe(Ut(u,Fe(o.store,u)),E,E&&E.lastId,w,w&&w.id,t,null,new Ue(g,m)),e.right.integrate(i,0),e.forward()}}return h},Em=(i,t,e,r,o)=>{e.currentAttributes.forEach((b,D)=>{o[D]===void 0&&(o[D]=null)});const u=i.doc,h=u.clientID;tb(e,o);const g=eb(i,t,e,o),m=r.constructor===String?new Mi(r):r instanceof Je?new bs(r):new Ca(r);let{left:y,right:E,index:w}=e;t._searchMarker&&zu(t._searchMarker,e.index,m.getLength()),E=new xe(Ut(h,Fe(u.store,h)),y,y&&y.lastId,E,E&&E.id,t,null,m),E.integrate(i,0),e.right=E,e.index=w,e.forward(),W1(i,t,e,g)},kT=(i,t,e,r,o)=>{const u=i.doc,h=u.clientID;tb(e,o);const g=eb(i,t,e,o);t:for(;e.right!==null&&(r>0||g.size>0&&(e.right.deleted||e.right.content.constructor===Ue));){if(!e.right.deleted)switch(e.right.content.constructor){case Ue:{const{key:m,value:y}=e.right.content,E=o[m];if(E!==void 0){if(rr(E,y))g.delete(m);else{if(r===0)break t;g.set(m,y)}e.right.delete(i)}else e.currentAttributes.set(m,y);break}default:r<e.right.length&&wr(i,Ut(e.right.id.client,e.right.id.clock+r)),r-=e.right.length;break}e.forward()}if(r>0){let m="";for(;r>0;r--)m+=`
`;e.right=new xe(Ut(h,Fe(u.store,h)),e.left,e.left&&e.left.lastId,e.right,e.right&&e.right.id,t,null,new Mi(m)),e.right.integrate(i,0),e.forward()}W1(i,t,e,g)},nb=(i,t,e,r,o)=>{let u=t;const h=Tn();for(;u&&(!u.countable||u.deleted);){if(!u.deleted&&u.content.constructor===Ue){const y=u.content;h.set(y.key,y)}u=u.right}let g=0,m=!1;for(;t!==u;){if(e===t&&(m=!0),!t.deleted){const y=t.content;switch(y.constructor){case Ue:{const{key:E,value:w}=y,b=r.get(E)??null;(h.get(E)!==y||b===w)&&(t.delete(i),g++,!m&&(o.get(E)??null)===w&&b!==w&&(b===null?o.delete(E):o.set(E,b))),!m&&!t.deleted&&nl(o,y);break}}}t=t.right}return g},mx=(i,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const e=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Ue){const r=t.content.key;e.has(r)?t.delete(i):e.add(r)}t=t.left}},px=i=>{let t=0;return se(i.doc,e=>{let r=i._start,o=i._start,u=Tn();const h=Km(u);for(;o;){if(o.deleted===!1)switch(o.content.constructor){case Ue:nl(h,o.content);break;default:t+=nb(e,r,o,u,h),u=Km(h),r=o;break}o=o.right}}),t},yx=i=>{const t=new Set,e=i.doc;for(const[r,o]of i.afterState.entries()){const u=i.beforeState.get(r)||0;o!==u&&z1(i,e.store.clients.get(r),u,o,h=>{!h.deleted&&h.content.constructor===Ue&&h.constructor!==Qn&&t.add(h.parent)})}se(e,r=>{R1(i,i.deleteSet,o=>{if(o instanceof Qn||!o.parent._hasFormatting||t.has(o.parent))return;const u=o.parent;o.content.constructor===Ue?t.add(u):mx(r,o)});for(const o of t)px(o)})},xT=(i,t,e)=>{const r=e,o=Km(t.currentAttributes),u=t.right;for(;e>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case bs:case Ca:case Mi:e<t.right.length&&wr(i,Ut(t.right.id.client,t.right.id.clock+e)),e-=t.right.length,t.right.delete(i);break}t.forward()}u&&nb(i,u,t.right,o,t.currentAttributes);const h=(t.left||t.right).parent;return h._searchMarker&&zu(h._searchMarker,t.index,-r+e),t};class _x extends Yf{constructor(t,e,r){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(o=>{o===null?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,e=[];se(t,r=>{const o=new Map,u=new Map;let h=this.target._start,g=null;const m={};let y="",E=0,w=0;const b=()=>{if(g!==null){let D=null;switch(g){case"delete":w>0&&(D={delete:w}),w=0;break;case"insert":(typeof y=="object"||y.length>0)&&(D={insert:y},o.size>0&&(D.attributes={},o.forEach((U,X)=>{U!==null&&(D.attributes[X]=U)}))),y="";break;case"retain":E>0&&(D={retain:E},$k(m)||(D.attributes=Qk({},m))),E=0;break}D&&e.push(D),g=null}};for(;h!==null;){switch(h.content.constructor){case bs:case Ca:this.adds(h)?this.deletes(h)||(b(),g="insert",y=h.content.getContent()[0],b()):this.deletes(h)?(g!=="delete"&&(b(),g="delete"),w+=1):h.deleted||(g!=="retain"&&(b(),g="retain"),E+=1);break;case Mi:this.adds(h)?this.deletes(h)||(g!=="insert"&&(b(),g="insert"),y+=h.content.str):this.deletes(h)?(g!=="delete"&&(b(),g="delete"),w+=h.length):h.deleted||(g!=="retain"&&(b(),g="retain"),E+=h.length);break;case Ue:{const{key:D,value:U}=h.content;if(this.adds(h)){if(!this.deletes(h)){const X=o.get(D)??null;rr(X,U)?U!==null&&h.delete(r):(g==="retain"&&b(),rr(U,u.get(D)??null)?delete m[D]:m[D]=U)}}else if(this.deletes(h)){u.set(D,U);const X=o.get(D)??null;rr(X,U)||(g==="retain"&&b(),m[D]=X)}else if(!h.deleted){u.set(D,U);const X=m[D];X!==void 0&&(rr(X,U)?X!==null&&h.delete(r):(g==="retain"&&b(),U===null?delete m[D]:m[D]=U))}h.deleted||(g==="insert"&&b(),nl(o,h.content));break}}h=h.right}for(b();e.length>0;){const D=e[e.length-1];if(D.retain!==void 0&&D.attributes===void 0)e.pop();else break}}),this._delta=e}return this._delta}}class Go extends Je{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??cn(),this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Go}clone(){const t=new Go;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const r=new _x(this,t,e);Kf(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??cn();let t="",e=this._start;for(;e!==null;)!e.deleted&&e.countable&&e.content.constructor===Mi&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){this.doc!==null?se(this.doc,r=>{const o=new ep(null,this._start,0,new Map);for(let u=0;u<t.length;u++){const h=t[u];if(h.insert!==void 0){const g=!e&&typeof h.insert=="string"&&u===t.length-1&&o.right===null&&h.insert.slice(-1)===`
`?h.insert.slice(0,-1):h.insert;(typeof g!="string"||g.length>0)&&Em(r,this,o,g,h.attributes||{})}else h.retain!==void 0?kT(r,this,o,h.retain,h.attributes||{}):h.delete!==void 0&&xT(r,o,h.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,e,r){this.doc??cn();const o=[],u=new Map,h=this.doc;let g="",m=this._start;function y(){if(g.length>0){const w={};let b=!1;u.forEach((U,X)=>{b=!0,w[X]=U});const D={insert:g};b&&(D.attributes=w),o.push(D),g=""}}const E=()=>{for(;m!==null;){if(Ro(m,t)||e!==void 0&&Ro(m,e))switch(m.content.constructor){case Mi:{const w=u.get("ychange");t!==void 0&&!Ro(m,t)?(w===void 0||w.user!==m.id.client||w.type!=="removed")&&(y(),u.set("ychange",r?r("removed",m.id):{type:"removed"})):e!==void 0&&!Ro(m,e)?(w===void 0||w.user!==m.id.client||w.type!=="added")&&(y(),u.set("ychange",r?r("added",m.id):{type:"added"})):w!==void 0&&(y(),u.delete("ychange")),g+=m.content.str;break}case bs:case Ca:{y();const w={insert:m.content.getContent()[0]};if(u.size>0){const b={};w.attributes=b,u.forEach((D,U)=>{b[U]=D})}o.push(w);break}case Ue:Ro(m,t)&&(y(),nl(u,m.content));break}m=m.right}y()};return t||e?se(h,w=>{t&&Wm(w,t),e&&Wm(w,e),E()},"cleanup"):E(),o}insert(t,e,r){if(e.length<=0)return;const o=this.doc;o!==null?se(o,u=>{const h=Vh(u,this,t,!r);r||(r={},h.currentAttributes.forEach((g,m)=>{r[m]=g})),Em(u,this,h,e,r)}):this._pending.push(()=>this.insert(t,e,r))}insertEmbed(t,e,r){const o=this.doc;o!==null?se(o,u=>{const h=Vh(u,this,t,!r);Em(u,this,h,e,r||{})}):this._pending.push(()=>this.insertEmbed(t,e,r||{}))}delete(t,e){if(e===0)return;const r=this.doc;r!==null?se(r,o=>{xT(o,Vh(o,this,t,!0),e)}):this._pending.push(()=>this.delete(t,e))}format(t,e,r){if(e===0)return;const o=this.doc;o!==null?se(o,u=>{const h=Vh(u,this,t,!1);h.right!==null&&kT(u,this,h,e,r)}):this._pending.push(()=>this.format(t,e,r))}removeAttribute(t){this.doc!==null?se(this.doc,e=>{Tf(e,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,e){this.doc!==null?se(this.doc,r=>{gy(r,this,t,e)}):this._pending.push(()=>this.setAttribute(t,e))}getAttribute(t){return my(this,t)}getAttributes(){return Z1(this)}_write(t){t.writeTypeRef(Px)}}const vx=i=>new Go;class Tm{constructor(t,e=()=>!0){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??cn()}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(e)))do if(e=t.content.type,!t.deleted&&(e.constructor===Yo||e.constructor===Ta)&&e._start!==null)t=e._start;else for(;t!==null;){const r=t.next;if(r!==null){t=r;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class Ta extends Je{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ta}clone(){const t=new Ta;return t.insert(0,this.toArray().map(e=>e instanceof Je?e.clone():e)),t}get length(){return this.doc??cn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new Tm(this,t)}querySelector(t){t=t.toUpperCase();const r=new Tm(this,o=>o.nodeName&&o.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),vs(new Tm(this,e=>e.nodeName&&e.nodeName.toUpperCase()===t))}_callObserver(t,e){Kf(this,t,new wx(this,e,t))}toString(){return Y1(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},r){const o=t.createDocumentFragment();return r!==void 0&&r._createAssociation(o,this),Bu(this,u=>{o.insertBefore(u.toDOM(t,e,r),null)}),o}insert(t,e){this.doc!==null?se(this.doc,r=>{X1(r,this,t,e)}):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(this.doc!==null)se(this.doc,r=>{const o=t&&t instanceof Je?t._item:t;Ef(r,this,o,e)});else{const r=this._prelimContent,o=t===null?0:r.findIndex(u=>u===t)+1;if(o===0&&t!==null)throw Er("Reference item not found");r.splice(o,0,...e)}}delete(t,e=1){this.doc!==null?se(this.doc,r=>{$1(r,this,t,e)}):this._prelimContent.splice(t,e)}toArray(){return G1(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Q1(this,t)}slice(t=0,e=this.length){return F1(this,t,e)}forEach(t){Bu(this,t)}_write(t){t.writeTypeRef(Bx)}}const Ex=i=>new Ta;class Yo extends Ta{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach((r,o)=>{this.setAttribute(o,r)}),this._prelimAttrs=null}_copy(){return new Yo(this.nodeName)}clone(){const t=new Yo(this.nodeName),e=this.getAttributes();return Kk(e,(r,o)=>{typeof r=="string"&&t.setAttribute(o,r)}),t.insert(0,this.toArray().map(r=>r instanceof Je?r.clone():r)),t}toString(){const t=this.getAttributes(),e=[],r=[];for(const g in t)r.push(g);r.sort();const o=r.length;for(let g=0;g<o;g++){const m=r[g];e.push(m+'="'+t[m]+'"')}const u=this.nodeName.toLocaleLowerCase(),h=e.length>0?" "+e.join(" "):"";return`<${u}${h}>${super.toString()}</${u}>`}removeAttribute(t){this.doc!==null?se(this.doc,e=>{Tf(e,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,e){this.doc!==null?se(this.doc,r=>{gy(r,this,t,e)}):this._prelimAttrs.set(t,e)}getAttribute(t){return my(this,t)}hasAttribute(t){return J1(this,t)}getAttributes(t){return t?cx(this,t):Z1(this)}toDOM(t=document,e={},r){const o=t.createElement(this.nodeName),u=this.getAttributes();for(const h in u){const g=u[h];typeof g=="string"&&o.setAttribute(h,g)}return Bu(this,h=>{o.appendChild(h.toDOM(t,e,r))}),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(zx),t.writeKey(this.nodeName)}}const Tx=i=>new Yo(i.readKey());class wx extends Yf{constructor(t,e,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach(o=>{o===null?this.childListChanged=!0:this.attributesChanged.add(o)})}}class wf extends Ts{constructor(t){super(),this.hookName=t}_copy(){return new wf(this.hookName)}clone(){const t=new wf(this.hookName);return this.forEach((e,r)=>{t.set(r,e)}),t}toDOM(t=document,e={},r){const o=e[this.hookName];let u;return o!==void 0?u=o.createDom(this):u=document.createElement(this.hookName),u.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(u,this),u}_write(t){t.writeTypeRef(jx),t.writeKey(this.hookName)}}const Sx=i=>new wf(i.readKey());class Sf extends Go{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Sf}clone(){const t=new Sf;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,r){const o=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(o,this),o}toString(){return this.toDelta().map(t=>{const e=[];for(const o in t.attributes){const u=[];for(const h in t.attributes[o])u.push({key:h,value:t.attributes[o][h]});u.sort((h,g)=>h.key<g.key?-1:1),e.push({nodeName:o,attrs:u})}e.sort((o,u)=>o.nodeName<u.nodeName?-1:1);let r="";for(let o=0;o<e.length;o++){const u=e[o];r+=`<${u.nodeName}`;for(let h=0;h<u.attrs.length;h++){const g=u.attrs[h];r+=` ${g.key}="${g.value}"`}r+=">"}r+=t.insert;for(let o=e.length-1;o>=0;o--)r+=`</${e[o].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(Hx)}}const bx=i=>new Sf;class py{constructor(t,e){this.id=t,this.length=e}get deleted(){throw Ci()}mergeWith(t){return!1}write(t,e,r){throw Ci()}integrate(t,e){throw Ci()}}const Ax=0;class Qn extends py{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),P1(t.doc.store,this)}write(t,e){t.writeInfo(Ax),t.writeLen(this.length-e)}getMissing(t,e){return null}}class tc{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new tc(this.content)}splice(t){throw Ci()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}const Rx=i=>new tc(i.readBuf());class ju{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new ju(this.len)}splice(t){const e=new ju(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){_f(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}const Ix=i=>new ju(i.readLen()),ib=(i,t)=>new el({guid:i,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class ec{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),t.meta!==null&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new ec(ib(this.doc.guid,this.opts))}splice(t){throw Ci()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const Cx=i=>new ec(ib(i.readString(),i.readAny()));class Ca{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ca(this.embed)}splice(t){throw Ci()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}const Dx=i=>new Ca(i.readJSON());class Ue{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ue(this.key,this.value)}splice(t){throw Ci()}mergeWith(t){return!1}integrate(t,e){const r=e.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const Nx=i=>new Ue(i.readKey(),i.readJSON());class bf{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new bf(this.arr)}splice(t){const e=new bf(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const r=this.arr.length;t.writeLen(r-e);for(let o=e;o<r;o++){const u=this.arr[o];t.writeString(u===void 0?"undefined":JSON.stringify(u))}}getRef(){return 2}}const Ox=i=>{const t=i.readLen(),e=[];for(let r=0;r<t;r++){const o=i.readString();o==="undefined"?e.push(void 0):e.push(JSON.parse(o))}return new bf(e)},kx=yf("node_env")==="development";class wa{constructor(t){this.arr=t,kx&&m1(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new wa(this.arr)}splice(t){const e=new wa(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const r=this.arr.length;t.writeLen(r-e);for(let o=e;o<r;o++){const u=this.arr[o];t.writeAny(u)}}getRef(){return 8}}const xx=i=>{const t=i.readLen(),e=[];for(let r=0;r<t;r++)e.push(i.readAny());return new wa(e)};class Mi{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Mi(this.str)}splice(t){const e=new Mi(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"�",e.str="�"+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(e===0?this.str:this.str.slice(e))}getRef(){return 4}}const Mx=i=>new Mi(i.readString()),Vx=[fx,gx,vx,Tx,Ex,Sx,bx],Ux=0,Lx=1,Px=2,zx=3,Bx=4,jx=5,Hx=6;class bs{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new bs(this.type._copy())}splice(t){throw Ci()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;e!==null;)e.deleted?e.id.clock<(t.beforeState.get(e.id.client)||0)&&t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;e!==null;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const qx=i=>new bs(Vx[i.readTypeRef()](i)),Af=(i,t,e)=>{const{client:r,clock:o}=t.id,u=new xe(Ut(r,o+e),t,Ut(r,o+e-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(e));return t.deleted&&u.markDeleted(),t.keep&&(u.keep=!0),t.redone!==null&&(u.redone=Ut(t.redone.client,t.redone.clock+e)),t.right=u,u.right!==null&&(u.right.left=u),i._mergeStructs.push(u),u.parentSub!==null&&u.right===null&&u.parent._map.set(u.parentSub,u),t.length=e,u};class xe extends py{constructor(t,e,r,o,u,h,g,m){super(t,m.getLength()),this.origin=r,this.left=e,this.right=o,this.rightOrigin=u,this.parent=h,this.parentSub=g,this.redone=null,this.content=m,this.info=this.content.isCountable()?hT:0}set marker(t){(this.info&mm)>0!==t&&(this.info^=mm)}get marker(){return(this.info&mm)>0}get keep(){return(this.info&cT)>0}set keep(t){this.keep!==t&&(this.info^=cT)}get countable(){return(this.info&hT)>0}get deleted(){return(this.info&gm)>0}set deleted(t){this.deleted!==t&&(this.info^=gm)}markDeleted(){this.info|=gm}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Fe(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Fe(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ko&&this.id.client!==this.parent.client&&this.parent.clock>=Fe(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=IT(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=wr(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Qn||this.right&&this.right.constructor===Qn)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===xe?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===xe&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ko){const r=vm(e,this.parent);r.constructor===Qn?this.parent=null:this.parent=r.content.type}return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=IT(t,t.doc.store,Ut(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,o;if(r!==null)o=r.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;const u=new Set,h=new Set;for(;o!==null&&o!==this.right;){if(h.add(o),u.add(o),xh(this.origin,o.origin)){if(o.id.client<this.id.client)r=o,u.clear();else if(xh(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&h.has(vm(t.doc.store,o.origin)))u.has(vm(t.doc.store,o.origin))||(r=o,u.clear());else break;o=o.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),P1(t.doc.store,this),this.content.integrate(t,this),DT(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new Qn(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:Ut(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&xh(t.origin,this.lastId)&&this.right===t&&xh(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&this.parentSub===null&&(e._length-=this.length),this.markDeleted(),_f(t.deleteSet,this.id.client,this.id.clock,this.length),DT(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw ki();this.content.gc(t),e?K4(t,this,new Qn(this.id,this.length)):this.content=new ju(this.length)}write(t,e){const r=e>0?Ut(this.id.client,this.id.clock+e-1):this.origin,o=this.rightOrigin,u=this.parentSub,h=this.content.getRef()&Hf|(r===null?0:On)|(o===null?0:gs)|(u===null?0:Vu);if(t.writeInfo(h),r!==null&&t.writeLeftID(r),o!==null&&t.writeRightID(o),r===null&&o===null){const g=this.parent;if(g._item!==void 0){const m=g._item;if(m===null){const y=Y4(g);t.writeParentInfo(!0),t.writeString(y)}else t.writeParentInfo(!1),t.writeLeftID(m.id)}else g.constructor===String?(t.writeParentInfo(!0),t.writeString(g)):g.constructor===ko?(t.writeParentInfo(!1),t.writeLeftID(g)):ki();u!==null&&t.writeString(u)}this.content.write(t,e)}}const sb=(i,t)=>Fx[t&Hf](i),Fx=[()=>{ki()},Ix,Ox,Rx,Mx,Dx,Nx,qx,xx,Cx,()=>{ki()}],Gx=10;class Kn extends py{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){ki()}write(t,e){t.writeInfo(Gx),dt(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},ab="__ $YJS$ __";rb[ab]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");rb[ab]=!0;const ob=new Map;class Yx{constructor(t){this.room=t,this.onmessage=null,this._onChange=e=>e.key===t&&this.onmessage!==null&&this.onmessage({data:f4(e.newValue||"")}),Gk(this._onChange)}postMessage(t){f1.setItem(this.room,h4(a4(t)))}close(){Yk(this._onChange)}}const Qx=typeof BroadcastChannel>"u"?Yx:BroadcastChannel,yy=i=>Vi(ob,i,()=>{const t=vr(),e=new Qx(i);return e.onmessage=r=>t.forEach(o=>o(r.data,"broadcastchannel")),{bc:e,subs:t}}),Kx=(i,t)=>(yy(i).subs.add(t),t),Xx=(i,t)=>{const e=yy(i),r=e.subs.delete(t);return r&&e.subs.size===0&&(e.bc.close(),ob.delete(i)),r},Io=(i,t,e=null)=>{const r=yy(i);r.bc.postMessage(t),r.subs.forEach(o=>o(t,e))},lb=0,_y=1,ub=2,np=(i,t)=>{dt(i,lb);const e=F4(t);Ee(i,e)},cb=(i,t,e)=>{dt(i,_y),Ee(i,B4(t,e))},$x=(i,t,e)=>cb(t,e,an(i)),hb=(i,t,e)=>{try{L4(t,an(i),e)}catch(r){console.error("Caught error while handling a Yjs update",r)}},Zx=(i,t)=>{dt(i,ub),Ee(i,t)},Jx=hb,Wx=(i,t,e,r)=>{const o=At(i);switch(o){case lb:$x(i,t,e);break;case _y:hb(i,e,r);break;case ub:Jx(i,e,r);break;default:throw new Error("Unknown message type")}return o},tM=0,eM=(i,t,e)=>{switch(At(i)){case tM:e(t,hr(i))}},wm=3e4;class nM extends r1{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=va();this.getLocalState()!==null&&wm/2<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((o,u)=>{u!==this.clientID&&wm<=e-o.lastUpdated&&this.states.has(u)&&r.push(u)}),r.length>0&&vy(this,r,"timeout")},Es(wm/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const e=this.clientID,r=this.meta.get(e),o=r===void 0?0:r.clock+1,u=this.states.get(e);t===null?this.states.delete(e):this.states.set(e,t),this.meta.set(e,{clock:o,lastUpdated:va()});const h=[],g=[],m=[],y=[];t===null?y.push(e):u==null?t!=null&&h.push(e):(g.push(e),Su(u,t)||m.push(e)),(h.length>0||m.length>0||y.length>0)&&this.emit("change",[{added:h,updated:m,removed:y},"local"]),this.emit("update",[{added:h,updated:g,removed:y},"local"])}setLocalStateField(t,e){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[t]:e})}getStates(){return this.states}}const vy=(i,t,e)=>{const r=[];for(let o=0;o<t.length;o++){const u=t[o];if(i.states.has(u)){if(i.states.delete(u),u===i.clientID){const h=i.meta.get(u);i.meta.set(u,{clock:h.clock+1,lastUpdated:va()})}r.push(u)}}r.length>0&&(i.emit("change",[{added:[],updated:[],removed:r},e]),i.emit("update",[{added:[],updated:[],removed:r},e]))},bu=(i,t,e=i.states)=>{const r=t.length,o=ln();dt(o,r);for(let u=0;u<r;u++){const h=t[u],g=e.get(h)||null,m=i.meta.get(h).clock;dt(o,h),dt(o,m),da(o,JSON.stringify(g))}return ue(o)},iM=(i,t,e)=>{const r=Sr(t),o=va(),u=[],h=[],g=[],m=[],y=At(r);for(let E=0;E<y;E++){const w=At(r);let b=At(r);const D=JSON.parse(hr(r)),U=i.meta.get(w),X=i.states.get(w),W=U===void 0?0:U.clock;(W<b||W===b&&D===null&&i.states.has(w))&&(D===null?w===i.clientID&&i.getLocalState()!=null?b++:i.states.delete(w):i.states.set(w,D),i.meta.set(w,{clock:b,lastUpdated:o}),U===void 0&&D!==null?u.push(w):U!==void 0&&D===null?m.push(w):D!==null&&(Su(D,X)||g.push(w),h.push(w)))}(u.length>0||g.length>0||m.length>0)&&i.emit("change",[{added:u,updated:g,removed:m},e]),(u.length>0||h.length>0||m.length>0)&&i.emit("update",[{added:u,updated:h,removed:m},e])},sM=i=>Xk(i,(t,e)=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),ca=0,fb=3,xo=1,rM=2,nc=[];nc[ca]=(i,t,e,r,o)=>{dt(i,ca);const u=Wx(t,i,e.doc,e);r&&u===_y&&!e.synced&&(e.synced=!0)};nc[fb]=(i,t,e,r,o)=>{dt(i,xo),Ee(i,bu(e.awareness,Array.from(e.awareness.getStates().keys())))};nc[xo]=(i,t,e,r,o)=>{iM(e.awareness,an(t),e)};nc[rM]=(i,t,e,r,o)=>{eM(t,e.doc,(u,h)=>aM(e,h))};const MT=3e4,aM=(i,t)=>console.warn(`Permission denied to access ${i.url}.
${t}`),db=(i,t,e)=>{const r=Sr(t),o=ln(),u=At(r),h=i.messageHandlers[u];return h?h(o,r,i,e,u):console.error("Unable to compute message"),o},gb=i=>{if(i.shouldConnect&&i.ws===null){const t=new i._WS(i.url);t.binaryType="arraybuffer",i.ws=t,i.wsconnecting=!0,i.wsconnected=!1,i.synced=!1,t.onmessage=e=>{i.wsLastMessageReceived=va();const r=db(i,new Uint8Array(e.data),!0);Jp(r)>1&&t.send(ue(r))},t.onerror=e=>{i.emit("connection-error",[e,i])},t.onclose=e=>{i.emit("connection-close",[e,i]),i.ws=null,i.wsconnecting=!1,i.wsconnected?(i.wsconnected=!1,i.synced=!1,vy(i.awareness,Array.from(i.awareness.getStates().keys()).filter(r=>r!==i.doc.clientID),i),i.emit("status",[{status:"disconnected"}])):i.wsUnsuccessfulReconnects++,setTimeout(gb,Zp(fk(2,i.wsUnsuccessfulReconnects)*100,i.maxBackoffTime),i)},t.onopen=()=>{i.wsLastMessageReceived=va(),i.wsconnecting=!1,i.wsconnected=!0,i.wsUnsuccessfulReconnects=0,i.emit("status",[{status:"connected"}]);const e=ln();if(dt(e,ca),np(e,i.doc),t.send(ue(e)),i.awareness.getLocalState()!==null){const r=ln();dt(r,xo),Ee(r,bu(i.awareness,[i.doc.clientID])),t.send(ue(r))}},i.emit("status",[{status:"connecting"}])}},Sm=(i,t)=>{const e=i.ws;i.wsconnected&&e&&e.readyState===e.OPEN&&e.send(t),i.bcconnected&&Io(i.bcChannel,t,i)};class oM extends r1{constructor(t,e,r,{connect:o=!0,awareness:u=new nM(r),params:h={},WebSocketPolyfill:g=WebSocket,resyncInterval:m=-1,maxBackoffTime:y=2500,disableBc:E=!1}={}){for(super();t[t.length-1]==="/";)t=t.slice(0,t.length-1);const w=sM(h);this.maxBackoffTime=y,this.bcChannel=t+"/"+e,this.url=t+"/"+e+(w.length===0?"":"?"+w),this.roomname=e,this.doc=r,this._WS=g,this.awareness=u,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=E,this.wsUnsuccessfulReconnects=0,this.messageHandlers=nc.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=o,this._resyncInterval=0,m>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const b=ln();dt(b,ca),np(b,r),this.ws.send(ue(b))}},m)),this._bcSubscriber=(b,D)=>{if(D!==this){const U=db(this,new Uint8Array(b),!1);Jp(U)>1&&Io(this.bcChannel,ue(U),this)}},this._updateHandler=(b,D)=>{if(D!==this){const U=ln();dt(U,ca),Zx(U,b),Sm(this,ue(U))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:b,updated:D,removed:U},X)=>{const W=b.concat(D).concat(U),mt=ln();dt(mt,xo),Ee(mt,bu(u,W)),Sm(this,ue(mt))},this._exitHandler=()=>{vy(this.awareness,[r.clientID],"app closed")},Tr&&typeof process<"u"&&process.on("exit",this._exitHandler),u.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&MT<va()-this.wsLastMessageReceived&&this.ws.close()},MT/10),o&&this.connect()}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),Tr&&typeof process<"u"&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(Kx(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const t=ln();dt(t,ca),np(t,this.doc),Io(this.bcChannel,ue(t),this);const e=ln();dt(e,ca),cb(e,this.doc),Io(this.bcChannel,ue(e),this);const r=ln();dt(r,fb),Io(this.bcChannel,ue(r),this);const o=ln();dt(o,xo),Ee(o,bu(this.awareness,[this.doc.clientID])),Io(this.bcChannel,ue(o),this)}disconnectBc(){const t=ln();dt(t,xo),Ee(t,bu(this.awareness,[this.doc.clientID],new Map)),Sm(this,ue(t)),this.bcconnected&&(Xx(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(gb(this),this.connectBc())}}const us=new el,ne=us.getArray("comments");us.getMap("users");const lM=(i,t,e)=>{const r=new oM("wss://yjs-server.onrender.com",e,i);return r.awareness||(r.awareness={states:new Map,setLocalState:()=>{},getLocalState:()=>({}),on:()=>{},off:()=>{},emit:()=>{}}),r},rn=i=>{var t,e;return i instanceof Ts?{text:i.get("text"),author:i.get("author"),timestamp:i.get("timestamp"),id:i.get("id"),replies:((t=i.get("replies"))==null?void 0:t.toArray().map(rn))||[],isEditing:i.get("isEditing")||!1,mentions:i.get("mentions")||[]}:{text:i.text,author:i.author,timestamp:i.timestamp,id:i.id,replies:((e=i.replies)==null?void 0:e.map(rn))||[],isEditing:i.isEditing||!1,mentions:i.mentions||[]}},uM=(i,t,e=[],r=!1)=>{const o=new Ts;return o.set("text",i),o.set("author",t),o.set("timestamp",new Date().toISOString()),o.set("id",Date.now().toString()),o.set("replies",new fr),o.set("isEditing",r),o.set("mentions",e),o},mb=i=>{var r;const t=new Ts;t.set("text",i.text),t.set("author",i.author),t.set("timestamp",i.timestamp),t.set("id",i.id),t.set("isEditing",i.isEditing||!1),t.set("mentions",i.mentions||[]);const e=new fr;return(r=i.replies)==null||r.forEach(o=>{e.push([mb(o)])}),t.set("replies",e),t},ip=(i,t)=>{for(const e of t){if(e.id===i)return{author:e.author,comment:e,isReply:!1};if(e.replies&&e.replies.length>0){const r=ip(i,e.replies);if(r)return r.comment.id===i?{author:r.comment.author,comment:r.comment,parent:e,isReply:!0}:r}}return null},cM=(i,t)=>{i.awareness.setLocalState({user:t,cursor:null,activeComment:null,lastActive:Date.now()});const e=setInterval(()=>{i.awareness.setLocalState({...i.awareness.getLocalState(),lastActive:Date.now()})},3e4);return()=>clearInterval(e)},hM=i=>Array.from(i.awareness.getStates().values()).filter(e=>(e==null?void 0:e.user)&&Date.now()-e.lastActive<12e4).map(e=>e.user),VT=(i,t)=>{const e=i.awareness.getLocalState();i.awareness.setLocalState({...e,cursor:t})},Uh=(i,t)=>{const e=i.awareness.getLocalState();i.awareness.setLocalState({...e,activeComment:t})},pb=(i,t,e,r,o)=>({id:Date.now().toString(),type:i,commentId:t.id,author:e,recipientId:r,timestamp:new Date().toISOString(),read:!1,content:o}),fM=(i,t,e,r)=>{const o=[];return i.mentions&&i.mentions.forEach(u=>{const h=e.find(g=>g.id===u.userId);h&&h.id!==t.id&&(r.some(m=>m.type==="mention"&&m.commentId===i.id&&m.recipientId===h.id)||o.push(pb("mention",i,t,h.id,i.text.substring(u.position,u.position+u.length))))}),o},dM=(i,t,e,r)=>{const o=[];return t.author.id!==e.id&&(r.some(h=>h.type==="reply"&&h.commentId===t.id&&h.author.id===e.id&&h.recipientId===t.author.id)||o.push(pb("reply",t,e,t.author.id,i.text))),o},gM=(i,t,e)=>{if(!t.length)return i;const r=[];let o=0;return[...t].sort((h,g)=>h.position-g.position).forEach(h=>{h.position>o&&r.push(i.substring(o,h.position));const g=e.find(m=>m.id===h.userId);g?r.push(`<span class="mention" data-user-id="${g.id}" style="color: ${g.color}; font-weight: bold;">@${g.name}</span>`):r.push(i.substring(h.position,h.position+h.length)),o=h.position+h.length}),o<i.length&&r.push(i.substring(o)),r.join("")},mM=({comments:i,user:t,users:e,replyingTo:r,setReplyingTo:o,replyText:u,onReplyChange:h,editingComment:g,setEditingComment:m,onAddComment:y,onDeleteComment:E,onStartEditing:w,onSaveEdit:b,onCancelEdit:D,onReplyKeyPress:U})=>{const X=(W=[],mt=0,ut)=>W.map(it=>{if(!it||!it.id)return null;const Et=Array.isArray(it.replies)?it.replies:[],gt=it.author.id===t.id,It=(g==null?void 0:g.id)===it.id,k=it.mentions||[];return tt.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden animate-fadeIn ${mt>0?"ml-6 mt-2":"mt-4"} transition-all duration-200 hover:shadow-md`,children:tt.jsxs("div",{className:"p-4",children:[tt.jsxs("div",{className:"flex items-center justify-between mb-2",children:[tt.jsxs("div",{className:"flex items-center space-x-2",children:[it.author.avatar?tt.jsx("img",{src:it.author.avatar,alt:it.author.name,className:"h-8 w-8 rounded-full object-cover"}):tt.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:it.author.color},children:it.author.name.charAt(0).toUpperCase()}),tt.jsxs("div",{children:[tt.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[it.author.name,gt&&tt.jsx("span",{className:"ml-1 text-xs text-blue-600",children:"(you)"})]}),tt.jsx("span",{className:"text-xs text-gray-500",children:new Date(it.timestamp).toLocaleString()})]})]}),gt&&!It&&tt.jsxs("div",{className:"flex space-x-2",children:[tt.jsx("button",{onClick:()=>w(it),className:"text-xs text-gray-500 hover:text-blue-600 transition-colors",title:"Edit",children:tt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:tt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),tt.jsx("button",{onClick:()=>E(it.id,mt>0,ut),className:"text-xs text-gray-500 hover:text-red-600 transition-colors",title:"Delete",children:tt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:tt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),It?tt.jsxs("div",{className:"pl-10",children:[tt.jsx("textarea",{value:(g==null?void 0:g.text)||"",onChange:A=>m({...g,text:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none",autoFocus:!0}),tt.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[tt.jsx("button",{onClick:D,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),tt.jsx("button",{onClick:b,disabled:!(g!=null&&g.text.trim()),className:`px-3 py-1 rounded-md text-sm font-medium ${g!=null&&g.text.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Save"})]})]}):tt.jsxs("div",{className:"pl-10",children:[tt.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:gM(it.text,k,e)}}),k.length>0&&tt.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Mentioned: ",k.map(A=>A.userName).join(", ")]})]}),tt.jsxs("div",{className:"flex items-center mt-3 pl-10",children:[tt.jsxs("button",{onClick:()=>o(it.id===r?null:it.id),className:"flex items-center text-blue-500 hover:text-blue-700 text-xs transition-colors",children:[tt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:tt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),it.id===r?"Cancel":"Reply"]}),Et.length>0&&tt.jsxs("span",{className:"ml-3 text-xs text-gray-500",children:[Et.length," ",Et.length===1?"reply":"replies"]})]}),Et.length>0&&tt.jsx("div",{className:"mt-2",children:X(Et,mt+1,it.id)}),r===it.id&&tt.jsxs("div",{className:"mt-3 pl-10",children:[tt.jsx("textarea",{value:u,onChange:h,onKeyPress:U,placeholder:"Write your reply...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none",autoFocus:!0}),tt.jsxs("div",{className:"flex justify-end space-x-2 mt-1",children:[tt.jsx("button",{onClick:()=>o(null),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),tt.jsx("button",{onClick:y,disabled:!u.trim(),className:`px-3 py-1 rounded-md text-sm font-medium ${u.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Reply"})]})]})]})},it.id)});return tt.jsx("div",{className:"space-y-4",children:X(i)})},pM=({users:i,currentUser:t})=>tt.jsxs("div",{className:"flex items-center",children:[tt.jsx("div",{className:"flex -space-x-2",children:i.filter(e=>e.id!==t.id).map(e=>tt.jsxs("div",{className:"relative",title:e.name,children:[tt.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white font-medium border-2 border-white",style:{backgroundColor:e.color},children:e.name.charAt(0).toUpperCase()}),tt.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]},e.id))}),i.length>1&&tt.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[i.length-1," ",i.length===2?"person":"people"," online"]})]}),yM=({notifications:i,onMarkAsRead:t,onClearAll:e,onClose:r,currentUserId:o})=>{const u=i.filter(y=>y.recipientId===o&&y.author.id!==o),h=y=>{t(y.id),console.log("Notification clicked:",y)},g=y=>{switch(y.type){case"mention":return`${y.author.name} mentioned you`;case"reply":return`${y.author.name} replied to your comment`;default:return"New notification"}},m=u.some(y=>!y.read);return tt.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[tt.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[tt.jsx("h3",{className:"font-medium text-gray-900",children:"Notifications"}),tt.jsxs("div",{className:"flex items-center space-x-2",children:[m&&tt.jsx("button",{onClick:e,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),tt.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:tt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:tt.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),tt.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:u.map(y=>tt.jsx("div",{onClick:()=>h(y),className:`p-4 hover:bg-gray-50 cursor-pointer ${y.read?"":"bg-blue-50"}`,children:tt.jsxs("div",{className:"flex items-start",children:[tt.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white font-medium mr-3",style:{backgroundColor:y.author.color},children:y.author.name.charAt(0).toUpperCase()}),tt.jsxs("div",{className:"flex-1",children:[tt.jsx("p",{className:"text-sm font-medium text-gray-900",children:g(y)}),y.content?tt.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",children:y.content}):tt.jsx("p",{className:"text-sm text-gray-400 mt-1 italic",children:"No preview available"}),tt.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(y.timestamp).toLocaleString()})]}),!y.read&&tt.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]})},y.id))})]})};function _M(i){let t=0;for(let r=0;r<i.length;r++)t=i.charCodeAt(r)+((t<<5)-t);return`hsl(${Math.abs(t)%360}, 70%, 60%)`}const vM=async(i,t)=>{await WD(gS(i1,"chatRooms",i),{comments:t,updatedAt:Date.now()})},EM=async i=>{const t=await ZD(gS(i1,"chatRooms",i));return t.exists()?t.data().comments:[]};function TM(){const{currentUser:i,loginWithGoogle:t}=ak(),[e,r]=me.useState([]),[o,u]=me.useState(""),[h,g]=me.useState(null),[m,y]=me.useState([]),[E,w]=me.useState(!1),[b,D]=me.useState(null),[U,X]=me.useState(null),[W,mt]=me.useState(""),[ut,it]=me.useState(null),[Et,gt]=me.useState([]),[It,k]=me.useState(!1),[A,I]=me.useState(null);me.useEffect(()=>{var B;if(i){const K={id:i.uid,name:i.displayName||((B=i.email)==null?void 0:B.split("@")[0])||"Anonymous",color:_M(i.uid),avatar:i.photoURL||void 0};g(K)}},[i]),me.useEffect(()=>{if(!h)return;(async()=>{try{const K=await EM("comment-room-yjs");us.transact(()=>{ne.delete(0,ne.length),K.forEach(ct=>{ne.push([mb(ct)])})});const J=lM(us,h,"comment-room-yjs");I(J),cM(J,h),J.on("status",ct=>{w(ct.status==="connected")});const rt=()=>{r(ne.toArray().map(rn))};return ne.observe(rt),()=>ne.unobserve(rt)}catch(K){X("Failed to initialize connection. Please refresh the page."),console.error("Initialization error:",K)}})()},[h]),me.useEffect(()=>{if(!A)return;const B=()=>{const K=ne.toArray().map(J=>J.toJSON());vM("comment-room-yjs",K)};return ne.observeDeep(B),()=>ne.unobserveDeep(B)},[A]),me.useEffect(()=>{if(!A||!h)return;const B=()=>{y(hM(A))};return A.awareness.on("change",B),()=>A.awareness.off("change",B)},[A,h]);const x=B=>{const K=B.target.value;u(K),A&&VT(A,{x:B.target.selectionStart,y:0})},M=B=>{mt(B.target.value),A&&VT(A,{x:B.target.selectionStart,y:0})},L=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),b||he())},C=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),he())},he=()=>{if(!h)return;const B=b?W.trim():o.trim();if(!B)return;const K=uM(B,h);us.transact(()=>{if(b){if(ip(b,ne.toArray().map(rn))){const ct=ne.toArray().findIndex(at=>rn(at).id===b);if(ct!==-1){const at=ne.get(ct);at.get("replies").push([K]);const Ht=rn(at),pn=dM(rn(K),Ht,h,Et).map(kn=>({...kn,recipientId:Ht.author.id}));gt(kn=>[...kn,...pn])}}}else ne.push([K]);const J=fM(rn(K),h,m,Et).map(rt=>{const ct=K.get("mentions").find(at=>rt.content===K.get("text").substring(at.position,at.position+at.length));return{...rt,recipientId:ct.userId}});gt(rt=>[...rt,...J])}),mt(""),D(null),u(""),A&&Uh(A,null)},re=B=>{!h||B.author.id!==h.id||(it({id:B.id,text:B.text}),A&&Uh(A,B.id),us.transact(()=>{let K=ne.toArray().findIndex(J=>rn(J).id===B.id);if(K!==-1)ne.get(K).set("isEditing",!0);else for(let J=0;J<ne.length;J++){const ct=ne.get(J).get("replies"),at=ct.toArray().findIndex(Qt=>rn(Qt).id===B.id);if(at!==-1){ct.get(at).set("isEditing",!0);break}}}))},G=()=>{!ut||!h||(us.transact(()=>{let B=ne.toArray().findIndex(K=>rn(K).id===ut.id);if(B!==-1){const K=ne.get(B);K.set("text",ut.text),K.set("isEditing",!1),K.set("updatedAt",new Date().toISOString())}else for(let K=0;K<ne.length;K++){const rt=ne.get(K).get("replies"),ct=rt.toArray().findIndex(at=>rn(at).id===ut.id);if(ct!==-1){const at=rt.get(ct);at.set("text",ut.text),at.set("isEditing",!1),at.set("updatedAt",new Date().toISOString());break}}}),it(null),A&&Uh(A,null))},st=()=>{us.transact(()=>{if(ut){const B=ne.toArray().findIndex(K=>rn(K).id===ut.id);B!==-1&&ne.get(B).set("isEditing",!1)}}),it(null),A&&Uh(A,null)},ht=(B,K=!1,J)=>{if(!h)return;const rt=ip(B,e);!rt||rt.author.id!==h.id||window.confirm("Are you sure you want to delete this comment?")&&us.transact(()=>{if(K&&J){const ct=ne.toArray().findIndex(at=>rn(at).id===J);if(ct!==-1){const Qt=ne.get(ct).get("replies"),Ht=Qt.toArray().findIndex(pn=>rn(pn).id===B);Ht!==-1&&Qt.delete(Ht,1)}}else{const ct=ne.toArray().findIndex(at=>rn(at).id===B);ct!==-1&&ne.delete(ct,1)}})},jt=B=>{gt(Et.map(K=>K.id===B?{...K,read:!0}:K))},N=()=>{gt(Et.map(B=>({...B,read:!0})))};return h?U?tt.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:tt.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[tt.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error"}),tt.jsx("p",{className:"text-gray-700 mb-4",children:U}),tt.jsx("button",{onClick:()=>X(null),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):tt.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[tt.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[tt.jsxs("div",{className:"flex items-center justify-between",children:[tt.jsxs("div",{children:[tt.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real-Time Discussion"}),tt.jsxs("div",{className:"flex items-center mt-1",children:[tt.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${E?"bg-green-500":"bg-red-500"}`}),tt.jsx("span",{className:"text-sm text-gray-600",children:E?`Connected as ${h.name}`:"Connecting..."})]})]}),tt.jsxs("div",{className:"flex items-center space-x-4",children:[tt.jsx(pM,{users:m,currentUser:h}),tt.jsxs("button",{onClick:()=>k(!It),className:"relative",children:[tt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:tt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Et.filter(B=>!B.read&&B.recipientId===h.id).length>0&&tt.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:Et.filter(B=>!B.read&&B.recipientId===h.id).length})]})]})]}),It&&tt.jsx(yM,{notifications:Et.filter(B=>B.recipientId===h.id),onMarkAsRead:jt,onClearAll:N,onClose:()=>k(!1),currentUserId:h.id}),!b&&tt.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-200 hover:shadow-md",children:[tt.jsx("div",{className:"p-1",children:tt.jsx("textarea",{value:o,onChange:x,onKeyPress:L,placeholder:"Share your thoughts...",rows:3,className:"w-full px-4 py-3 focus:outline-none resize-none"})}),tt.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-4 py-2 border-t border-gray-200",children:[tt.jsx("span",{className:"text-xs text-gray-500",children:"Press Enter to post"}),tt.jsx("button",{onClick:he,disabled:!o.trim(),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${o.trim()?"bg-blue-600 text-white shadow hover:bg-blue-700 hover:shadow-md":"bg-gray-200 text-black cursor-not-allowed"}`,children:"Post Comment"})]})]}),tt.jsx("div",{className:"space-y-4",children:e.length===0?tt.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center transition-all duration-200 hover:shadow-md",children:[tt.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:tt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),tt.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No comments yet"}),tt.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Be the first to share what you think!"})]}):tt.jsx(mM,{comments:e,user:h,users:m,replyingTo:b,setReplyingTo:D,replyText:W,onReplyChange:M,onReplyKeyPress:C,editingComment:ut,setEditingComment:it,onAddComment:he,onDeleteComment:ht,onStartEditing:re,onSaveEdit:G,onCancelEdit:st})})]}),tt.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
        .mention {
          color: #3b82f6;
          font-weight: bold;
        }
      `})]}):tt.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:tt.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md text-center",children:[tt.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Please sign in to participate in the discussion"}),tt.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be authenticated to view and post comments."}),tt.jsx("button",{onClick:t,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Sign in with Google"})]})})}function wM(){return tt.jsx("div",{className:" bg-gray-50 ",children:tt.jsx(rk,{children:tt.jsx(TM,{})})})}$A.createRoot(document.getElementById("root")).render(tt.jsx(me.StrictMode,{children:tt.jsx(wM,{})}));
